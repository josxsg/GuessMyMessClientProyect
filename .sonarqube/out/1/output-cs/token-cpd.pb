’
çC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\Properties\AssemblyInfo.cs
[

 
assembly

 	
:

	 

AssemblyTitle

 
(

 
$str

 ,
)

, -
]

- .
[ 
assembly 	
:	 

AssemblyDescription 
( 
$str !
)! "
]" #
[ 
assembly 	
:	 
!
AssemblyConfiguration  
(  !
$str! #
)# $
]$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str .
). /
]/ 0
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
["" 
assembly"" 	
:""	 

	ThemeInfo"" 
("" &
ResourceDictionaryLocation## 
.## 
None## #
,### $&
ResourceDictionaryLocation&& 
.&& 
SourceAssembly&& -
))) 
])) 
[33 
assembly33 	
:33	 

AssemblyVersion33 
(33 
$str33 $
)33$ %
]33% &
[44 
assembly44 	
:44	 

AssemblyFileVersion44 
(44 
$str44 (
)44( )
]44) *ﬂ
¶C:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\View\WaitingRoom\WaitingRoomPublicMatchView.xaml.cs
	namespace 	
GuessMyMessClient
 
. 
View  
.  !
WaitingRoom! ,
{ 
public 

partial 
class &
WaitingRoomPublicMatchView 3
:4 5
Window6 <
{ 
public &
WaitingRoomPublicMatchView )
() *
)* +
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. 
DataContext 
= 
new "+
WaitingRoomPublicMatchViewModel# B
(B C
)C D
;D E
} 	
} 
} ˛
™C:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\View\WaitingRoom\WaitingRoomPublicMatchHostView.xaml.cs
	namespace 	
GuessMyMessClient
 
. 
View  
.  !
WaitingRoom! ,
{ 
public 

partial 
class *
WaitingRoomPublicMatchHostView 7
:8 9
Window: @
{ 
public *
WaitingRoomPublicMatchHostView -
(- .
). /
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. 
DataContext 
= 
new "/
#WaitingRoomPublicMatchHostViewModel# F
(F G
)G H
;H I
;J K
} 	
} 
} É
ØC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\View\WaitingRoom\WaitingRoomPublicMatchCountDownView.xaml.cs
	namespace 	
GuessMyMessClient
 
. 
View  
.  !
WaitingRoom! ,
{ 
public 

partial 
class /
#WaitingRoomPublicMatchCountDownView <
:= >
Window? E
{ 
public /
#WaitingRoomPublicMatchCountDownView 2
(2 3
)3 4
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. 
DataContext 
= 
new "4
(WaitingRoomPublicMatchCountDownViewModel# K
(K L
)L M
;M N
} 	
} 
} „
ßC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\View\WaitingRoom\WaitingRoomPrivateMatchView.xaml.cs
	namespace 	
GuessMyMessClient
 
. 
View  
.  !
WaitingRoom! ,
{ 
public 

partial 
class '
WaitingRoomPrivateMatchView 4
:5 6
Window7 =
{ 
public '
WaitingRoomPrivateMatchView *
(* +
)+ ,
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. 
DataContext 
= 
new ",
 WaitingRoomPrivateMatchViewModel# C
(C D
)D E
;E F
} 	
} 
} Û
´C:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\View\WaitingRoom\WaitingRoomPrivateMatchHostView.xaml.cs
	namespace 	
GuessMyMessClient
 
. 
View  
.  !
WaitingRoom! ,
{ 
public 

partial 
class +
WaitingRoomPrivateMatchHostView 8
:9 :
Window; A
{ 
public +
WaitingRoomPrivateMatchHostView .
(. /
)/ 0
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. 
DataContext 
= 
new "0
$WaitingRoomPrivateMatchHostViewModel# G
(G H
)H I
;I J
} 	
} 
} Ø
óC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\View\Match\WordSelectionView.xaml.cs
	namespace 	
GuessMyMessClient
 
. 
View  
.  !
Match! &
{ 
public 

partial 
class 
WordSelectionView *
:+ ,
Window- 3
{ 
public 
WordSelectionView  
(  !
)! "
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. 
DataContext 
= 
new ""
WordSelectionViewModel# 9
(9 :
): ;
;; <
} 	
} 
} ´
ñC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\View\Match\GuessTheWordView.xaml.cs
	namespace 	
GuessMyMessClient
 
. 
View  
.  !
Match! &
{ 
public 

partial 
class 
GuessTheWordView )
:* +
Window, 2
{ 
public 
GuessTheWordView 
(  
)  !
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. 
DataContext 
= 
new "!
GuessTheWordViewModel# 8
(8 9
)9 :
;: ;
} 	
} 
} £
îC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\View\Match\EndOfMatchView.xaml.cs
	namespace 	
GuessMyMessClient
 
. 
View  
.  !
Match! &
{ 
public 

partial 
class 
EndOfMatchView '
:( )
Window* 0
{ 
public 
EndOfMatchView 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. 
DataContext 
= 
new "
EndOfMatchViewModel# 6
(6 7
)7 8
;8 9
} 	
} 
} Ø
óC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\View\Match\DrawingScreenView.xaml.cs
	namespace 	
GuessMyMessClient
 
. 
View  
.  !
Match! &
{ 
public 

partial 
class 
DrawingScreenView *
:+ ,
Window- 3
{ 
public 
DrawingScreenView  
(  !
)! "
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. 
DataContext 
= 
new ""
DrawingScreenViewModel# 9
(9 :
): ;
;; <
} 	
} 
} Ø
óC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\View\Match\AnswersScreenView.xaml.cs
	namespace 	
GuessMyMessClient
 
. 
View  
.  !
Match! &
{ 
public 

partial 
class 
AnswersScreenView *
:+ ,
Window- 3
{ 
public 
AnswersScreenView  
(  !
)! "
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. 
DataContext 
= 
new ""
AnswersScreenViewModel# 9
(9 :
): ;
;; <
} 	
} 
} √
•C:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\View\MatchSettings\PublicMatchSettingsView.xaml.cs
	namespace 	
GuessMyMessClient
 
. 
View  
.  !
MatchSettings! .
{ 
public 

partial 
class #
PublicMatchSettingsView 0
:1 2
Window3 9
{ 
public #
PublicMatchSettingsView &
(& '
)' (
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. 
DataContext 
= 
new "(
PublicMatchSettingsViewModel# ?
(? @
)@ A
;A B
} 	
private 
void 
TextBox_TextChanged (
(( )
object) /
sender0 6
,6 7 
TextChangedEventArgs8 L
eM N
)N O
{ 	
}   	
}!! 
}"" ≥
ôC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\View\Matches\PublicMatchesView.xaml.cs
	namespace 	
GuessMyMessClient
 
. 
View  
.  !
Matches! (
{ 
public 

partial 
class 
PublicMatchesView *
:+ ,
Window- 3
{ 
public 
PublicMatchesView  
(  !
)! "
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. 
DataContext 
= 
new ""
PublicMatchesViewModel# 9
(9 :
): ;
;; <
} 	
} 
} ∑
öC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\View\Matches\PrivateMatchesView.xaml.cs
	namespace 	
GuessMyMessClient
 
. 
View  
.  !
Matches! (
{ 
public 

partial 
class 
PrivateMatchesView +
:, -
Window. 4
{ 
public 
PrivateMatchesView !
(! "
)" #
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. 
DataContext 
= 
new "#
PrivateMatchesViewModel# :
(: ;
); <
;< =
} 	
} 
} Ä	
~C:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\App.xaml.cs
	namespace 	
GuessMyMessClient
 
{ 
public

 

partial

 
class

 
App

 
:

 
Application

 *
{ 
	protected 
override 
void 
	OnStartup  )
() *
StartupEventArgs* :
e; <
)< =
{ 	
CultureInfo 
cultureInfo #
=$ %
new& )
CultureInfo* 5
(5 6
$str6 =
)= >
;> ?
Thread 
. 
CurrentThread  
.  !
CurrentUICulture! 1
=2 3
cultureInfo4 ?
;? @
Thread 
. 
CurrentThread  
.  !
CurrentCulture! /
=0 1
cultureInfo2 =
;= >
base 
. 
	OnStartup 
( 
e 
) 
; 
} 	
} 
} Ó

éC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\View\HomePages\Main.xaml.cs
	namespace 	
GuessMyMessClient
 
. 
View  
.  !
	HomePages! *
{ 
public 

partial 
class 
Main 
: 
Window  &
{ 
public 
Main 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. 
DataContext 
= 
new "
MainViewModel# 0
(0 1
)1 2
;2 3
} 	
	protected 
override 
void !
OnMouseLeftButtonDown  5
(5 6 
MouseButtonEventArgs6 J
eK L
)L M
{ 	
base 
. !
OnMouseLeftButtonDown &
(& '
e' (
)( )
;) *
if   
(   
e   
.   
ButtonState   
==    
MouseButtonState  ! 1
.  1 2
Pressed  2 9
)  9 :
{!! 
DragMove"" 
("" 
)"" 
;"" 
}## 
}$$ 	
}%% 
}&& ´
ñC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\View\Lobby\SelectAvatarView.xaml.cs
	namespace 	
GuessMyMessClient
 
. 
View  
.  !
Lobby! &
{ 
public 

partial 
class 
SelectAvatarView )
:* +
Window, 2
{ 
public 
SelectAvatarView 
(  
)  !
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. 
DataContext 
= 
new "!
SelectAvatarViewModel# 8
(8 9
)9 :
;: ;
} 	
} 
} æ
´C:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\WaitingRoom\WaitingRoomPublicMatchViewModel.cs
	namespace 	
GuessMyMessClient
 
. 
	ViewModel %
.% &
WaitingRoom& 1
{		 
internal

 
class

 +
WaitingRoomPublicMatchViewModel

 2
{ 
} 
} ó
ØC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\WaitingRoom\WaitingRoomPublicMatchHostViewModel.cs
	namespace		 	
GuessMyMessClient		
 
.		 
	ViewModel		 %
.		% &
WaitingRoom		& 1
{

 
internal 
class /
#WaitingRoomPublicMatchHostViewModel 6
:7 8
ViewModelBase9 F
{ 
public 
ICommand 
CloseWindowCommand *
{+ ,
get- 0
;0 1
}2 3
public 
ICommand !
MaximizeWindowCommand -
{. /
get0 3
;3 4
}5 6
public 
ICommand !
MinimizeWindowCommand -
{. /
get0 3
;3 4
}5 6
public /
#WaitingRoomPublicMatchHostViewModel 2
(2 3
)3 4
{ 	
CloseWindowCommand 
=  
new! $
RelayCommand% 1
(1 2
ExecuteCloseWindow2 D
)D E
;E F!
MaximizeWindowCommand !
=" #
new$ '
RelayCommand( 4
(4 5!
ExecuteMaximizeWindow5 J
)J K
;K L!
MinimizeWindowCommand !
=" #
new$ '
RelayCommand( 4
(4 5!
ExecuteMinimizeWindow5 J
)J K
;K L
} 	
private 
void 
ExecuteCloseWindow '
(' (
object( .
	parameter/ 8
)8 9
{ 	
if 
( 
	parameter 
is 
Window #
window$ *
)* +
{ 
Application 
. 
Current #
.# $
Shutdown$ ,
(, -
)- .
;. /
} 
} 	
private!! 
void!! !
ExecuteMaximizeWindow!! *
(!!* +
object!!+ 1
	parameter!!2 ;
)!!; <
{"" 	
if## 
(## 
	parameter## 
is## 
Window## #
window##$ *
)##* +
{$$ 
window%% 
.%% 
WindowState%% "
=%%# $
window%%% +
.%%+ ,
WindowState%%, 7
==%%8 :
WindowState%%; F
.%%F G
	Maximized%%G P
?%%Q R
WindowState%%S ^
.%%^ _
Normal%%_ e
:%%f g
WindowState%%h s
.%%s t
	Maximized%%t }
;%%} ~
}&& 
}'' 	
private)) 
void)) !
ExecuteMinimizeWindow)) *
())* +
object))+ 1
	parameter))2 ;
))); <
{** 	
if++ 
(++ 
	parameter++ 
is++ 
Window++ #
window++$ *
)++* +
{,, 
window-- 
.-- 
WindowState-- "
=--# $
WindowState--% 0
.--0 1
	Minimized--1 :
;--: ;
}.. 
}// 	
}00 
}11 –
¥C:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\WaitingRoom\WaitingRoomPublicMatchCountDownViewModel.cs
	namespace 	
GuessMyMessClient
 
. 
	ViewModel %
.% &
WaitingRoom& 1
{ 
internal		 
class		 4
(WaitingRoomPublicMatchCountDownViewModel		 ;
{

 
} 
} ¿
¨C:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\WaitingRoom\WaitingRoomPrivateMatchViewModel.cs
	namespace 	
GuessMyMessClient
 
. 
	ViewModel %
.% &
WaitingRoom& 1
{ 
internal		 
class		 ,
 WaitingRoomPrivateMatchViewModel		 3
{

 
} 
} »
∞C:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\WaitingRoom\WaitingRoomPrivateMatchHostViewModel.cs
	namespace 	
GuessMyMessClient
 
. 
	ViewModel %
.% &
WaitingRoom& 1
{ 
internal		 
class		 0
$WaitingRoomPrivateMatchHostViewModel		 7
{

 
} 
} ˜
ëC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\View\Lobby\ProfileView.xaml.cs
	namespace 	
GuessMyMessClient
 
. 
View  
.  !
Lobby! &
{ 
public 

partial 
class 
ProfileView $
:% &
UserControl' 2
{ 
public 
ProfileView 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
} 
} ˆ

èC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\View\Lobby\LobbyView.xaml.cs
	namespace 	
GuessMyMessClient
 
. 
View  
.  !
Lobby! &
{ 
public 

partial 
class 
	LobbyView "
:# $
Window% +
{ 
public 
	LobbyView 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. 
DataContext 
= 
new "
LobbyViewModel# 1
(1 2
)2 3
;3 4
} 	
	protected 
override 
void !
OnMouseLeftButtonDown  5
(5 6 
MouseButtonEventArgs6 J
eK L
)L M
{ 	
base 
. !
OnMouseLeftButtonDown &
(& '
e' (
)( )
;) *
if   
(   
e   
.   
ButtonState   
==    
MouseButtonState  ! 1
.  1 2
Pressed  2 9
)  9 :
{!! 
DragMove"" 
("" 
)"" 
;"" 
}## 
}$$ 	
}%% 
}&& ˜
ëC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\View\Lobby\FriendsView.xaml.cs
	namespace 	
GuessMyMessClient
 
. 
View  
.  !
Lobby! &
{ 
public 

partial 
class 
FriendsView $
:% &
UserControl' 2
{ 
public 
FriendsView 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
} 
} â
óC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\View\Lobby\DirectMessageView.xaml.cs
	namespace 	
GuessMyMessClient
 
. 
View  
.  !
Lobby! &
{ 
public 

partial 
class 
DirectMessageView *
:+ ,
UserControl- 8
{ 
public 
DirectMessageView  
(  !
)! "
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
} 
} ¬
•C:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\View\Lobby\Dialogs\VerifyChangesByCodeView.xaml.cs
	namespace 	
GuessMyMessClient
 
. 
View  
.  !
Lobby! &
.& '
Dialogs' .
{ 
public 

partial 
class #
VerifyChangesByCodeView 0
:1 2
Window3 9
{ 
public #
VerifyChangesByCodeView &
(& '
)' (
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
} 
} î

ûC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\View\Lobby\Dialogs\VerifyByCodeView.xaml.cs
	namespace 	
GuessMyMessClient
 
. 
View  
.  !
Lobby! &
.& '
Dialogs' .
{ 
public 

partial 
class 
VerifyByCodeView )
:* +
Window, 2
{ 
public 
VerifyByCodeView 
(  
)  !
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
	protected 
override 
void !
OnMouseLeftButtonDown  5
(5 6 
MouseButtonEventArgs6 J
eK L
)L M
{ 	
base 
. !
OnMouseLeftButtonDown &
(& '
e' (
)( )
;) *
if   
(   
e   
.   
ButtonState   
==    
MouseButtonState  ! 1
.  1 2
Pressed  2 9
)  9 :
{!! 
DragMove"" 
("" 
)"" 
;"" 
}## 
}$$ 	
}%% 
}&& €
üC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\View\Lobby\Dialogs\InviteByEmailView.xaml.cs
	namespace 	
GuessMyMessClient
 
. 
View  
.  !
Lobby! &
.& '
Dialogs' .
{ 
public 

partial 
class 
InviteByEmailView *
:+ ,
Window- 3
{ 
public 
InviteByEmailView  
(  !
)! "
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. 
DataContext 
= 
new ""
InviteByEmailViewModel# 9
(9 :
): ;
;; <
} 	
} 
} ≥
†C:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\View\Lobby\Dialogs\ChangePasswordView.xaml.cs
	namespace 	
GuessMyMessClient
 
. 
View  
.  !
Lobby! &
.& '
Dialogs' .
{ 
public 

partial 
class 
ChangePasswordView +
:, -
Window. 4
{ 
public 
ChangePasswordView !
(! "
)" #
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
} 
} ™
ùC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\View\Lobby\Dialogs\ChangeEmailView.xaml.cs
	namespace 	
GuessMyMessClient
 
. 
View  
.  !
Lobby! &
.& '
Dialogs' .
{ 
public 

partial 
class 
ChangeEmailView (
:) *
Window+ 1
{ 
public 
ChangeEmailView 
( 
)  
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
} 
} â
óC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\View\Lobby\ConfigurationView.xaml.cs
	namespace 	
GuessMyMessClient
 
. 
View  
.  !
Lobby! &
{ 
public 

partial 
class 
ConfigurationView *
:+ ,
UserControl- 8
{ 
public 
ConfigurationView  
(  !
)! "
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
} 
} §
ïC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\View\HomePages\WelcomeView.xaml.cs
	namespace 	
GuessMyMessClient
 
. 
View  
.  !
	HomePages! *
{ 
public 

partial 
class 
WelcomeView $
:% &
Window' -
{ 
public 
WelcomeView 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. 
DataContext 
= 
new "
WelcomeViewModel# 3
(3 4
)4 5
;5 6
this 
. 
Loaded 
+= 
( 
sender "
," #
e$ %
)% &
=>' )
{* +
if 
( 
Application 
.  
Current  '
.' (

MainWindow( 2
!=3 5
null6 :
&&; =
Application> I
.I J
CurrentJ Q
.Q R

MainWindowR \
!=] _
this` d
)d e
{ 
this 
. 
WindowState $
=% &
Application' 2
.2 3
Current3 :
.: ;

MainWindow; E
.E F
WindowStateF Q
;Q R
}   
}!! 
;!! 
}"" 	
	protected$$ 
override$$ 
void$$ !
OnMouseLeftButtonDown$$  5
($$5 6 
MouseButtonEventArgs$$6 J
e$$K L
)$$L M
{%% 	
base&& 
.&& !
OnMouseLeftButtonDown&& &
(&&& '
e&&' (
)&&( )
;&&) *
if'' 
('' 
e'' 
.'' 
ButtonState'' 
==''  
MouseButtonState''! 1
.''1 2
Pressed''2 9
)''9 :
{(( 
DragMove)) 
()) 
))) 
;)) 
}** 
}++ 	
},, 
}-- Ç
îC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\View\HomePages\SignUpView.xaml.cs
	namespace 	
GuessMyMessClient
 
. 
View  
.  !
	HomePages! *
{ 
public 

partial 
class 

SignUpView #
:$ %
Window& ,
{ 
public 

SignUpView 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. 
DataContext 
= 
new "
SignUpViewModel# 2
(2 3
)3 4
;4 5
} 	
	protected 
override 
void !
OnMouseLeftButtonDown  5
(5 6 
MouseButtonEventArgs6 J
eK L
)L M
{ 	
base 
. !
OnMouseLeftButtonDown &
(& '
e' (
)( )
;) *
if   
(   
e   
.   
ButtonState   
==    
MouseButtonState  ! 1
.  1 2
Pressed  2 9
)  9 :
{!! 
DragMove"" 
("" 
)"" 
;"" 
}## 
}$$ 	
}%% 
}&& ˛

ìC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\View\HomePages\LoginView.xaml.cs
	namespace 	
GuessMyMessClient
 
. 
View  
.  !
	HomePages! *
{ 
public 

partial 
class 
	LoginView "
:# $
Window% +
{ 
public 
	LoginView 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
this 
. 
DataContext 
= 
new "
LoginViewModel# 1
(1 2
)2 3
;3 4
} 	
	protected 
override 
void !
OnMouseLeftButtonDown  5
(5 6 
MouseButtonEventArgs6 J
eK L
)L M
{ 	
base 
. !
OnMouseLeftButtonDown &
(& '
e' (
)( )
;) *
if   
(   
e   
.   
ButtonState   
==    
MouseButtonState  ! 1
.  1 2
Pressed  2 9
)  9 :
{!! 
DragMove"" 
("" 
)"" 
;"" 
}## 
}$$ 	
}%% 
}&& ƒ
çC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\ViewModelBase.cs
	namespace		 	
GuessMyMessClient		
 
.		 
	ViewModel		 %
{

 
public 

abstract 
class 
ViewModelBase '
:( )"
INotifyPropertyChanged* @
{ 
public 
event '
PropertyChangedEventHandler 0
PropertyChanged1 @
;@ A
	protected 
void 
OnPropertyChanged (
(( )
[) *
CallerMemberName* :
]: ;
string< B
propertyNameC O
=P Q
nullR V
)V W
{ 	
PropertyChanged 
? 
. 
Invoke #
(# $
this$ (
,( )
new* -$
PropertyChangedEventArgs. F
(F G
propertyNameG S
)S T
)T U
;U V
} 	
} 
} Æ<
ôC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\Support\PasswordBoxHelper.cs
	namespace 	
GuessMyMessClient
 
. 
	ViewModel %
.% &
Support& -
{ 
public 

static 
class 
PasswordBoxHelper )
{ 
public		 
static		 
readonly		 
DependencyProperty		 1
PasswordProperty		2 B
=		C D
DependencyProperty

 
.

 
RegisterAttached

 /
(

/ 0
$str

0 :
,

: ;
typeof

< B
(

B C
string

C I
)

I J
,

J K
typeof

L R
(

R S
PasswordBoxHelper

S d
)

d e
,

e f
new %
FrameworkPropertyMetadata -
(- .
string. 4
.4 5
Empty5 :
,: ;%
OnPasswordPropertyChanged< U
)U V
)V W
;W X
public 
static 
readonly 
DependencyProperty 1
AttachProperty2 @
=A B
DependencyProperty 
. 
RegisterAttached /
(/ 0
$str0 8
,8 9
typeof: @
(@ A
boolA E
)E F
,F G
typeofH N
(N O
PasswordBoxHelperO `
)` a
,a b
new 
PropertyMetadata $
($ %
false% *
,* +
Attach, 2
)2 3
)3 4
;4 5
private 
static 
readonly 
DependencyProperty  2
IsUpdatingProperty3 E
=F G
DependencyProperty 
. 
RegisterAttached /
(/ 0
$str0 <
,< =
typeof> D
(D E
boolE I
)I J
,J K
typeofL R
(R S
PasswordBoxHelperS d
)d e
)e f
;f g
public 
static 
void 
	SetAttach $
($ %
DependencyObject% 5
dp6 8
,8 9
bool: >
value? D
)D E
{ 	
dp 
. 
SetValue 
( 
AttachProperty &
,& '
value( -
)- .
;. /
} 	
public 
static 
bool 
	GetAttach $
($ %
DependencyObject% 5
dp6 8
)8 9
{ 	
return 
( 
bool 
) 
dp 
. 
GetValue $
($ %
AttachProperty% 3
)3 4
;4 5
} 	
public 
static 
string 
GetPassword (
(( )
DependencyObject) 9
dp: <
)< =
{ 	
return   
(   
string   
)   
dp   
.   
GetValue   &
(  & '
PasswordProperty  ' 7
)  7 8
;  8 9
}!! 	
public## 
static## 
void## 
SetPassword## &
(##& '
DependencyObject##' 7
dp##8 :
,##: ;
string##< B
value##C H
)##H I
{$$ 	
dp%% 
.%% 
SetValue%% 
(%% 
PasswordProperty%% (
,%%( )
value%%* /
)%%/ 0
;%%0 1
}&& 	
private(( 
static(( 
bool(( 
GetIsUpdating(( )
((() *
DependencyObject((* :
dp((; =
)((= >
{)) 	
return** 
(** 
bool** 
)** 
dp** 
.** 
GetValue** $
(**$ %
IsUpdatingProperty**% 7
)**7 8
;**8 9
}++ 	
private-- 
static-- 
void-- 
SetIsUpdating-- )
(--) *
DependencyObject--* :
dp--; =
,--= >
bool--? C
value--D I
)--I J
{.. 	
dp// 
.// 
SetValue// 
(// 
IsUpdatingProperty// *
,//* +
value//, 1
)//1 2
;//2 3
}00 	
private22 
static22 
void22 %
OnPasswordPropertyChanged22 5
(225 6
DependencyObject226 F
sender22G M
,22M N.
"DependencyPropertyChangedEventArgs22O q
e22r s
)22s t
{33 	
if44 
(44 
!44 
(44 
sender44 
is44 
PasswordBox44 '
passwordBox44( 3
)443 4
)444 5
{55 
return66 
;66 
}77 
passwordBox99 
.99 
PasswordChanged99 '
-=99( *
PasswordChanged99+ :
;99: ;
if;; 
(;; 
!;; 
GetIsUpdating;; 
(;; 
passwordBox;; *
);;* +
);;+ ,
{<< 
passwordBox== 
.== 
Password== $
===% &
(==' (
string==( .
)==. /
e==/ 0
.==0 1
NewValue==1 9
;==9 :
}>> 
passwordBox?? 
.?? 
PasswordChanged?? '
+=??( *
PasswordChanged??+ :
;??: ;
}@@ 	
privateBB 
staticBB 
voidBB 
AttachBB "
(BB" #
DependencyObjectBB# 3
senderBB4 :
,BB: ;.
"DependencyPropertyChangedEventArgsBB< ^
eBB_ `
)BB` a
{CC 	
ifDD 
(DD 
!DD 
(DD 
senderDD 
isDD 
PasswordBoxDD '
passwordBoxDD( 3
)DD3 4
)DD4 5
{EE 
returnFF 
;FF 
}GG 
ifII 
(II 
(II 
boolII 
)II 
eII 
.II 
OldValueII  
)II  !
{JJ 
passwordBoxKK 
.KK 
PasswordChangedKK +
-=KK, .
PasswordChangedKK/ >
;KK> ?
}LL 
ifNN 
(NN 
(NN 
boolNN 
)NN 
eNN 
.NN 
NewValueNN  
)NN  !
{OO 
passwordBoxPP 
.PP 
PasswordChangedPP +
+=PP, .
PasswordChangedPP/ >
;PP> ?
}QQ 
}RR 	
privateTT 
staticTT 
voidTT 
PasswordChangedTT +
(TT+ ,
objectTT, 2
senderTT3 9
,TT9 :
RoutedEventArgsTT; J
eTTK L
)TTL M
{UU 	
ifVV 
(VV 
!VV 
(VV 
senderVV 
isVV 
PasswordBoxVV '
passwordBoxVV( 3
)VV3 4
)VV4 5
{WW 
returnXX 
;XX 
}YY 
SetIsUpdating[[ 
([[ 
passwordBox[[ %
,[[% &
true[[' +
)[[+ ,
;[[, -
SetPassword\\ 
(\\ 
passwordBox\\ #
,\\# $
passwordBox\\% 0
.\\0 1
Password\\1 9
)\\9 :
;\\: ;
SetIsUpdating]] 
(]] 
passwordBox]] %
,]]% &
false]]' ,
)]], -
;]]- .
}^^ 	
}__ 
}`` Ö
≠C:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\Support\Converters\CountToVisibilityConverter.cs
	namespace

 	
GuessMyMessClient


 
.

 
	ViewModel

 %
.

% &
Support

& -
.

- .

Converters

. 8
{ 
public 

class &
CountToVisibilityConverter +
:, -
IValueConverter. =
{ 
public 
object 
Convert 
( 
object $
value% *
,* +
Type, 0

targetType1 ;
,; <
object= C
	parameterD M
,M N
CultureInfoO Z
culture[ b
)b c
{ 	
if 
( 
value 
is 
int 
count "
)" #
{ 
return 
count 
> 
$num  
?! "

Visibility# -
.- .
Visible. 5
:6 7

Visibility8 B
.B C
	CollapsedC L
;L M
} 
return 

Visibility 
. 
	Collapsed '
;' (
} 	
public 
object 
ConvertBack !
(! "
object" (
value) .
,. /
Type0 4

targetType5 ?
,? @
objectA G
	parameterH Q
,Q R
CultureInfoS ^
culture_ f
)f g
{ 	
throw 
new #
NotImplementedException -
(- .
). /
;/ 0
} 	
} 
} ∞
™C:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\Support\Converters\BoolToGreenRedConverter.cs
	namespace

 	
GuessMyMessClient


 
.

 
	ViewModel

 %
.

% &
Support

& -
.

- .

Converters

. 8
{ 
public 

class #
BoolToGreenRedConverter (
:) *
IValueConverter+ :
{ 
public 
object 
Convert 
( 
object $
value% *
,* +
Type, 0

targetType1 ;
,; <
object= C
	parameterD M
,M N
CultureInfoO Z
culture[ b
)b c
{ 	
if 
( 
value 
is 
bool 
isOnline &
)& '
{ 
return 
isOnline 
?  !
new" %
SolidColorBrush& 5
(5 6
Colors6 <
.< =
Green= B
)B C
:D E
newF I
SolidColorBrushJ Y
(Y Z
ColorsZ `
.` a
Reda d
)d e
;e f
} 
return 
new 
SolidColorBrush &
(& '
Colors' -
.- .
Gray. 2
)2 3
;3 4
} 	
public 
object 
ConvertBack !
(! "
object" (
value) .
,. /
Type0 4

targetType5 ?
,? @
objectA G
	parameterH Q
,Q R
CultureInfoS ^
culture_ f
)f g
{ 	
throw 
new #
NotImplementedException -
(- .
). /
;/ 0
} 	
} 
}  m
õC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\Session\SocialClientManager.cs
	namespace

 	
GuessMyMessClient


 
.

 
	ViewModel

 %
.

% &
Session

& -
{ 
public 

class 
SocialClientManager $
:% &"
ISocialServiceCallback' =
{ 
private 
const 
string (
SOCIAL_SERVICE_ENDPOINT_NAME 9
=: ;
$str< Z
;Z [
private 
SocialServiceClient #
_client$ +
;+ ,
private 
static 
readonly 
Lazy  $
<$ %
SocialClientManager% 8
>8 9
	_instance: C
=D E
new 
Lazy 
< 
SocialClientManager (
>( )
() *
(* +
)+ ,
=>- /
new0 3
SocialClientManager4 G
(G H
)H I
)I J
;J K
public 
static 
SocialClientManager )
Instance* 2
=>3 5
	_instance6 ?
.? @
Value@ E
;E F
public 
SocialServiceClient "
Client# )
=>* ,
_client- 4
;4 5
public 
event 
Action 
< 
string "
>" #
OnFriendRequest$ 3
;3 4
public 
event 
Action 
< 
string "
," #
bool$ (
>( )
OnFriendResponse* :
;: ;
public 
event 
Action 
< 
string "
," #
string$ *
>* +!
OnFriendStatusChanged, A
;A B
public 
event 
Action 
< 
DirectMessageDto ,
>, -
OnMessageReceived. ?
;? @
private 
SocialClientManager #
(# $
)$ %
{& '
}( )
public 
void 

Initialize 
( 
)  
{ 	
if   
(   
_client   
!=   
null   
&&    "
_client  # *
.  * +
State  + 0
==  1 3
CommunicationState  4 F
.  F G
Opened  G M
)  M N
{!! 
Console"" 
."" 
	WriteLine"" !
(""! "
$str""" H
)""H I
;""I J
return## 
;## 
}$$ 
try&& 
{'' 
_client(( 
=(( 
new(( 
SocialServiceClient(( 1
(((1 2
new((2 5
InstanceContext((6 E
(((E F
this((F J
)((J K
,((K L(
SOCIAL_SERVICE_ENDPOINT_NAME((M i
)((i j
;((j k
_client)) 
.)) 
Open)) 
()) 
))) 
;)) 
if++ 
(++ 
_client++ 
.++ 
State++ !
==++" $
CommunicationState++% 7
.++7 8
Opened++8 >
)++> ?
{,, 
_client-- 
.-- 
Connect-- #
(--# $
SessionManager--$ 2
.--2 3
Instance--3 ;
.--; <
CurrentUsername--< K
)--K L
;--L M
Console.. 
... 
	WriteLine.. %
(..% &
$"..& (
$str..( Z
{..Z [
SessionManager..[ i
...i j
Instance..j r
...r s
CurrentUsername	..s Ç
}
..Ç É
$str
..É Ñ
"
..Ñ Ö
)
..Ö Ü
;
..Ü á
}// 
else00 
{11 
Console22 
.22 
	WriteLine22 %
(22% &
$"22& (
$str22( ]
{22] ^
_client22^ e
.22e f
State22f k
}22k l
"22l m
)22m n
;22n o
throw33 
new33 
	Exception33 '
(33' (
$"33( *
$str33* Q
{33Q R
_client33R Y
.33Y Z
State33Z _
}33_ `
"33` a
)33a b
;33b c
}44 
}66 
catch77 
(77 %
InvalidOperationException77 ,
ioEx77- 1
)771 2
{88 

MessageBox99 
.99 
Show99 
(99  
$"99  "
$str99" Y
{99Y Z(
SOCIAL_SERVICE_ENDPOINT_NAME99Z v
}99v w
$str	99w π
{
99π ∫
ioEx
99∫ æ
.
99æ ø
Message
99ø ∆
}
99∆ «
"
99« »
,
99» …
$str
99  Ê
,
99Ê Á
MessageBoxButton
99Ë ¯
.
99¯ ˘
OK
99˘ ˚
,
99˚ ¸
MessageBoxImage
99˝ å
.
99å ç
Error
99ç í
)
99í ì
;
99ì î
CloseClientSafely:: !
(::! "
)::" #
;::# $
};; 
catch<< 
(<< 
	Exception<< 
ex<< 
)<<  
{== 

MessageBox>> 
.>> 
Show>> 
(>>  
$">>  "
$str>>" L
{>>L M
ex>>M O
.>>O P
Message>>P W
}>>W X
">>X Y
,>>Y Z
$str>>[ n
,>>n o
MessageBoxButton	>>p Ä
.
>>Ä Å
OK
>>Å É
,
>>É Ñ
MessageBoxImage
>>Ö î
.
>>î ï
Error
>>ï ö
)
>>ö õ
;
>>õ ú
CloseClientSafely?? !
(??! "
)??" #
;??# $
}@@ 
}AA 	
publicCC 
voidCC 
CleanupCC 
(CC 
)CC 
{DD 	
ConsoleEE 
.EE 
	WriteLineEE 
(EE 
$strEE K
)EEK L
;EEL M
ifFF 
(FF 
_clientFF 
!=FF 
nullFF 
&&FF  "
_clientFF# *
.FF* +
StateFF+ 0
==FF1 3
CommunicationStateFF4 F
.FFF G
OpenedFFG M
)FFM N
{GG 
tryHH 
{II 
ConsoleJJ 
.JJ 
	WriteLineJJ %
(JJ% &
$"JJ& (
$strJJ( A
{JJA B
SessionManagerJJB P
.JJP Q
InstanceJJQ Y
.JJY Z
CurrentUsernameJJZ i
}JJi j
$strJJj m
"JJm n
)JJn o
;JJo p
ifKK 
(KK 
!KK 
stringKK 
.KK  
IsNullOrEmptyKK  -
(KK- .
SessionManagerKK. <
.KK< =
InstanceKK= E
.KKE F
CurrentUsernameKKF U
)KKU V
)KKV W
{LL 
_clientMM 
.MM  

DisconnectMM  *
(MM* +
SessionManagerMM+ 9
.MM9 :
InstanceMM: B
.MMB C
CurrentUsernameMMC R
)MMR S
;MMS T
ConsoleNN 
.NN  
	WriteLineNN  )
(NN) *
$strNN* \
)NN\ ]
;NN] ^
}OO 
elsePP 
{PP 
ConsolePP "
.PP" #
	WriteLinePP# ,
(PP, -
$strPP- _
)PP_ `
;PP` a
}PPb c
}QQ 
catchRR 
(RR "
CommunicationExceptionRR -
commExRR. 4
)RR4 5
{SS 
ConsoleTT 
.TT 
	WriteLineTT %
(TT% &
$"TT& (
$strTT( z
{TTz {
commEx	TT{ Å
.
TTÅ Ç
Message
TTÇ â
}
TTâ ä
"
TTä ã
)
TTã å
;
TTå ç
}UU 
catchVV 
(VV 
	ExceptionVV  
exVV! #
)VV# $
{WW 
ConsoleXX 
.XX 
	WriteLineXX %
(XX% &
$"XX& (
$strXX( M
{XXM N
exXXN P
.XXP Q
MessageXXQ X
}XXX Y
"XXY Z
)XXZ [
;XX[ \
}YY 
}ZZ 
else[[ 
{\\ 
Console]] 
.]] 
	WriteLine]] !
(]]! "
$"]]" $
$str]]$ ?
{]]? @
_client]]@ G
?]]G H
.]]H I
State]]I N
}]]N O
$str]]O f
"]]f g
)]]g h
;]]h i
}^^ 
CloseClientSafely`` 
(`` 
)`` 
;``  
Consoleaa 
.aa 
	WriteLineaa 
(aa 
$straa J
)aaJ K
;aaK L
}bb 	
privatedd 
voiddd 
CloseClientSafelydd &
(dd& '
)dd' (
{ee 	
ifff 
(ff 
_clientff 
==ff 
nullff 
)ff  
returnff! '
;ff' (
Consolegg 
.gg 
	WriteLinegg 
(gg 
$"gg  
$strgg  E
{ggE F
_clientggF M
.ggM N
StateggN S
}ggS T
"ggT U
)ggU V
;ggV W
tryhh 
{ii 
ifjj 
(jj 
_clientjj 
.jj 
Statejj !
!=jj" $
CommunicationStatejj% 7
.jj7 8
Faultedjj8 ?
&&jj@ B
_clientjjC J
.jjJ K
StatejjK P
!=jjQ S
CommunicationStatejjT f
.jjf g
Closedjjg m
)jjm n
{kk 
_clientll 
.ll 
Closell !
(ll! "
)ll" #
;ll# $
Consolemm 
.mm 
	WriteLinemm %
(mm% &
$strmm& J
)mmJ K
;mmK L
}nn 
elseoo 
{pp 
_clientqq 
.qq 
Abortqq !
(qq! "
)qq" #
;qq# $
Consolerr 
.rr 
	WriteLinerr %
(rr% &
$strrr& W
)rrW X
;rrX Y
}ss 
}tt 
catchuu 
(uu 
	Exceptionuu 
exuu 
)uu  
{vv 
Consoleww 
.ww 
	WriteLineww !
(ww! "
$"ww" $
$strww$ M
{wwM N
exwwN P
.wwP Q
MessagewwQ X
}wwX Y
$strwwY g
"wwg h
)wwh i
;wwi j
_clientxx 
.xx 
Abortxx 
(xx 
)xx 
;xx  
}yy 
finallyzz 
{{{ 
_client|| 
=|| 
null|| 
;|| 
}}} 
}~~ 	
public
ÅÅ 
void
ÅÅ !
NotifyFriendRequest
ÅÅ '
(
ÅÅ' (
string
ÅÅ( .
fromUsername
ÅÅ/ ;
)
ÅÅ; <
{
ÇÇ 	
Console
ÉÉ 
.
ÉÉ 
	WriteLine
ÉÉ 
(
ÉÉ 
$"
ÉÉ  
$str
ÉÉ  J
{
ÉÉJ K
fromUsername
ÉÉK W
}
ÉÉW X
"
ÉÉX Y
)
ÉÉY Z
;
ÉÉZ [
OnFriendRequest
ÑÑ 
?
ÑÑ 
.
ÑÑ 
Invoke
ÑÑ #
(
ÑÑ# $
fromUsername
ÑÑ$ 0
)
ÑÑ0 1
;
ÑÑ1 2
}
ÖÖ 	
public
áá 
void
áá "
NotifyFriendResponse
áá (
(
áá( )
string
áá) /
fromUsername
áá0 <
,
áá< =
bool
áá> B
accepted
ááC K
)
ááK L
{
àà 	
Console
ââ 
.
ââ 
	WriteLine
ââ 
(
ââ 
$"
ââ  
$str
ââ  K
{
ââK L
fromUsername
ââL X
}
ââX Y
$str
ââY e
{
ââe f
accepted
ââf n
}
âân o
"
ââo p
)
ââp q
;
ââq r
OnFriendResponse
ää 
?
ää 
.
ää 
Invoke
ää $
(
ää$ %
fromUsername
ää% 1
,
ää1 2
accepted
ää3 ;
)
ää; <
;
ää< =
}
ãã 	
public
çç 
void
çç '
NotifyFriendStatusChanged
çç -
(
çç- .
string
çç. 4
friendUsername
çç5 C
,
ççC D
string
ççE K
status
ççL R
)
ççR S
{
éé 	
Console
èè 
.
èè 
	WriteLine
èè 
(
èè 
$"
èè  
$str
èè  R
{
èèR S
friendUsername
èèS a
}
èèa b
$str
èèb l
{
èèl m
status
èèm s
}
èès t
"
èèt u
)
èèu v
;
èèv w#
OnFriendStatusChanged
êê !
?
êê! "
.
êê" #
Invoke
êê# )
(
êê) *
friendUsername
êê* 8
,
êê8 9
status
êê: @
)
êê@ A
;
êêA B
}
ëë 	
public
ìì 
void
ìì #
NotifyMessageReceived
ìì )
(
ìì) *
DirectMessageDto
ìì* :
message
ìì; B
)
ììB C
{
îî 	
Console
ïï 
.
ïï 
	WriteLine
ïï 
(
ïï 
$"
ïï  
$str
ïï  L
{
ïïL M
message
ïïM T
?
ïïT U
.
ïïU V
SenderUsername
ïïV d
}
ïïd e
"
ïïe f
)
ïïf g
;
ïïg h
if
ññ 
(
ññ 
message
ññ 
!=
ññ 
null
ññ 
)
ññ  
{
óó 
OnMessageReceived
òò !
?
òò! "
.
òò" #
Invoke
òò# )
(
òò) *
message
òò* 1
)
òò1 2
;
òò2 3
}
ôô 
else
öö 
{
õõ 
Console
úú 
.
úú 
	WriteLine
úú !
(
úú! "
$str
úú" Y
)
úúY Z
;
úúZ [
}
ùù 
}
ûû 	
}
üü 
}†† π
ñC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\Session\SessionManager.cs
	namespace 	
GuessMyMessClient
 
. 
	ViewModel %
.% &
Session& -
{ 
public		 

class		 
SessionManager		 
:		  !
ViewModelBase		" /
{

 
private 
static 
SessionManager %
	_instance& /
;/ 0
public 
static 
SessionManager $
Instance% -
=>. 0
	_instance1 :
??; =
(> ?
	_instance? H
=I J
newK N
SessionManagerO ]
(] ^
)^ _
)_ `
;` a
private 
string 
_currentUsername '
;' (
public 
string 
CurrentUsername %
{ 	
get 
=> 
_currentUsername #
;# $
set 
{ 
_currentUsername "
=# $
value% *
;* +
OnPropertyChanged, =
(= >
)> ?
;? @
}A B
} 	
public 
bool 

IsLoggedIn 
=> !
!" #
string# )
.) *
IsNullOrEmpty* 7
(7 8
CurrentUsername8 G
)G H
;H I
private 
SessionManager 
( 
)  
{! "
}# $
public 
void 
StartSession  
(  !
string! '
username( 0
)0 1
{ 	
CurrentUsername 
= 
username &
;& '
} 	
public 
void 
CloseSession  
(  !
)! "
{ 	
CurrentUsername   
=   
null   "
;  " #
}!! 	
}"" 
}## ï
åC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\RelayCommand.cs
	namespace 	
GuessMyMessClient
 
. 
	ViewModel %
{ 
public 

class 
RelayCommand 
: 
ICommand  (
{ 
private 
readonly 
Action 
<  
object  &
>& '
_execute( 0
;0 1
private		 
readonly		 
	Predicate		 "
<		" #
object		# )
>		) *
_canExecute		+ 6
;		6 7
public 
RelayCommand 
( 
Action "
<" #
object# )
>) *
execute+ 2
,2 3
	Predicate4 =
<= >
object> D
>D E

canExecuteF P
=Q R
nullS W
)W X
{ 	
_execute 
= 
execute 
?? !
throw" '
new( +!
ArgumentNullException, A
(A B
nameofB H
(H I
executeI P
)P Q
)Q R
;R S
_canExecute 
= 

canExecute $
;$ %
} 	
public 
event 
EventHandler !
CanExecuteChanged" 3
{ 	
add 
{ 
CommandManager 
. 
RequerySuggested /
+=0 2
value3 8
;8 9
} 
remove 
{ 
CommandManager 
. 
RequerySuggested /
-=0 2
value3 8
;8 9
} 
} 	
public 
bool 

CanExecute 
( 
object %
	parameter& /
)/ 0
{ 	
return 
_canExecute 
== !
null" &
||' )
_canExecute* 5
(5 6
	parameter6 ?
)? @
;@ A
}   	
public"" 
void"" 
Execute"" 
("" 
object"" "
	parameter""# ,
)"", -
{## 	
_execute$$ 
($$ 
	parameter$$ 
)$$ 
;$$  
}%% 	
}&& 
}'' †
úC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\Match\WordSelectionViewModel.cs
	namespace 	
GuessMyMessClient
 
. 
	ViewModel %
.% &
Match& +
{ 
internal		 
class		 "
WordSelectionViewModel		 )
{

 
} 
} û
õC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\Match\GuessTheWordViewModel.cs
	namespace 	
GuessMyMessClient
 
. 
	ViewModel %
.% &
Match& +
{ 
internal		 
class		 !
GuessTheWordViewModel		 (
{

 
} 
} ö
ôC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\Match\EndOfMatchViewModel.cs
	namespace 	
GuessMyMessClient
 
. 
	ViewModel %
.% &
Match& +
{ 
internal		 
class		 
EndOfMatchViewModel		 &
{

 
} 
} †
úC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\Match\DrawingScreenViewModel.cs
	namespace 	
GuessMyMessClient
 
. 
	ViewModel %
.% &
Match& +
{ 
internal		 
class		 "
DrawingScreenViewModel		 )
{

 
} 
} †
úC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\Match\AnswersScreenViewModel.cs
	namespace 	
GuessMyMessClient
 
. 
	ViewModel %
.% &
Match& +
{ 
internal		 
class		 "
AnswersScreenViewModel		 )
{

 
} 
} ô1
™C:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\MatchSettings\PublicMatchSettingsViewModel.cs
	namespace 	
GuessMyMessClient
 
. 
	ViewModel %
.% &
MatchSettings& 3
{ 
public 

class (
PublicMatchSettingsViewModel -
:. /
ViewModelBase0 =
{ 
public 
ICommand 
CloseWindowCommand *
{+ ,
get- 0
;0 1
}2 3
public 
ICommand !
MaximizeWindowCommand -
{. /
get0 3
;3 4
}5 6
public 
ICommand !
MinimizeWindowCommand -
{. /
get0 3
;3 4
}5 6
public 
ICommand 
CreateMatchCommand *
{+ ,
get- 0
;0 1
}2 3
public 
ICommand 
ReturnCommand %
{& '
get( +
;+ ,
}- .
public (
PublicMatchSettingsViewModel +
(+ ,
), -
{ 	
CloseWindowCommand 
=  
new! $
RelayCommand% 1
(1 2
ExecuteCloseWindow2 D
)D E
;E F!
MaximizeWindowCommand !
=" #
new$ '
RelayCommand( 4
(4 5!
ExecuteMaximizeWindow5 J
)J K
;K L!
MinimizeWindowCommand !
=" #
new$ '
RelayCommand( 4
(4 5!
ExecuteMinimizeWindow5 J
)J K
;K L
CreateMatchCommand 
=  
new! $
RelayCommand% 1
(1 2
ExecuteCreateMatch2 D
)D E
;E F
ReturnCommand 
= 
new 
RelayCommand  ,
(, -
ExecuteReturn- :
): ;
;; <
}   	
private"" 
void"" 
ExecuteCreateMatch"" '
(""' (
object""( .
	parameter""/ 8
)""8 9
{## 	/
#WaitingRoomPublicMatchHostViewModel'' / 
waitingRoomViewModel''0 D
=''E F
new''G J/
#WaitingRoomPublicMatchHostViewModel''K n
(''n o
)''o p
;''p q*
WaitingRoomPublicMatchHostView(( *
waitingRoomView((+ :
=((; <
new((= @*
WaitingRoomPublicMatchHostView((A _
(((_ `
)((` a
;((a b
waitingRoomView)) 
.)) 
DataContext)) '
=))( ) 
waitingRoomViewModel))* >
;))> ?
waitingRoomView** 
.** 
Show**  
(**  !
)**! "
;**" #
Window,, !
currentSettingsWindow,, (
=,,) *
Application,,+ 6
.,,6 7
Current,,7 >
.,,> ?
Windows,,? F
.,,F G
OfType,,G M
<,,M N#
PublicMatchSettingsView,,N e
>,,e f
(,,f g
),,g h
.,,h i
FirstOrDefault,,i w
(,,w x
),,x y
;,,y z
if.. 
(.. !
currentSettingsWindow.. %
!=..& (
null..) -
)..- .
{// !
currentSettingsWindow00 %
.00% &
Close00& +
(00+ ,
)00, -
;00- .
}11 
else22 
{33 

MessageBox44 
.44 
Show44 
(44  
$str44  h
,44h i
$str44j q
)44q r
;44r s
}55 
}66 	
private88 
void88 
ExecuteCloseWindow88 '
(88' (
object88( .
	parameter88/ 8
)888 9
{99 	
if:: 
(:: 
	parameter:: 
is:: 
Window:: #
window::$ *
)::* +
{;; 
Application== 
.== 
Current== #
.==# $
Shutdown==$ ,
(==, -
)==- .
;==. /
}>> 
}?? 	
privateAA 
voidAA !
ExecuteMaximizeWindowAA *
(AA* +
objectAA+ 1
	parameterAA2 ;
)AA; <
{BB 	
ifCC 
(CC 
	parameterCC 
isCC 
WindowCC #
windowCC$ *
)CC* +
{DD 
windowEE 
.EE 
WindowStateEE "
=EE# $
windowEE% +
.EE+ ,
WindowStateEE, 7
==EE8 :
WindowStateEE; F
.EEF G
	MaximizedEEG P
?EEQ R
WindowStateEES ^
.EE^ _
NormalEE_ e
:EEf g
WindowStateEEh s
.EEs t
	MaximizedEEt }
;EE} ~
}FF 
}GG 	
privateII 
voidII !
ExecuteMinimizeWindowII *
(II* +
objectII+ 1
	parameterII2 ;
)II; <
{JJ 	
ifKK 
(KK 
	parameterKK 
isKK 
WindowKK #
windowKK$ *
)KK* +
{LL 
windowMM 
.MM 
WindowStateMM "
=MM# $
WindowStateMM% 0
.MM0 1
	MinimizedMM1 :
;MM: ;
}NN 
}OO 	
privatePP 
voidPP 
ExecuteReturnPP "
(PP" #
objectPP# )
	parameterPP* 3
)PP3 4
{QQ 	
	LobbyViewRR 
	lobbyViewRR 
=RR  !
newRR" %
	LobbyViewRR& /
(RR/ 0
)RR0 1
;RR1 2
	lobbyViewSS 
.SS 
DataContextSS !
=SS" #
newSS$ '
LobbyViewModelSS( 6
(SS6 7
)SS7 8
;SS8 9
	lobbyViewTT 
.TT 
ShowTT 
(TT 
)TT 
;TT 
ifVV 
(VV 
	parameterVV 
isVV 
WindowVV #
windowVV$ *
)VV* +
{WW 
windowXX 
.XX 
CloseXX 
(XX 
)XX 
;XX 
}YY 
}ZZ 	
}[[ 
}^^ ‘0
ûC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\Matches\PublicMatchesViewModel.cs
	namespace 	
GuessMyMessClient
 
. 
	ViewModel %
.% &
Matches& -
{ 
public 

class "
PublicMatchesViewModel '
:( )
ViewModelBase* 7
{ 
public 
ICommand !
MinimizeWindowCommand -
{. /
get0 3
;3 4
}5 6
public 
ICommand !
MaximizeWindowCommand -
{. /
get0 3
;3 4
}5 6
public 
ICommand 
CloseWindowCommand *
{+ ,
get- 0
;0 1
}2 3
public 
ICommand !
PrivateMatchesCommand -
{. /
get0 3
;3 4
}5 6
public 
ICommand 
ReturnCommand %
{& '
get( +
;+ ,
}- .
public "
PublicMatchesViewModel %
(% &
)& '
{ 	!
MinimizeWindowCommand !
=" #
new$ '
RelayCommand( 4
(4 5!
ExecuteMinimizeWindow5 J
)J K
;K L!
MaximizeWindowCommand !
=" #
new$ '
RelayCommand( 4
(4 5!
ExecuteMaximizeWindow5 J
)J K
;K L
CloseWindowCommand 
=  
new! $
RelayCommand% 1
(1 2
ExecuteCloseWindow2 D
)D E
;E F!
PrivateMatchesCommand !
=" #
new$ '
RelayCommand( 4
(4 5!
ExecutePrivateMatches5 J
)J K
;K L
ReturnCommand 
= 
new 
RelayCommand  ,
(, -
ExecuteReturn- :
): ;
;; <
} 	
private 
void !
ExecutePrivateMatches *
(* +
object+ 1
obj2 5
)5 6
{   	
PrivateMatchesView!! 
privateMatchesView!! 1
=!!2 3
new!!4 7
PrivateMatchesView!!8 J
(!!J K
)!!K L
;!!L M#
PrivateMatchesViewModel"" ##
privateMatchesViewModel""$ ;
=""< =
new""> A#
PrivateMatchesViewModel""B Y
(""Y Z
)""Z [
;""[ \
privateMatchesView$$ 
.$$ 
DataContext$$ *
=$$+ ,#
privateMatchesViewModel$$- D
;$$D E
privateMatchesView%% 
.%% 
Show%% #
(%%# $
)%%$ %
;%%% &
Window'' 
publicMatchesWindow'' &
=''' (
Application'') 4
.''4 5
Current''5 <
.''< =
Windows''= D
.''D E
OfType''E K
<''K L
PublicMatchesView''L ]
>''] ^
(''^ _
)''_ `
.''` a
FirstOrDefault''a o
(''o p
)''p q
;''q r
if(( 
((( 
publicMatchesWindow(( #
!=(($ &
null((' +
)((+ ,
{)) 
publicMatchesWindow** #
.**# $
Close**$ )
(**) *
)*** +
;**+ ,
}++ 
else,, 
{-- 

MessageBox.. 
... 
Show.. 
(..  
$str..  l
,..l m
$str..n u
)..u v
;..v w
}// 
}00 	
private22 
void22 
ExecuteCloseWindow22 '
(22' (
object22( .
	parameter22/ 8
)228 9
{33 	
if44 
(44 
	parameter44 
is44 
Window44 #
window44$ *
)44* +
{55 
Application66 
.66 
Current66 #
.66# $
Shutdown66$ ,
(66, -
)66- .
;66. /
}77 
}88 	
private:: 
void:: !
ExecuteMaximizeWindow:: *
(::* +
object::+ 1
	parameter::2 ;
)::; <
{;; 	
if<< 
(<< 
	parameter<< 
is<< 
Window<< #
window<<$ *
)<<* +
{== 
window>> 
.>> 
WindowState>> "
=>># $
window>>% +
.>>+ ,
WindowState>>, 7
==>>8 :
WindowState>>; F
.>>F G
	Maximized>>G P
?>>Q R
WindowState>>S ^
.>>^ _
Normal>>_ e
:>>f g
WindowState>>h s
.>>s t
	Maximized>>t }
;>>} ~
}?? 
}@@ 	
privateBB 
voidBB !
ExecuteMinimizeWindowBB *
(BB* +
objectBB+ 1
	parameterBB2 ;
)BB; <
{CC 	
ifDD 
(DD 
	parameterDD 
isDD 
WindowDD #
windowDD$ *
)DD* +
{EE 
windowFF 
.FF 
WindowStateFF "
=FF# $
WindowStateFF% 0
.FF0 1
	MinimizedFF1 :
;FF: ;
}GG 
}HH 	
privateII 
voidII 
ExecuteReturnII "
(II" #
objectII# )
	parameterII* 3
)II3 4
{JJ 	
	LobbyViewKK 
	lobbyViewKK 
=KK  !
newKK" %
	LobbyViewKK& /
(KK/ 0
)KK0 1
;KK1 2
	lobbyViewLL 
.LL 
DataContextLL !
=LL" #
newLL$ '
LobbyViewModelLL( 6
(LL6 7
)LL7 8
;LL8 9
	lobbyViewMM 
.MM 
ShowMM 
(MM 
)MM 
;MM 
ifOO 
(OO 
	parameterOO 
isOO 
WindowOO #
windowOO$ *
)OO* +
{PP 
windowQQ 
.QQ 
CloseQQ 
(QQ 
)QQ 
;QQ 
}RR 
}SS 	
}TT 
}UU Œ0
üC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\Matches\PrivateMatchesViewModel.cs
	namespace 	
GuessMyMessClient
 
. 
	ViewModel %
.% &
Matches& -
{ 
public 

class #
PrivateMatchesViewModel (
:) *
ViewModelBase+ 8
{ 
public 
ICommand  
PublicMatchesCommand ,
{- .
get/ 2
;2 3
}4 5
public 
ICommand !
MinimizeWindowCommand -
{. /
get0 3
;3 4
}5 6
public 
ICommand !
MaximizeWindowCommand -
{. /
get0 3
;3 4
}5 6
public 
ICommand 
CloseWindowCommand *
{+ ,
get- 0
;0 1
}2 3
public 
ICommand 
ReturnCommand %
{& '
get( +
;+ ,
}- .
public #
PrivateMatchesViewModel &
(& '
)' (
{ 	 
PublicMatchesCommand  
=! "
new# &
RelayCommand' 3
(3 4 
ExecutePublicMatches4 H
)H I
;I J!
MinimizeWindowCommand !
=" #
new$ '
RelayCommand( 4
(4 5!
ExecuteMinimizeWindow5 J
)J K
;K L!
MaximizeWindowCommand !
=" #
new$ '
RelayCommand( 4
(4 5!
ExecuteMaximizeWindow5 J
)J K
;K L
CloseWindowCommand 
=  
new! $
RelayCommand% 1
(1 2
ExecuteCloseWindow2 D
)D E
;E F
ReturnCommand 
= 
new 
RelayCommand  ,
(, -
ExecuteReturn- :
): ;
;; <
} 	
private 
void  
ExecutePublicMatches )
() *
object* 0
obj1 4
)4 5
{ 	
PublicMatchesView   
publicMatchesView   /
=  0 1
new  2 5
PublicMatchesView  6 G
(  G H
)  H I
;  I J"
PublicMatchesViewModel!! ""
publicMatchesViewModel!!# 9
=!!: ;
new!!< ?"
PublicMatchesViewModel!!@ V
(!!V W
)!!W X
;!!X Y
publicMatchesView"" 
."" 
DataContext"" )
=""* +"
publicMatchesViewModel"", B
;""B C
publicMatchesView## 
.## 
Show## "
(##" #
)### $
;##$ %
Window%%  
privateMatchesWindow%% '
=%%( )
Application%%* 5
.%%5 6
Current%%6 =
.%%= >
Windows%%> E
.%%E F
OfType%%F L
<%%L M
PrivateMatchesView%%M _
>%%_ `
(%%` a
)%%a b
.%%b c
FirstOrDefault%%c q
(%%q r
)%%r s
;%%s t
if&& 
(&&  
privateMatchesWindow&& $
!=&&% '
null&&( ,
)&&, -
{''  
privateMatchesWindow(( $
.(($ %
Close((% *
(((* +
)((+ ,
;((, -
})) 
else** 
{++ 

MessageBox,, 
.,, 
Show,, 
(,,  
$str,,  l
,,,l m
$str,,n u
),,u v
;,,v w
}-- 
}.. 	
private00 
void00 
ExecuteCloseWindow00 '
(00' (
object00( .
	parameter00/ 8
)008 9
{11 	
if22 
(22 
	parameter22 
is22 
Window22 #
window22$ *
)22* +
{33 
Application44 
.44 
Current44 #
.44# $
Shutdown44$ ,
(44, -
)44- .
;44. /
}55 
}66 	
private88 
void88 !
ExecuteMaximizeWindow88 *
(88* +
object88+ 1
	parameter882 ;
)88; <
{99 	
if:: 
(:: 
	parameter:: 
is:: 
Window:: #
window::$ *
)::* +
{;; 
window<< 
.<< 
WindowState<< "
=<<# $
window<<% +
.<<+ ,
WindowState<<, 7
==<<8 :
WindowState<<; F
.<<F G
	Maximized<<G P
?<<Q R
WindowState<<S ^
.<<^ _
Normal<<_ e
:<<f g
WindowState<<h s
.<<s t
	Maximized<<t }
;<<} ~
}== 
}>> 	
private@@ 
void@@ !
ExecuteMinimizeWindow@@ *
(@@* +
object@@+ 1
	parameter@@2 ;
)@@; <
{AA 	
ifBB 
(BB 
	parameterBB 
isBB 
WindowBB #
windowBB$ *
)BB* +
{CC 
windowDD 
.DD 
WindowStateDD "
=DD# $
WindowStateDD% 0
.DD0 1
	MinimizedDD1 :
;DD: ;
}EE 
}FF 	
privateGG 
voidGG 
ExecuteReturnGG "
(GG" #
objectGG# )
	parameterGG* 3
)GG3 4
{HH 	
	LobbyViewII 
	lobbyViewII 
=II  !
newII" %
	LobbyViewII& /
(II/ 0
)II0 1
;II1 2
	lobbyViewJJ 
.JJ 
DataContextJJ !
=JJ" #
newJJ$ '
LobbyViewModelJJ( 6
(JJ6 7
)JJ7 8
;JJ8 9
	lobbyViewKK 
.KK 
ShowKK 
(KK 
)KK 
;KK 
ifMM 
(MM 
	parameterMM 
isMM 
WindowMM #
windowMM$ *
)MM* +
{NN 
windowOO 
.OO 
CloseOO 
(OO 
)OO 
;OO 
}PP 
}QQ 	
}RR 
}SS ˇ
óC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\HomePages\MainViewModel.cs
	namespace

 	
GuessMyMessClient


 
.

 
	ViewModel

 %
.

% &
	HomePages

& /
{ 
public 

class 
MainViewModel 
:  
ViewModelBase! .
{ 
public 
ICommand 
StartGameCommand (
{) *
get+ .
;. /
}0 1
public 
ICommand 
CloseWindowCommand *
{+ ,
get- 0
;0 1
}2 3
public 
ICommand !
MaximizeWindowCommand -
{. /
get0 3
;3 4
}5 6
public 
ICommand !
MinimizeWindowCommand -
{. /
get0 3
;3 4
}5 6
public 
MainViewModel 
( 
) 
{ 	
StartGameCommand 
= 
new "
RelayCommand# /
(/ 0
	StartGame0 9
)9 :
;: ;
CloseWindowCommand 
=  
new! $
RelayCommand% 1
(1 2
ExecuteCloseWindow2 D
)D E
;E F!
MaximizeWindowCommand !
=" #
new$ '
RelayCommand( 4
(4 5!
ExecuteMaximizeWindow5 J
)J K
;K L!
MinimizeWindowCommand !
=" #
new$ '
RelayCommand( 4
(4 5!
ExecuteMinimizeWindow5 J
)J K
;K L
} 	
private 
void 
	StartGame 
( 
object %
	parameter& /
)/ 0
{ 	
var 
welcomeView 
= 
new !
WelcomeView" -
(- .
). /
;/ 0
welcomeView 
. 
Show 
( 
) 
; 
if   
(   
	parameter   
is   
Window   #

mainWindow  $ .
)  . /
{!! 

mainWindow"" 
."" 
Close""  
(""  !
)""! "
;""" #
}## 
}$$ 	
private&& 
void&& 
ExecuteCloseWindow&& '
(&&' (
object&&( .
	parameter&&/ 8
)&&8 9
{'' 	
if(( 
((( 
	parameter(( 
is(( 
Window(( #
)((# $
{)) 
Application** 
.** 
Current** #
.**# $
Shutdown**$ ,
(**, -
)**- .
;**. /
}++ 
},, 	
private.. 
void.. !
ExecuteMaximizeWindow.. *
(..* +
object..+ 1
	parameter..2 ;
)..; <
{// 	
if00 
(00 
	parameter00 
is00 
Window00 #
window00$ *
)00* +
{11 
window22 
.22 
WindowState22 "
=22# $
window22% +
.22+ ,
WindowState22, 7
==228 :
WindowState22; F
.22F G
	Maximized22G P
?22Q R
WindowState22S ^
.22^ _
Normal22_ e
:22f g
WindowState22h s
.22s t
	Maximized22t }
;22} ~
}33 
}44 	
private66 
void66 !
ExecuteMinimizeWindow66 *
(66* +
object66+ 1
	parameter662 ;
)66; <
{77 	
if88 
(88 
	parameter88 
is88 
Window88 #
window88$ *
)88* +
{99 
window:: 
.:: 
WindowState:: "
=::# $
WindowState::% 0
.::0 1
	Minimized::1 :
;::: ;
};; 
}<< 	
}== 
}>> €|
ñC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\Lobby\ProfileViewModel.cs
	namespace 	
GuessMyMessClient
 
. 
	ViewModel %
.% &
Lobby& +
{ 
public 

class 
ProfileViewModel !
:" #
ViewModelBase$ 1
{ 
private 
UserProfileDto 
_profileData +
;+ ,
public 
string 
	FirstName 
{ 	
get 
{ 
return 
_profileData #
.# $
	FirstName$ -
;- .
} 
set 
{ 
if 
( 
_profileData  
.  !
	FirstName! *
!=+ -
value. 3
)3 4
{ 
_profileData  
.  !
	FirstName! *
=+ ,
value- 2
;2 3
OnPropertyChanged %
(% &
)& '
;' (
}   
}!! 
}"" 	
public## 
string## 
LastName## 
{$$ 	
get%% 
{&& 
return'' 
_profileData'' #
.''# $
LastName''$ ,
;'', -
}(( 
set)) 
{** 
if++ 
(++ 
_profileData++  
.++  !
LastName++! )
!=++* ,
value++- 2
)++2 3
{,, 
_profileData--  
.--  !
LastName--! )
=--* +
value--, 1
;--1 2
OnPropertyChanged.. %
(..% &
)..& '
;..' (
}// 
}00 
}11 	
public33 
string33 
Username33 
=>33 !
_profileData33" .
?33. /
.33/ 0
Username330 8
;338 9
public55 
string55 
Email55 
{66 	
get77 
{88 
return99 
_profileData99 #
?99# $
.99$ %
Email99% *
;99* +
}:: 
set;; 
{<< 
if== 
(== 
_profileData==  
!===! #
null==$ (
&&==) +
_profileData==, 8
.==8 9
Email==9 >
!===? A
value==B G
)==G H
{>> 
_profileData??  
.??  !
Email??! &
=??' (
value??) .
;??. /
OnPropertyChanged@@ %
(@@% &
)@@& '
;@@' (
}AA 
}BB 
}CC 	
publicEE 
boolEE 
IsMaleEE 
=>EE 
_profileDataEE *
?EE* +
.EE+ ,
GenderIdEE, 4
==EE5 7
$numEE8 9
;EE9 :
publicFF 
boolFF 
IsFemaleFF 
=>FF 
_profileDataFF  ,
?FF, -
.FF- .
GenderIdFF. 6
==FF7 9
$numFF: ;
;FF; <
publicGG 
boolGG 
IsNonBinaryGG 
=>GG  "
_profileDataGG# /
?GG/ 0
.GG0 1
GenderIdGG1 9
==GG: <
$numGG= >
;GG> ?
publicII 
ICommandII 
ChangeEmailCommandII *
{II+ ,
getII- 0
;II0 1
}II2 3
publicJJ 
ICommandJJ !
ChangePasswordCommandJJ -
{JJ. /
getJJ0 3
;JJ3 4
}JJ5 6
publicKK 
ICommandKK 
SaveProfileCommandKK *
{KK+ ,
getKK- 0
;KK0 1
}KK2 3
publicMM 
ProfileViewModelMM 
(MM  
UserProfileDtoMM  .
initialProfileDataMM/ A
)MMA B
{NN 	
_profileDataOO 
=OO 
initialProfileDataOO -
??OO. 0
throwOO1 6
newOO7 :!
ArgumentNullExceptionOO; P
(OOP Q
nameofOOQ W
(OOW X
initialProfileDataOOX j
)OOj k
,OOk l
$str	OOm ì
)
OOì î
;
OOî ï
ChangeEmailCommandQQ 
=QQ  
newQQ! $
RelayCommandQQ% 1
(QQ1 2
ExecuteChangeEmailQQ2 D
)QQD E
;QQE F!
ChangePasswordCommandRR !
=RR" #
newRR$ '
RelayCommandRR( 4
(RR4 5!
ExecuteChangePasswordRR5 J
)RRJ K
;RRK L
SaveProfileCommandSS 
=SS  
newSS! $
RelayCommandSS% 1
(SS1 2
ExecuteSaveProfileSS2 D
)SSD E
;SSE F
}TT 	
privateVV 
asyncVV 
voidVV 
ExecuteSaveProfileVV -
(VV- .
objectVV. 4
	parameterVV5 >
)VV> ?
{WW 	
ifXX 
(XX 
stringXX 
.XX 
IsNullOrWhiteSpaceXX )
(XX) *
	FirstNameXX* 3
)XX3 4
||XX5 7
stringXX8 >
.XX> ?
IsNullOrWhiteSpaceXX? Q
(XXQ R
LastNameXXR Z
)XXZ [
)XX[ \
{YY 

MessageBoxZZ 
.ZZ 
ShowZZ 
(ZZ  
Lang[[ 
.[[ '
alertProfileMandatoryFields[[ 4
,[[4 5
Lang\\ 
.\\  
alertInputErrorTitle\\ -
,\\- .
MessageBoxButton]] $
.]]$ %
OK]]% '
,]]' (
MessageBoxImage]]) 8
.]]8 9
Warning]]9 @
)]]@ A
;]]A B
return^^ 
;^^ 
}__ 
usingaa 
(aa 
varaa 
clientaa 
=aa 
newaa  #$
UserProfileServiceClientaa$ <
(aa< =
)aa= >
)aa> ?
{bb 
trycc 
{dd 
OperationResultDtoee &
resultee' -
=ee. /
awaitee0 5
clientee6 <
.ee< =
UpdateProfileAsyncee= O
(eeO P
_profileDataeeP \
.ee\ ]
Usernameee] e
,eee f
_profileDataeeg s
)ees t
;eet u
ifgg 
(gg 
resultgg 
.gg 
Successgg &
)gg& '
{hh 

MessageBoxii "
.ii" #
Showii# '
(ii' (
Langjj  
.jj  !%
alertProfileUpdateSuccessjj! :
,jj: ;
Langkk  
.kk  !
alertSuccessTitlekk! 2
,kk2 3
MessageBoxButtonll ,
.ll, -
OKll- /
,ll/ 0
MessageBoxImagemm +
.mm+ ,
Informationmm, 7
)mm7 8
;mm8 9
}nn 
elseoo 
{pp 

MessageBoxqq "
.qq" #
Showqq# '
(qq' (
resultrr "
.rr" #
Messagerr# *
,rr* +
Langss  
.ss  !(
alertProfileUpdateErrorTitless! =
,ss= >
MessageBoxButtontt ,
.tt, -
OKtt- /
,tt/ 0
MessageBoxImageuu +
.uu+ ,
Warninguu, 3
)uu3 4
;uu4 5
}vv 
}ww 
catchxx 
(xx 
FaultExceptionxx %

fexGeneralxx& 0
)xx0 1
{yy 

MessageBoxzz 
.zz 
Showzz #
(zz# $
Lang{{ 
.{{ #
alertServerErrorMessage{{ 4
,{{4 5
Lang|| 
.|| (
alertProfileUpdateErrorTitle|| 9
,||9 :
MessageBoxButton}} (
.}}( )
OK}}) +
,}}+ ,
MessageBoxImage~~ '
.~~' (
Error~~( -
)~~- .
;~~. /
Console 
. 
	WriteLine %
(% &
$"& (
$str( B
{B C

fexGeneralC M
.M N
MessageN U
}U V
"V W
)W X
;X Y
}
ÄÄ 
catch
ÅÅ 
(
ÅÅ '
EndpointNotFoundException
ÅÅ 0
ex
ÅÅ1 3
)
ÅÅ3 4
{
ÇÇ 

MessageBox
ÉÉ 
.
ÉÉ 
Show
ÉÉ #
(
ÉÉ# $
Lang
ÑÑ 
.
ÑÑ )
alertConnectionErrorMessage
ÑÑ 8
,
ÑÑ8 9
Lang
ÖÖ 
.
ÖÖ *
alertProfileUpdateErrorTitle
ÖÖ 9
,
ÖÖ9 :
MessageBoxButton
ÜÜ (
.
ÜÜ( )
OK
ÜÜ) +
,
ÜÜ+ ,
MessageBoxImage
áá '
.
áá' (
Error
áá( -
)
áá- .
;
áá. /
Console
àà 
.
àà 
	WriteLine
àà %
(
àà% &
$"
àà& (
$str
àà( I
{
ààI J
ex
ààJ L
.
ààL M
Message
ààM T
}
ààT U
"
ààU V
)
ààV W
;
ààW X
}
ââ 
catch
ää 
(
ää 
	Exception
ää  
ex
ää! #
)
ää# $
{
ãã 

MessageBox
åå 
.
åå 
Show
åå #
(
åå# $
Lang
çç 
.
çç ,
alertProfileUpdateUnknownError
çç ;
,
çç; <
Lang
éé 
.
éé *
alertProfileUpdateErrorTitle
éé 9
,
éé9 :
MessageBoxButton
èè (
.
èè( )
OK
èè) +
,
èè+ ,
MessageBoxImage
êê '
.
êê' (
Error
êê( -
)
êê- .
;
êê. /
Console
ëë 
.
ëë 
	WriteLine
ëë %
(
ëë% &
$"
ëë& (
$str
ëë( Q
{
ëëQ R
ex
ëëR T
.
ëëT U
Message
ëëU \
}
ëë\ ]
"
ëë] ^
)
ëë^ _
;
ëë_ `
}
íí 
}
ìì 
}
îî 	
private
ññ 
void
ññ  
ExecuteChangeEmail
ññ '
(
ññ' (
object
ññ( .
	parameter
ññ/ 8
)
ññ8 9
{
óó 	
var
òò 
changeEmailVM
òò 
=
òò 
new
òò  #"
ChangeEmailViewModel
òò$ 8
(
òò8 9
_profileData
òò9 E
.
òòE F
Username
òòF N
,
òòN O
(
òòP Q
newEmail
òòQ Y
)
òòY Z
=>
òò[ ]
{
ôô 
Email
öö 
=
öö 
newEmail
öö  
;
öö  !
}
õõ 
)
õõ 
;
õõ 
var
ùù 
changeEmailView
ùù 
=
ùù  !
new
ùù" %
ChangeEmailView
ùù& 5
{
ûû 
DataContext
üü 
=
üü 
changeEmailVM
üü +
}
†† 
;
†† 
changeEmailView
°° 
.
°° 

ShowDialog
°° &
(
°°& '
)
°°' (
;
°°( )
}
¢¢ 	
private
§§ 
async
§§ 
void
§§ #
ExecuteChangePassword
§§ 0
(
§§0 1
object
§§1 7
	parameter
§§8 A
)
§§A B
{
•• 	

MessageBox
¶¶ 
.
¶¶ 
Show
¶¶ 
(
¶¶ 
Lang
ßß 
.
ßß )
alertPasswordChangeCodeInfo
ßß 0
,
ßß0 1
Lang
®® 
.
®® &
alertPasswordChangeTitle
®® -
,
®®- .
MessageBoxButton
©©  
.
©©  !
OK
©©! #
,
©©# $
MessageBoxImage
™™ 
.
™™  
Information
™™  +
)
™™+ ,
;
™™, -
try
¨¨ 
{
≠≠ 
using
ÆÆ 
(
ÆÆ 
var
ÆÆ 
client
ÆÆ !
=
ÆÆ" #
new
ÆÆ$ '&
UserProfileServiceClient
ÆÆ( @
(
ÆÆ@ A
)
ÆÆA B
)
ÆÆB C
{
ØØ 
var
∞∞ 
result
∞∞ 
=
∞∞  
await
∞∞! &
client
∞∞' -
.
∞∞- .(
RequestChangePasswordAsync
∞∞. H
(
∞∞H I
_profileData
∞∞I U
.
∞∞U V
Username
∞∞V ^
)
∞∞^ _
;
∞∞_ `
if
≤≤ 
(
≤≤ 
result
≤≤ 
.
≤≤ 
Success
≤≤ &
)
≤≤& '
{
≥≥ 
var
¥¥ 
changePasswordVM
¥¥ ,
=
¥¥- .
new
¥¥/ 2%
ChangePasswordViewModel
¥¥3 J
(
¥¥J K
_profileData
¥¥K W
.
¥¥W X
Username
¥¥X `
)
¥¥` a
;
¥¥a b
var
µµ  
changePasswordView
µµ .
=
µµ/ 0
new
µµ1 4 
ChangePasswordView
µµ5 G
{
∂∂ 
DataContext
∑∑ '
=
∑∑( )
changePasswordVM
∑∑* :
}
∏∏ 
;
∏∏  
changePasswordView
ππ *
.
ππ* +

ShowDialog
ππ+ 5
(
ππ5 6
)
ππ6 7
;
ππ7 8
}
∫∫ 
else
ªª 
{
ºº 

MessageBox
ΩΩ "
.
ΩΩ" #
Show
ΩΩ# '
(
ΩΩ' (
result
ææ "
.
ææ" #
Message
ææ# *
,
ææ* +
Lang
øø  
.
øø  !,
alertPasswordRequestErrorTitle
øø! ?
,
øø? @
MessageBoxButton
¿¿ ,
.
¿¿, -
OK
¿¿- /
,
¿¿/ 0
MessageBoxImage
¡¡ +
.
¡¡+ ,
Warning
¡¡, 3
)
¡¡3 4
;
¡¡4 5
}
¬¬ 
}
√√ 
}
ƒƒ 
catch
≈≈ 
(
≈≈ 
FaultException
≈≈ !

fexGeneral
≈≈" ,
)
≈≈, -
{
∆∆ 

MessageBox
«« 
.
«« 
Show
«« 
(
««  
Lang
»» 
.
»» %
alertServerErrorMessage
»» 0
,
»»0 1
Lang
…… 
.
…… ,
alertPasswordRequestErrorTitle
…… 7
,
……7 8
MessageBoxButton
   $
.
  $ %
OK
  % '
,
  ' (
MessageBoxImage
ÀÀ #
.
ÀÀ# $
Error
ÀÀ$ )
)
ÀÀ) *
;
ÀÀ* +
Console
ÃÃ 
.
ÃÃ 
	WriteLine
ÃÃ !
(
ÃÃ! "
$"
ÃÃ" $
$str
ÃÃ$ J
{
ÃÃJ K

fexGeneral
ÃÃK U
.
ÃÃU V
Message
ÃÃV ]
}
ÃÃ] ^
"
ÃÃ^ _
)
ÃÃ_ `
;
ÃÃ` a
}
ÕÕ 
catch
ŒŒ 
(
ŒŒ '
EndpointNotFoundException
ŒŒ ,
ex
ŒŒ- /
)
ŒŒ/ 0
{
œœ 

MessageBox
–– 
.
–– 
Show
–– 
(
––  
Lang
—— 
.
—— )
alertConnectionErrorMessage
—— 4
,
——4 5
Lang
““ 
.
““ ,
alertPasswordRequestErrorTitle
““ 7
,
““7 8
MessageBoxButton
”” $
.
””$ %
OK
””% '
,
””' (
MessageBoxImage
‘‘ #
.
‘‘# $
Error
‘‘$ )
)
‘‘) *
;
‘‘* +
Console
’’ 
.
’’ 
	WriteLine
’’ !
(
’’! "
$"
’’" $
$str
’’$ Q
{
’’Q R
ex
’’R T
.
’’T U
Message
’’U \
}
’’\ ]
"
’’] ^
)
’’^ _
;
’’_ `
}
÷÷ 
catch
◊◊ 
(
◊◊ 
	Exception
◊◊ 
ex
◊◊ 
)
◊◊  
{
ÿÿ 

MessageBox
ŸŸ 
.
ŸŸ 
Show
ŸŸ 
(
ŸŸ  
Lang
⁄⁄ 
.
⁄⁄ .
 alertPasswordRequestUnknownError
⁄⁄ 9
,
⁄⁄9 :
Lang
€€ 
.
€€ ,
alertPasswordRequestErrorTitle
€€ 7
,
€€7 8
MessageBoxButton
‹‹ $
.
‹‹$ %
OK
‹‹% '
,
‹‹' (
MessageBoxImage
›› #
.
››# $
Error
››$ )
)
››) *
;
››* +
Console
ﬁﬁ 
.
ﬁﬁ 
	WriteLine
ﬁﬁ !
(
ﬁﬁ! "
$"
ﬁﬁ" $
$str
ﬁﬁ$ Z
{
ﬁﬁZ [
ex
ﬁﬁ[ ]
.
ﬁﬁ] ^
Message
ﬁﬁ^ e
}
ﬁﬁe f
"
ﬁﬁf g
)
ﬁﬁg h
;
ﬁﬁh i
}
ﬂﬂ 
}
‡‡ 	
}
·· 
}‚‚ «´
ñC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\Lobby\FriendsViewModel.cs
	namespace 	
GuessMyMessClient
 
. 
	ViewModel %
.% &
Lobby& +
{ 
public 

class 
FriendsViewModel !
:" #
ViewModelBase$ 1
,1 2
IDisposable3 >
{ 
private 
SocialServiceClient #
Client$ *
=>+ -
SocialClientManager. A
.A B
InstanceB J
.J K
ClientK Q
;Q R
public  
ObservableCollection #
<# $
FriendViewModel$ 3
>3 4
Friends5 <
{= >
get? B
;B C
}D E
public  
ObservableCollection #
<# $"
FriendRequestViewModel$ :
>: ;
FriendRequests< J
{K L
getM P
;P Q
}R S
private  
ObservableCollection $
<$ %
UserProfileDto% 3
>3 4
_searchResults5 C
;C D
public  
ObservableCollection #
<# $
UserProfileDto$ 2
>2 3
SearchResults4 A
{ 	
get 
{ 
return 
_searchResults '
;' (
}) *
set 
{ 
if 
( 
_searchResults "
!=# %
value& +
)+ ,
{ 
_searchResults "
=# $
value% *
;* +
OnPropertyChanged %
(% &
)& '
;' (
}   
}!! 
}"" 	
private$$ 
string$$ 
_searchText$$ "
;$$" #
public%% 
string%% 

SearchText%%  
{&& 	
get'' 
{'' 
return'' 
_searchText'' $
;''$ %
}''& '
set(( 
{)) 
if** 
(** 
_searchText** 
!=**  "
value**# (
)**( )
{++ 
_searchText,, 
=,,  !
value,," '
;,,' (
OnPropertyChanged-- %
(--% &
)--& '
;--' (
}.. 
}// 
}00 	
public22 
ICommand22 
SearchCommand22 %
{22& '
get22( +
;22+ ,
}22- .
public33 
ICommand33  
InviteByEmailCommand33 ,
{33- .
get33/ 2
;332 3
}334 5
public44 
ICommand44 $
SendFriendRequestCommand44 0
{441 2
get443 6
;446 7
}448 9
public66 
FriendsViewModel66 
(66  
)66  !
{77 	
Friends88 
=88 
new88  
ObservableCollection88 .
<88. /
FriendViewModel88/ >
>88> ?
(88? @
)88@ A
;88A B
FriendRequests99 
=99 
new99   
ObservableCollection99! 5
<995 6"
FriendRequestViewModel996 L
>99L M
(99M N
)99N O
;99O P
SearchResults:: 
=:: 
new::  
ObservableCollection::  4
<::4 5
UserProfileDto::5 C
>::C D
(::D E
)::E F
;::F G
SearchCommand<< 
=<< 
new<< 
RelayCommand<<  ,
(<<, -
async<<- 2
	parameter<<3 <
=><<= ?
await<<@ E
SearchUsersAsync<<F V
(<<V W
)<<W X
,<<X Y
	parameter<<Z c
=><<d f$
CanExecuteNetworkActions<<g 
(	<< Ä
)
<<Ä Å
)
<<Å Ç
;
<<Ç É 
InviteByEmailCommand==  
===! "
new==# &
RelayCommand==' 3
(==3 4
InviteByEmail==4 A
,==A B
	parameter==C L
=>==M O$
CanExecuteNetworkActions==P h
(==h i
)==i j
)==j k
;==k l$
SendFriendRequestCommand>> $
=>>% &
new>>' *
RelayCommand>>+ 7
(>>7 8
SendFriendRequest>>8 I
,>>I J
	parameter>>K T
=>>>U W$
CanExecuteNetworkActions>>X p
(>>p q
)>>q r
)>>r s
;>>s t
SubscribeToEvents@@ 
(@@ 
)@@ 
;@@  
ifBB 
(BB $
CanExecuteNetworkActionsBB (
(BB( )
)BB) *
)BB* +
{CC '
LoadFriendsAndRequestsAsyncDD +
(DD+ ,
)DD, -
;DD- .
}EE 
elseFF 
{GG 
ConsoleHH 
.HH 
	WriteLineHH !
(HH! "
$strHH" l
)HHl m
;HHm n
}II 
}JJ 	
privateLL 
boolLL $
CanExecuteNetworkActionsLL -
(LL- .
)LL. /
{MM 	
returnNN 
ClientNN 
!=NN 
nullNN !
&&NN" $
ClientNN% +
.NN+ ,
StateNN, 1
==NN2 4
CommunicationStateNN5 G
.NNG H
OpenedNNH N
;NNN O
}OO 	
privateQQ 
asyncQQ 
TaskQQ '
LoadFriendsAndRequestsAsyncQQ 6
(QQ6 7
)QQ7 8
{RR 	
stringSS 
usernameSS 
=SS 
SessionManagerSS ,
.SS, -
InstanceSS- 5
.SS5 6
CurrentUsernameSS6 E
;SSE F
ifUU 
(UU 
stringUU 
.UU 
IsNullOrEmptyUU $
(UU$ %
usernameUU% -
)UU- .
||UU/ 1
!UU2 3$
CanExecuteNetworkActionsUU3 K
(UUK L
)UUL M
)UUM N
{VV 
ConsoleWW 
.WW 
	WriteLineWW !
(WW! "
$"WW" $
$strWW$ b
{WWb c
usernameWWc k
}WWk l
$strWWl {
{WW{ |%
CanExecuteNetworkActions	WW| î
(
WWî ï
)
WWï ñ
}
WWñ ó
"
WWó ò
)
WWò ô
;
WWô ö
returnXX 
;XX 
}YY 
try[[ 
{\\ 
var]] 
friends]] 
=]] 
await]] #
Client]]$ *
.]]* +
GetFriendsListAsync]]+ >
(]]> ?
username]]? G
)]]G H
;]]H I
Application^^ 
.^^ 
Current^^ #
.^^# $

Dispatcher^^$ .
.^^. /
Invoke^^/ 5
(^^5 6
(^^6 7
)^^7 8
=>^^9 ;
{__ 
Friends`` 
.`` 
Clear`` !
(``! "
)``" #
;``# $
ifaa 
(aa 
friendsaa 
!=aa  "
nullaa# '
)aa' (
{bb 
foreachcc 
(cc  !
varcc! $
fcc% &
incc' )
friendscc* 1
)cc1 2
{dd 
Friendsee #
.ee# $
Addee$ '
(ee' (
newee( +
FriendViewModelee, ;
{ee< =
Usernameee> F
=eeG H
feeI J
.eeJ K
UsernameeeK S
,eeS T
IsOnlineeeU ]
=ee^ _
fee` a
.eea b
IsOnlineeeb j
}eek l
)eel m
;eem n
}ff 
}gg 
}hh 
)hh 
;hh 
varjj 
requestsjj 
=jj 
awaitjj $
Clientjj% +
.jj+ ,"
GetFriendRequestsAsyncjj, B
(jjB C
usernamejjC K
)jjK L
;jjL M
Applicationkk 
.kk 
Currentkk #
.kk# $

Dispatcherkk$ .
.kk. /
Invokekk/ 5
(kk5 6
(kk6 7
)kk7 8
=>kk9 ;
{ll 
FriendRequestsmm "
.mm" #
Clearmm# (
(mm( )
)mm) *
;mm* +
ifnn 
(nn 
requestsnn  
!=nn! #
nullnn$ (
)nn( )
{oo 
foreachpp 
(pp  !
varpp! $
rpp% &
inpp' )
requestspp* 2
)pp2 3
{qq 
FriendRequestsrr *
.rr* +
Addrr+ .
(rr. /
newrr/ 2"
FriendRequestViewModelrr3 I
(rrI J
thisrrJ N
)rrN O
{rrP Q
RequesterUsernamerrR c
=rrd e
rrrf g
.rrg h
RequesterUsernamerrh y
}rrz {
)rr{ |
;rr| }
}ss 
}tt 
}uu 
)uu 
;uu 
}vv 
catchww 
(ww 
FaultExceptionww !

fexGeneralww" ,
)ww, -
{xx 

MessageBoxyy 
.yy 
Showyy 
(yy  
Langzz 
.zz  
alertFriendLoadErrorzz -
,zz- .
Lang{{ 
.{{ 
alertErrorTitle{{ (
,{{( )
MessageBoxButton|| $
.||$ %
OK||% '
,||' (
MessageBoxImage}} #
.}}# $
Error}}$ )
)}}) *
;}}* +
Console~~ 
.~~ 
	WriteLine~~ !
(~~! "
$"~~" $
$str~~$ H
{~~H I

fexGeneral~~I S
.~~S T
Message~~T [
}~~[ \
"~~\ ]
)~~] ^
;~~^ _
} 
catch
ÄÄ 
(
ÄÄ '
EndpointNotFoundException
ÄÄ ,
ex
ÄÄ- /
)
ÄÄ/ 0
{
ÅÅ 

MessageBox
ÇÇ 
.
ÇÇ 
Show
ÇÇ 
(
ÇÇ  
Lang
ÉÉ 
.
ÉÉ )
alertConnectionErrorMessage
ÉÉ 4
,
ÉÉ4 5
Lang
ÑÑ 
.
ÑÑ '
alertConnectionErrorTitle
ÑÑ 2
,
ÑÑ2 3
MessageBoxButton
ÖÖ $
.
ÖÖ$ %
OK
ÖÖ% '
,
ÖÖ' (
MessageBoxImage
ÜÜ #
.
ÜÜ# $
Error
ÜÜ$ )
)
ÜÜ) *
;
ÜÜ* +
Console
áá 
.
áá 
	WriteLine
áá !
(
áá! "
$"
áá" $
$str
áá$ O
{
ááO P
ex
ááP R
.
ááR S
Message
ááS Z
}
ááZ [
"
áá[ \
)
áá\ ]
;
áá] ^
}
àà 
catch
ââ 
(
ââ 
	Exception
ââ 
ex
ââ 
)
ââ  
{
ää 

MessageBox
ãã 
.
ãã 
Show
ãã 
(
ãã  
Lang
åå 
.
åå "
alertFriendLoadError
åå -
,
åå- .
Lang
çç 
.
çç 
alertErrorTitle
çç (
,
çç( )
MessageBoxButton
éé $
.
éé$ %
OK
éé% '
,
éé' (
MessageBoxImage
èè #
.
èè# $
Error
èè$ )
)
èè) *
;
èè* +
Console
êê 
.
êê 
	WriteLine
êê !
(
êê! "
$"
êê" $
$str
êê$ H
{
êêH I
ex
êêI K
.
êêK L
Message
êêL S
}
êêS T
"
êêT U
)
êêU V
;
êêV W
}
ëë 
}
íí 	
private
îî 
async
îî 
Task
îî 
SearchUsersAsync
îî +
(
îî+ ,
)
îî, -
{
ïï 	
if
ññ 
(
ññ 
string
ññ 
.
ññ  
IsNullOrWhiteSpace
ññ )
(
ññ) *

SearchText
ññ* 4
)
ññ4 5
)
ññ5 6
{
óó 
Application
òò 
.
òò 
Current
òò #
.
òò# $

Dispatcher
òò$ .
.
òò. /
Invoke
òò/ 5
(
òò5 6
(
òò6 7
)
òò7 8
=>
òò9 ;
SearchResults
òò< I
.
òòI J
Clear
òòJ O
(
òòO P
)
òòP Q
)
òòQ R
;
òòR S
return
ôô 
;
ôô 
}
öö 
if
úú 
(
úú 
!
úú &
CanExecuteNetworkActions
úú )
(
úú) *
)
úú* +
)
úú+ ,
{
ùù 
Console
ûû 
.
ûû 
	WriteLine
ûû !
(
ûû! "
$str
ûû" ]
)
ûû] ^
;
ûû^ _
return
üü 
;
üü 
}
†† 
try
¢¢ 
{
££ 
var
§§ 
users
§§ 
=
§§ 
await
§§ !
Client
§§" (
.
§§( )
SearchUsersAsync
§§) 9
(
§§9 :

SearchText
§§: D
,
§§D E
SessionManager
§§F T
.
§§T U
Instance
§§U ]
.
§§] ^
CurrentUsername
§§^ m
)
§§m n
;
§§n o
Application
•• 
.
•• 
Current
•• #
.
••# $

Dispatcher
••$ .
.
••. /
Invoke
••/ 5
(
••5 6
(
••6 7
)
••7 8
=>
••9 ;
{
¶¶ 
SearchResults
ßß !
.
ßß! "
Clear
ßß" '
(
ßß' (
)
ßß( )
;
ßß) *
if
®® 
(
®® 
users
®® 
!=
®®  
null
®®! %
)
®®% &
{
©© 
foreach
™™ 
(
™™  !
var
™™! $
u
™™% &
in
™™' )
users
™™* /
)
™™/ 0
{
´´ 
SearchResults
¨¨ )
.
¨¨) *
Add
¨¨* -
(
¨¨- .
u
¨¨. /
)
¨¨/ 0
;
¨¨0 1
}
≠≠ 
}
ÆÆ 
}
ØØ 
)
ØØ 
;
ØØ 
}
∞∞ 
catch
±± 
(
±± 
FaultException
±± !

fexGeneral
±±" ,
)
±±, -
{
≤≤ 

MessageBox
≥≥ 
.
≥≥ 
Show
≥≥ 
(
≥≥  
Lang
¥¥ 
.
¥¥ $
alertFriendSearchError
¥¥ /
,
¥¥/ 0
Lang
µµ 
.
µµ 
alertErrorTitle
µµ (
,
µµ( )
MessageBoxButton
∂∂ $
.
∂∂$ %
OK
∂∂% '
,
∂∂' (
MessageBoxImage
∑∑ #
.
∑∑# $
Error
∑∑$ )
)
∑∑) *
;
∑∑* +
Console
∏∏ 
.
∏∏ 
	WriteLine
∏∏ !
(
∏∏! "
$"
∏∏" $
$str
∏∏$ ?
{
∏∏? @

fexGeneral
∏∏@ J
.
∏∏J K
Message
∏∏K R
}
∏∏R S
"
∏∏S T
)
∏∏T U
;
∏∏U V
}
ππ 
catch
∫∫ 
(
∫∫ '
EndpointNotFoundException
∫∫ ,
ex
∫∫- /
)
∫∫/ 0
{
ªª 

MessageBox
ºº 
.
ºº 
Show
ºº 
(
ºº  
Lang
ΩΩ 
.
ΩΩ )
alertConnectionErrorMessage
ΩΩ 4
,
ΩΩ4 5
Lang
ææ 
.
ææ '
alertConnectionErrorTitle
ææ 2
,
ææ2 3
MessageBoxButton
øø $
.
øø$ %
OK
øø% '
,
øø' (
MessageBoxImage
¿¿ #
.
¿¿# $
Error
¿¿$ )
)
¿¿) *
;
¿¿* +
Console
¡¡ 
.
¡¡ 
	WriteLine
¡¡ !
(
¡¡! "
$"
¡¡" $
$str
¡¡$ F
{
¡¡F G
ex
¡¡G I
.
¡¡I J
Message
¡¡J Q
}
¡¡Q R
"
¡¡R S
)
¡¡S T
;
¡¡T U
}
¬¬ 
catch
√√ 
(
√√ 
	Exception
√√ 
ex
√√ 
)
√√  
{
ƒƒ 

MessageBox
≈≈ 
.
≈≈ 
Show
≈≈ 
(
≈≈  
Lang
∆∆ 
.
∆∆ $
alertFriendSearchError
∆∆ /
,
∆∆/ 0
Lang
«« 
.
«« 
alertErrorTitle
«« (
,
««( )
MessageBoxButton
»» $
.
»»$ %
OK
»»% '
,
»»' (
MessageBoxImage
…… #
.
……# $
Error
……$ )
)
……) *
;
……* +
Console
   
.
   
	WriteLine
   !
(
  ! "
$"
  " $
$str
  $ 3
{
  3 4
ex
  4 6
.
  6 7
Message
  7 >
}
  > ?
"
  ? @
)
  @ A
;
  A B
}
ÀÀ 
}
ÃÃ 	
private
ŒŒ 
void
ŒŒ 
SendFriendRequest
ŒŒ &
(
ŒŒ& '
object
ŒŒ' -
	parameter
ŒŒ. 7
)
ŒŒ7 8
{
œœ 	
if
–– 
(
–– 
	parameter
–– 
is
–– 
UserProfileDto
–– +
userProfile
––, 7
&&
––8 :&
CanExecuteNetworkActions
––; S
(
––S T
)
––T U
)
––U V
{
—— 
try
““ 
{
”” 
Client
‘‘ 
.
‘‘ 
SendFriendRequest
‘‘ ,
(
‘‘, -
SessionManager
‘‘- ;
.
‘‘; <
Instance
‘‘< D
.
‘‘D E
CurrentUsername
‘‘E T
,
‘‘T U
userProfile
‘‘V a
.
‘‘a b
Username
‘‘b j
)
‘‘j k
;
‘‘k l
Application
’’ 
.
’’  
Current
’’  '
.
’’' (

Dispatcher
’’( 2
.
’’2 3
Invoke
’’3 9
(
’’9 :
(
’’: ;
)
’’; <
=>
’’= ?
{
÷÷ 
SearchResults
◊◊ %
.
◊◊% &
Remove
◊◊& ,
(
◊◊, -
userProfile
◊◊- 8
)
◊◊8 9
;
◊◊9 :
}
ÿÿ 
)
ÿÿ 
;
ÿÿ 

MessageBox
ŸŸ 
.
ŸŸ 
Show
ŸŸ #
(
ŸŸ# $
string
⁄⁄ 
.
⁄⁄ 
Format
⁄⁄ %
(
⁄⁄% &
Lang
⁄⁄& *
.
⁄⁄* +$
alertFriendRequestSent
⁄⁄+ A
,
⁄⁄A B
userProfile
⁄⁄C N
.
⁄⁄N O
Username
⁄⁄O W
)
⁄⁄W X
,
⁄⁄X Y
Lang
€€ 
.
€€ 
alertSuccessTitle
€€ .
,
€€. /
MessageBoxButton
‹‹ (
.
‹‹( )
OK
‹‹) +
,
‹‹+ ,
MessageBoxImage
›› '
.
››' (
Information
››( 3
)
››3 4
;
››4 5
}
ﬁﬁ 
catch
ﬂﬂ 
(
ﬂﬂ 
FaultException
ﬂﬂ %
<
ﬂﬂ% &
string
ﬂﬂ& ,
>
ﬂﬂ, -
fex
ﬂﬂ. 1
)
ﬂﬂ1 2
{
‡‡ 

MessageBox
·· 
.
·· 
Show
·· #
(
··# $
fex
‚‚ 
.
‚‚ 
Detail
‚‚ "
,
‚‚" #
Lang
„„ 
.
„„ *
alertFriendRequestErrorTitle
„„ 9
,
„„9 :
MessageBoxButton
‰‰ (
.
‰‰( )
OK
‰‰) +
,
‰‰+ ,
MessageBoxImage
ÂÂ '
.
ÂÂ' (
Warning
ÂÂ( /
)
ÂÂ/ 0
;
ÂÂ0 1
Console
ÊÊ 
.
ÊÊ 
	WriteLine
ÊÊ %
(
ÊÊ% &
$"
ÊÊ& (
$str
ÊÊ( ?
{
ÊÊ? @
fex
ÊÊ@ C
.
ÊÊC D
Detail
ÊÊD J
}
ÊÊJ K
"
ÊÊK L
)
ÊÊL M
;
ÊÊM N
}
ÁÁ 
catch
ËË 
(
ËË $
CommunicationException
ËË -
commEx
ËË. 4
)
ËË4 5
{
ÈÈ 

MessageBox
ÍÍ 
.
ÍÍ 
Show
ÍÍ #
(
ÍÍ# $
Lang
ÎÎ 
.
ÎÎ )
alertFriendRequestSendError
ÎÎ 8
,
ÎÎ8 9
Lang
ÏÏ 
.
ÏÏ *
alertFriendRequestErrorTitle
ÏÏ 9
,
ÏÏ9 :
MessageBoxButton
ÌÌ (
.
ÌÌ( )
OK
ÌÌ) +
,
ÌÌ+ ,
MessageBoxImage
ÓÓ '
.
ÓÓ' (
Error
ÓÓ( -
)
ÓÓ- .
;
ÓÓ. /
Console
ÔÔ 
.
ÔÔ 
	WriteLine
ÔÔ %
(
ÔÔ% &
$"
ÔÔ& (
$str
ÔÔ( M
{
ÔÔM N
commEx
ÔÔN T
.
ÔÔT U
Message
ÔÔU \
}
ÔÔ\ ]
"
ÔÔ] ^
)
ÔÔ^ _
;
ÔÔ_ `
}
 
catch
ÒÒ 
(
ÒÒ 
	Exception
ÒÒ  
ex
ÒÒ! #
)
ÒÒ# $
{
ÚÚ 

MessageBox
ÛÛ 
.
ÛÛ 
Show
ÛÛ #
(
ÛÛ# $
Lang
ÙÙ 
.
ÙÙ )
alertFriendRequestSendError
ÙÙ 8
,
ÙÙ8 9
Lang
ıı 
.
ıı *
alertFriendRequestErrorTitle
ıı 9
,
ıı9 :
MessageBoxButton
ˆˆ (
.
ˆˆ( )
OK
ˆˆ) +
,
ˆˆ+ ,
MessageBoxImage
˜˜ '
.
˜˜' (
Error
˜˜( -
)
˜˜- .
;
˜˜. /
Console
¯¯ 
.
¯¯ 
	WriteLine
¯¯ %
(
¯¯% &
$"
¯¯& (
$str
¯¯( @
{
¯¯@ A
ex
¯¯A C
.
¯¯C D
Message
¯¯D K
}
¯¯K L
"
¯¯L M
)
¯¯M N
;
¯¯N O
}
˘˘ 
}
˙˙ 
else
˚˚ 
if
˚˚ 
(
˚˚ 
!
˚˚ 
(
˚˚ 
	parameter
˚˚  
is
˚˚! #
UserProfileDto
˚˚$ 2
)
˚˚2 3
)
˚˚3 4
{
¸¸ 
Console
˝˝ 
.
˝˝ 
	WriteLine
˝˝ !
(
˝˝! "
$str
˝˝" J
)
˝˝J K
;
˝˝K L
}
˛˛ 
else
ˇˇ 
if
ˇˇ 
(
ˇˇ 
!
ˇˇ &
CanExecuteNetworkActions
ˇˇ .
(
ˇˇ. /
)
ˇˇ/ 0
)
ˇˇ0 1
{
ÄÄ 
Console
ÅÅ 
.
ÅÅ 
	WriteLine
ÅÅ !
(
ÅÅ! "
$str
ÅÅ" ^
)
ÅÅ^ _
;
ÅÅ_ `
}
ÇÇ 
}
ÉÉ 	
public
ÖÖ 
void
ÖÖ 
RespondToRequest
ÖÖ $
(
ÖÖ$ %
string
ÖÖ% +
requesterUsername
ÖÖ, =
,
ÖÖ= >
bool
ÖÖ? C
accepted
ÖÖD L
)
ÖÖL M
{
ÜÜ 	
if
áá 
(
áá 
!
áá &
CanExecuteNetworkActions
áá )
(
áá) *
)
áá* +
)
áá+ ,
{
àà 
Console
ââ 
.
ââ 
	WriteLine
ââ !
(
ââ! "
$str
ââ" ]
)
ââ] ^
;
ââ^ _
return
ää 
;
ää 
}
ãã 
try
åå 
{
çç 
Client
éé 
.
éé $
RespondToFriendRequest
éé -
(
éé- .
SessionManager
éé. <
.
éé< =
Instance
éé= E
.
ééE F
CurrentUsername
ééF U
,
ééU V
requesterUsername
ééW h
,
ééh i
accepted
ééj r
)
éér s
;
éés t
Application
èè 
.
èè 
Current
èè #
.
èè# $

Dispatcher
èè$ .
.
èè. /
Invoke
èè/ 5
(
èè5 6
(
èè6 7
)
èè7 8
=>
èè9 ;
{
êê 
var
ëë 
	requestVM
ëë !
=
ëë" #
FriendRequests
ëë$ 2
.
ëë2 3
FirstOrDefault
ëë3 A
(
ëëA B
r
ëëB C
=>
ëëD F
r
ëëG H
.
ëëH I
RequesterUsername
ëëI Z
==
ëë[ ]
requesterUsername
ëë^ o
)
ëëo p
;
ëëp q
if
íí 
(
íí 
	requestVM
íí !
!=
íí" $
null
íí% )
)
íí) *
{
ìì 
FriendRequests
îî &
.
îî& '
Remove
îî' -
(
îî- .
	requestVM
îî. 7
)
îî7 8
;
îî8 9
}
ïï 
if
ññ 
(
ññ 
accepted
ññ  
)
ññ  !
{
óó 
if
òò 
(
òò 
!
òò 
Friends
òò $
.
òò$ %
Any
òò% (
(
òò( )
f
òò) *
=>
òò+ -
f
òò. /
.
òò/ 0
Username
òò0 8
==
òò9 ;
requesterUsername
òò< M
)
òòM N
)
òòN O
{
ôô 
Friends
öö #
.
öö# $
Add
öö$ '
(
öö' (
new
öö( +
FriendViewModel
öö, ;
{
öö< =
Username
öö> F
=
ööG H
requesterUsername
ööI Z
,
ööZ [
IsOnline
öö\ d
=
ööe f
false
öög l
}
ööm n
)
öön o
;
ööo p
}
õõ 
}
úú 
}
ùù 
)
ùù 
;
ùù 
}
ûû 
catch
üü 
(
üü $
CommunicationException
üü )
commEx
üü* 0
)
üü0 1
{
†† 

MessageBox
°° 
.
°° 
Show
°° 
(
°°  
Lang
¢¢ 
.
¢¢ &
alertFriendResponseError
¢¢ 1
,
¢¢1 2
Lang
££ 
.
££ 
alertErrorTitle
££ (
,
££( )
MessageBoxButton
§§ $
.
§§$ %
OK
§§% '
,
§§' (
MessageBoxImage
•• #
.
••# $
Error
••$ )
)
••) *
;
••* +
Console
¶¶ 
.
¶¶ 
	WriteLine
¶¶ !
(
¶¶! "
$"
¶¶" $
$str
¶¶$ O
{
¶¶O P
commEx
¶¶P V
.
¶¶V W
Message
¶¶W ^
}
¶¶^ _
"
¶¶_ `
)
¶¶` a
;
¶¶a b
}
ßß 
catch
®® 
(
®® 
	Exception
®® 
ex
®® 
)
®®  
{
©© 

MessageBox
™™ 
.
™™ 
Show
™™ 
(
™™  
Lang
´´ 
.
´´ &
alertFriendResponseError
´´ 1
,
´´1 2
Lang
¨¨ 
.
¨¨ 
alertErrorTitle
¨¨ (
,
¨¨( )
MessageBoxButton
≠≠ $
.
≠≠$ %
OK
≠≠% '
,
≠≠' (
MessageBoxImage
ÆÆ #
.
ÆÆ# $
Error
ÆÆ$ )
)
ÆÆ) *
;
ÆÆ* +
Console
ØØ 
.
ØØ 
	WriteLine
ØØ !
(
ØØ! "
$"
ØØ" $
$str
ØØ$ 7
{
ØØ7 8
ex
ØØ8 :
.
ØØ: ;
Message
ØØ; B
}
ØØB C
"
ØØC D
)
ØØD E
;
ØØE F
}
∞∞ 
}
±± 	
private
≥≥ 
void
≥≥ 
InviteByEmail
≥≥ "
(
≥≥" #
object
≥≥# )
obj
≥≥* -
)
≥≥- .
{
¥¥ 	
}
∂∂ 	
private
∏∏ 
void
∏∏ 
SubscribeToEvents
∏∏ &
(
∏∏& '
)
∏∏' (
{
ππ 	!
SocialClientManager
∫∫ 
.
∫∫  
Instance
∫∫  (
.
∫∫( )
OnFriendRequest
∫∫) 8
+=
∫∫9 ;!
HandleFriendRequest
∫∫< O
;
∫∫O P!
SocialClientManager
ªª 
.
ªª  
Instance
ªª  (
.
ªª( )
OnFriendResponse
ªª) 9
+=
ªª: <"
HandleFriendResponse
ªª= Q
;
ªªQ R!
SocialClientManager
ºº 
.
ºº  
Instance
ºº  (
.
ºº( )#
OnFriendStatusChanged
ºº) >
+=
ºº? A'
HandleFriendStatusChanged
ººB [
;
ºº[ \
Console
ΩΩ 
.
ΩΩ 
	WriteLine
ΩΩ 
(
ΩΩ 
$str
ΩΩ P
)
ΩΩP Q
;
ΩΩQ R
}
ææ 	
private
¿¿ 
void
¿¿ #
UnsubscribeFromEvents
¿¿ *
(
¿¿* +
)
¿¿+ ,
{
¡¡ 	!
SocialClientManager
¬¬ 
.
¬¬  
Instance
¬¬  (
.
¬¬( )
OnFriendRequest
¬¬) 8
-=
¬¬9 ;!
HandleFriendRequest
¬¬< O
;
¬¬O P!
SocialClientManager
√√ 
.
√√  
Instance
√√  (
.
√√( )
OnFriendResponse
√√) 9
-=
√√: <"
HandleFriendResponse
√√= Q
;
√√Q R!
SocialClientManager
ƒƒ 
.
ƒƒ  
Instance
ƒƒ  (
.
ƒƒ( )#
OnFriendStatusChanged
ƒƒ) >
-=
ƒƒ? A'
HandleFriendStatusChanged
ƒƒB [
;
ƒƒ[ \
Console
≈≈ 
.
≈≈ 
	WriteLine
≈≈ 
(
≈≈ 
$str
≈≈ S
)
≈≈S T
;
≈≈T U
}
∆∆ 	
public
»» 
void
»» 
Dispose
»» 
(
»» 
)
»» 
{
…… 	
Dispose
   
(
   
true
   
)
   
;
   
GC
ÀÀ 
.
ÀÀ 
SuppressFinalize
ÀÀ 
(
ÀÀ  
this
ÀÀ  $
)
ÀÀ$ %
;
ÀÀ% &
}
ÃÃ 	
	protected
ŒŒ 
virtual
ŒŒ 
void
ŒŒ 
Dispose
ŒŒ &
(
ŒŒ& '
bool
ŒŒ' +
	disposing
ŒŒ, 5
)
ŒŒ5 6
{
œœ 	
if
–– 
(
–– 
	disposing
–– 
)
–– 
{
—— #
UnsubscribeFromEvents
““ %
(
““% &
)
““& '
;
““' (
}
”” 
}
‘‘ 	
public
÷÷ 
void
÷÷ 
Cleanup
÷÷ 
(
÷÷ 
)
÷÷ 
{
◊◊ 	
Dispose
ÿÿ 
(
ÿÿ 
)
ÿÿ 
;
ÿÿ 
}
ŸŸ 	
private
€€ 
void
€€ !
HandleFriendRequest
€€ (
(
€€( )
string
€€) /
fromUsername
€€0 <
)
€€< =
{
‹‹ 	
Application
›› 
.
›› 
Current
›› 
.
››  

Dispatcher
››  *
.
››* +
Invoke
››+ 1
(
››1 2
(
››2 3
)
››3 4
=>
››5 7
{
ﬁﬁ 

MessageBox
ﬂﬂ 
.
ﬂﬂ 
Show
ﬂﬂ 
(
ﬂﬂ  
string
‡‡ 
.
‡‡ 
Format
‡‡ !
(
‡‡! "
Lang
‡‡" &
.
‡‡& ''
alertFriendNewRequestFrom
‡‡' @
,
‡‡@ A
fromUsername
‡‡B N
)
‡‡N O
,
‡‡O P
Lang
·· 
.
·· (
alertFriendNewRequestTitle
·· 3
,
··3 4
MessageBoxButton
‚‚ $
.
‚‚$ %
OK
‚‚% '
,
‚‚' (
MessageBoxImage
„„ #
.
„„# $
Information
„„$ /
)
„„/ 0
;
„„0 1
if
ÂÂ 
(
ÂÂ 
!
ÂÂ 
FriendRequests
ÂÂ #
.
ÂÂ# $
Any
ÂÂ$ '
(
ÂÂ' (
r
ÂÂ( )
=>
ÂÂ* ,
r
ÂÂ- .
.
ÂÂ. /
RequesterUsername
ÂÂ/ @
==
ÂÂA C
fromUsername
ÂÂD P
)
ÂÂP Q
)
ÂÂQ R
{
ÊÊ 
FriendRequests
ÁÁ "
.
ÁÁ" #
Add
ÁÁ# &
(
ÁÁ& '
new
ÁÁ' *$
FriendRequestViewModel
ÁÁ+ A
(
ÁÁA B
this
ÁÁB F
)
ÁÁF G
{
ÁÁH I
RequesterUsername
ÁÁJ [
=
ÁÁ\ ]
fromUsername
ÁÁ^ j
}
ÁÁk l
)
ÁÁl m
;
ÁÁm n
}
ËË 
}
ÈÈ 
)
ÈÈ 
;
ÈÈ 
}
ÍÍ 	
private
ÏÏ 
void
ÏÏ "
HandleFriendResponse
ÏÏ )
(
ÏÏ) *
string
ÏÏ* 0 
respondingUsername
ÏÏ1 C
,
ÏÏC D
bool
ÏÏE I
accepted
ÏÏJ R
)
ÏÏR S
{
ÌÌ 	
Application
ÓÓ 
.
ÓÓ 
Current
ÓÓ 
.
ÓÓ  

Dispatcher
ÓÓ  *
.
ÓÓ* +
Invoke
ÓÓ+ 1
(
ÓÓ1 2
(
ÓÓ2 3
)
ÓÓ3 4
=>
ÓÓ5 7
{
ÔÔ 
string
 
message
 
=
  
accepted
! )
?
ÒÒ 
string
ÒÒ 
.
ÒÒ 
Format
ÒÒ #
(
ÒÒ# $
Lang
ÒÒ$ (
.
ÒÒ( )(
alertFriendRequestAccepted
ÒÒ) C
,
ÒÒC D 
respondingUsername
ÒÒE W
)
ÒÒW X
:
ÚÚ 
string
ÚÚ 
.
ÚÚ 
Format
ÚÚ #
(
ÚÚ# $
Lang
ÚÚ$ (
.
ÚÚ( )(
alertFriendRequestDeclined
ÚÚ) C
,
ÚÚC D 
respondingUsername
ÚÚE W
)
ÚÚW X
;
ÚÚX Y

MessageBox
ÙÙ 
.
ÙÙ 
Show
ÙÙ 
(
ÙÙ  
message
ıı 
,
ıı 
Lang
ˆˆ 
.
ˆˆ -
alertFriendRequestResponseTitle
ˆˆ 8
,
ˆˆ8 9
MessageBoxButton
˜˜ $
.
˜˜$ %
OK
˜˜% '
,
˜˜' (
MessageBoxImage
¯¯ #
.
¯¯# $
Information
¯¯$ /
)
¯¯/ 0
;
¯¯0 1
if
˙˙ 
(
˙˙ 
accepted
˙˙ 
)
˙˙ 
{
˚˚ 
if
¸¸ 
(
¸¸ 
!
¸¸ 
Friends
¸¸  
.
¸¸  !
Any
¸¸! $
(
¸¸$ %
f
¸¸% &
=>
¸¸' )
f
¸¸* +
.
¸¸+ ,
Username
¸¸, 4
==
¸¸5 7 
respondingUsername
¸¸8 J
)
¸¸J K
)
¸¸K L
{
˝˝ 
Friends
˛˛ 
.
˛˛  
Add
˛˛  #
(
˛˛# $
new
˛˛$ '
FriendViewModel
˛˛( 7
{
˛˛8 9
Username
˛˛: B
=
˛˛C D 
respondingUsername
˛˛E W
,
˛˛W X
IsOnline
˛˛Y a
=
˛˛b c
false
˛˛d i
}
˛˛j k
)
˛˛k l
;
˛˛l m
}
ˇˇ 
}
ÄÄ 
}
ÅÅ 
)
ÅÅ 
;
ÅÅ 
}
ÇÇ 	
private
ÑÑ 
void
ÑÑ '
HandleFriendStatusChanged
ÑÑ .
(
ÑÑ. /
string
ÑÑ/ 5
friendUsername
ÑÑ6 D
,
ÑÑD E
string
ÑÑF L
status
ÑÑM S
)
ÑÑS T
{
ÖÖ 	
Application
ÜÜ 
.
ÜÜ 
Current
ÜÜ 
.
ÜÜ  

Dispatcher
ÜÜ  *
.
ÜÜ* +
Invoke
ÜÜ+ 1
(
ÜÜ1 2
(
ÜÜ2 3
)
ÜÜ3 4
=>
ÜÜ5 7
{
áá 
var
àà 
friend
àà 
=
àà 
Friends
àà $
.
àà$ %
FirstOrDefault
àà% 3
(
àà3 4
f
àà4 5
=>
àà6 8
f
àà9 :
.
àà: ;
Username
àà; C
==
ààD F
friendUsername
ààG U
)
ààU V
;
ààV W
if
ââ 
(
ââ 
friend
ââ 
!=
ââ 
null
ââ "
)
ââ" #
{
ää 
bool
ãã 
isOnline
ãã !
=
ãã" #
(
ãã$ %
status
ãã% +
==
ãã, .
$str
ãã/ 7
)
ãã7 8
;
ãã8 9
if
åå 
(
åå 
friend
åå 
.
åå 
IsOnline
åå '
!=
åå( *
isOnline
åå+ 3
)
åå3 4
{
çç 
friend
éé 
.
éé 
IsOnline
éé '
=
éé( )
isOnline
éé* 2
;
éé2 3
Console
èè 
.
èè  
	WriteLine
èè  )
(
èè) *
$"
èè* ,
$str
èè, 6
{
èè6 7
friendUsername
èè7 E
}
èèE F
$str
èèF U
{
èèU V
status
èèV \
}
èè\ ]
$str
èè] r
"
èèr s
)
èès t
;
èèt u
}
êê 
}
ëë 
else
íí 
{
ìì 
Console
îî 
.
îî 
	WriteLine
îî %
(
îî% &
$"
îî& (
$str
îî( >
{
îî> ?
friendUsername
îî? M
}
îîM N
$str
îîN x
"
îîx y
)
îîy z
;
îîz {
}
ïï 
}
ññ 
)
ññ 
;
ññ 
}
óó 	
~
ôô 	
FriendsViewModel
ôô	 
(
ôô 
)
ôô 
{
öö 	
Dispose
õõ 
(
õõ 
false
õõ 
)
õõ 
;
õõ 
}
úú 	
}
ùù 
public
üü 

class
üü 
FriendViewModel
üü  
:
üü! "
ViewModelBase
üü# 0
{
†† 
public
°° 
string
°° 
Username
°° 
{
°°  
get
°°! $
;
°°$ %
set
°°& )
;
°°) *
}
°°+ ,
private
££ 
bool
££ 
	_isOnline
££ 
;
££ 
public
§§ 
bool
§§ 
IsOnline
§§ 
{
•• 	
get
¶¶ 
{
¶¶ 
return
¶¶ 
	_isOnline
¶¶ "
;
¶¶" #
}
¶¶$ %
set
ßß 
{
®® 
if
©© 
(
©© 
	_isOnline
©© 
!=
©©  
value
©©! &
)
©©& '
{
™™ 
	_isOnline
´´ 
=
´´ 
value
´´  %
;
´´% &
OnPropertyChanged
¨¨ %
(
¨¨% &
)
¨¨& '
;
¨¨' (
}
≠≠ 
}
ÆÆ 
}
ØØ 	
}
∞∞ 
public
≤≤ 

class
≤≤ $
FriendRequestViewModel
≤≤ '
:
≤≤( )
ViewModelBase
≤≤* 7
{
≥≥ 
private
¥¥ 
readonly
¥¥ 
FriendsViewModel
¥¥ )
_parent
¥¥* 1
;
¥¥1 2
public
µµ 
string
µµ 
RequesterUsername
µµ '
{
µµ( )
get
µµ* -
;
µµ- .
set
µµ/ 2
;
µµ2 3
}
µµ4 5
public
∑∑ 
ICommand
∑∑ 
AcceptCommand
∑∑ %
{
∑∑& '
get
∑∑( +
;
∑∑+ ,
}
∑∑- .
public
∏∏ 
ICommand
∏∏ 
DeclineCommand
∏∏ &
{
∏∏' (
get
∏∏) ,
;
∏∏, -
}
∏∏. /
public
∫∫ $
FriendRequestViewModel
∫∫ %
(
∫∫% &
FriendsViewModel
∫∫& 6
parent
∫∫7 =
)
∫∫= >
{
ªª 	
_parent
ºº 
=
ºº 
parent
ºº 
??
ºº 
throw
ºº  %
new
ºº& )#
ArgumentNullException
ºº* ?
(
ºº? @
nameof
ºº@ F
(
ººF G
parent
ººG M
)
ººM N
)
ººN O
;
ººO P
AcceptCommand
ΩΩ 
=
ΩΩ 
new
ΩΩ 
RelayCommand
ΩΩ  ,
(
ΩΩ, -
	parameter
ΩΩ- 6
=>
ΩΩ7 9
_parent
ΩΩ: A
.
ΩΩA B
RespondToRequest
ΩΩB R
(
ΩΩR S
RequesterUsername
ΩΩS d
,
ΩΩd e
true
ΩΩf j
)
ΩΩj k
)
ΩΩk l
;
ΩΩl m
DeclineCommand
ææ 
=
ææ 
new
ææ  
RelayCommand
ææ! -
(
ææ- .
	parameter
ææ. 7
=>
ææ8 :
_parent
ææ; B
.
ææB C
RespondToRequest
ææC S
(
ææS T
RequesterUsername
ææT e
,
ææe f
false
ææg l
)
ææl m
)
ææm n
;
ææn o
}
øø 	
}
¿¿ 
}¡¡ æ¿
úC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\Lobby\DirectMessageViewModel.cs
	namespace 	
GuessMyMessClient
 
. 
	ViewModel %
.% &
Lobby& +
{ 
public 

class "
DirectMessageViewModel '
:( )
ViewModelBase* 7
,7 8
IDisposable9 D
{ 
private 
SocialServiceClient #
Client$ *
=>+ -
SocialClientManager. A
.A B
InstanceB J
.J K
ClientK Q
;Q R
public  
ObservableCollection #
<# $
	FriendDto$ -
>- .
Conversations/ <
{= >
get? B
;B C
}D E
public  
ObservableCollection #
<# $
DirectMessageDto$ 4
>4 5
ChatHistory6 A
{B C
getD G
;G H
}I J
private 
string 
_messageText #
;# $
public 
string 
MessageText !
{ 	
get 
{ 
return 
_messageText #
;# $
} 
set 
{ 
if 
( 
_messageText  
!=! #
value$ )
)) *
{   
_messageText!!  
=!!! "
value!!# (
;!!( )
OnPropertyChanged"" %
(""% &
)""& '
;""' (
}## 
}$$ 
}%% 	
private'' 
string'' '
_currentChatPartnerUsername'' 2
;''2 3
private(( 
	FriendDto(( !
_selectedConversation(( /
;((/ 0
public)) 
	FriendDto))  
SelectedConversation)) -
{** 	
get++ 
{,, 
return-- !
_selectedConversation-- ,
;--, -
}.. 
set// 
{00 
if11 
(11 !
_selectedConversation11 )
!=11* ,
value11- 2
)112 3
{22 !
_selectedConversation33 )
=33* +
value33, 1
;331 2
OnPropertyChanged44 %
(44% &
)44& '
;44' (
if66 
(66 
value66 
!=66  
null66! %
)66% &
{77 
LoadChatHistory88 '
(88' (
value88( -
.88- .
Username88. 6
)886 7
;887 8
}99 
else:: 
{;; 
ClearChatHistory<< (
(<<( )
)<<) *
;<<* +
}== 
}>> 
}?? 
}@@ 	
publicBB 
ICommandBB 
SendMessageCommandBB *
{BB+ ,
getBB- 0
;BB0 1
}BB2 3
publicDD "
DirectMessageViewModelDD %
(DD% &
)DD& '
{EE 	
ConversationsFF 
=FF 
newFF  
ObservableCollectionFF  4
<FF4 5
	FriendDtoFF5 >
>FF> ?
(FF? @
)FF@ A
;FFA B
ChatHistoryGG 
=GG 
newGG  
ObservableCollectionGG 2
<GG2 3
DirectMessageDtoGG3 C
>GGC D
(GGD E
)GGE F
;GGF G
SendMessageCommandHH 
=HH  
newHH! $
RelayCommandHH% 1
(HH1 2
PerformSendMessageHH2 D
,HHD E
	parameterHHF O
=>HHP R!
CanPerformSendMessageHHS h
(HHh i
)HHi j
)HHj k
;HHk l
SubscribeToEventsJJ 
(JJ 
)JJ 
;JJ  
ifLL 
(LL $
CanExecuteNetworkActionsLL (
(LL( )
)LL) *
)LL* +
{MM  
LoadFriendsListAsyncNN $
(NN$ %
)NN% &
;NN& '
}OO 
elsePP 
{QQ 
ConsoleRR 
.RR 
	WriteLineRR !
(RR! "
$strRR" _
)RR_ `
;RR` a
}SS 
}TT 	
privateVV 
boolVV $
CanExecuteNetworkActionsVV -
(VV- .
)VV. /
{WW 	
returnXX 
ClientXX 
!=XX 
nullXX !
&&XX" $
ClientXX% +
.XX+ ,
StateXX, 1
==XX2 4
CommunicationStateXX5 G
.XXG H
OpenedXXH N
;XXN O
}YY 	
private[[ 
async[[ 
Task[[  
LoadFriendsListAsync[[ /
([[/ 0
)[[0 1
{\\ 	
if]] 
(]] 
!]] $
CanExecuteNetworkActions]] )
(]]) *
)]]* +
)]]+ ,
{^^ 
Console__ 
.__ 
	WriteLine__ !
(__! "
$str__" a
)__a b
;__b c
return`` 
;`` 
}aa 
trycc 
{dd 
varee 
usersee 
=ee 
awaitee !
Clientee" (
.ee( )
GetFriendsListAsyncee) <
(ee< =
SessionManageree= K
.eeK L
InstanceeeL T
.eeT U
CurrentUsernameeeU d
)eed e
;eee f
Applicationff 
.ff 
Currentff #
.ff# $

Dispatcherff$ .
.ff. /
Invokeff/ 5
(ff5 6
(ff6 7
)ff7 8
=>ff9 ;
{gg 
Conversationshh !
.hh! "
Clearhh" '
(hh' (
)hh( )
;hh) *
ifii 
(ii 
usersii 
!=ii  
nullii! %
)ii% &
{jj 
foreachkk 
(kk  !
varkk! $
ukk% &
inkk' )
userskk* /
)kk/ 0
{ll 
Conversationsmm )
.mm) *
Addmm* -
(mm- .
umm. /
)mm/ 0
;mm0 1
}nn 
}oo 
}pp 
)pp 
;pp 
}qq 
catchrr 
(rr 
FaultExceptionrr !

fexGeneralrr" ,
)rr, -
{ss 

MessageBoxtt 
.tt 
Showtt 
(tt  
Languu 
.uu %
alertChatLoadFriendsErroruu 2
,uu2 3
Langvv 
.vv 
alertErrorTitlevv (
,vv( )
MessageBoxButtonww $
.ww$ %
OKww% '
,ww' (
MessageBoxImagexx #
.xx# $
Errorxx$ )
)xx) *
;xx* +
Consoleyy 
.yy 
	WriteLineyy !
(yy! "
$"yy" $
$stryy$ D
{yyD E

fexGeneralyyE O
.yyO P
MessageyyP W
}yyW X
"yyX Y
)yyY Z
;yyZ [
}zz 
catch{{ 
({{ %
EndpointNotFoundException{{ ,
ex{{- /
){{/ 0
{|| 

MessageBox}} 
.}} 
Show}} 
(}}  
Lang~~ 
.~~ '
alertConnectionErrorMessage~~ 4
,~~4 5
Lang 
. %
alertConnectionErrorTitle 2
,2 3
MessageBoxButton
ÄÄ $
.
ÄÄ$ %
OK
ÄÄ% '
,
ÄÄ' (
MessageBoxImage
ÅÅ #
.
ÅÅ# $
Error
ÅÅ$ )
)
ÅÅ) *
;
ÅÅ* +
Console
ÇÇ 
.
ÇÇ 
	WriteLine
ÇÇ !
(
ÇÇ! "
$"
ÇÇ" $
$str
ÇÇ$ K
{
ÇÇK L
ex
ÇÇL N
.
ÇÇN O
Message
ÇÇO V
}
ÇÇV W
"
ÇÇW X
)
ÇÇX Y
;
ÇÇY Z
}
ÉÉ 
catch
ÑÑ 
(
ÑÑ 
	Exception
ÑÑ 
ex
ÑÑ 
)
ÑÑ  
{
ÖÖ 

MessageBox
ÜÜ 
.
ÜÜ 
Show
ÜÜ 
(
ÜÜ  
Lang
áá 
.
áá '
alertChatLoadFriendsError
áá 2
,
áá2 3
Lang
àà 
.
àà 
alertErrorTitle
àà (
,
àà( )
MessageBoxButton
ââ $
.
ââ$ %
OK
ââ% '
,
ââ' (
MessageBoxImage
ää #
.
ää# $
Error
ää$ )
)
ää) *
;
ää* +
Console
ãã 
.
ãã 
	WriteLine
ãã !
(
ãã! "
$"
ãã" $
$str
ãã$ G
{
ããG H
ex
ããH J
.
ããJ K
Message
ããK R
}
ããR S
"
ããS T
)
ããT U
;
ããU V
}
åå 
}
çç 	
private
èè 
async
èè 
void
èè 
LoadChatHistory
èè *
(
èè* +
string
èè+ 1
otherUsername
èè2 ?
)
èè? @
{
êê 	
if
ëë 
(
ëë 
string
ëë 
.
ëë 
IsNullOrEmpty
ëë $
(
ëë$ %
otherUsername
ëë% 2
)
ëë2 3
)
ëë3 4
{
íí 
ClearChatHistory
ìì  
(
ìì  !
)
ìì! "
;
ìì" #
return
îî 
;
îî 
}
ïï 
if
óó 
(
óó 
!
óó &
CanExecuteNetworkActions
óó )
(
óó) *
)
óó* +
)
óó+ ,
{
òò 
Console
ôô 
.
ôô 
	WriteLine
ôô !
(
ôô! "
$str
ôô" \
)
ôô\ ]
;
ôô] ^
ClearChatHistory
öö  
(
öö  !
)
öö! "
;
öö" #
return
õõ 
;
õõ 
}
úú )
_currentChatPartnerUsername
ûû '
=
ûû( )
otherUsername
ûû* 7
;
ûû7 8
try
üü 
{
†† 
string
°° 
currentUsername
°° &
=
°°' (
SessionManager
°°) 7
.
°°7 8
Instance
°°8 @
.
°°@ A
CurrentUsername
°°A P
;
°°P Q
var
¢¢ 
history
¢¢ 
=
¢¢ 
await
¢¢ #
Client
¢¢$ *
.
¢¢* +)
GetConversationHistoryAsync
¢¢+ F
(
¢¢F G
currentUsername
¢¢G V
,
¢¢V W
otherUsername
¢¢X e
)
¢¢e f
;
¢¢f g
Application
§§ 
.
§§ 
Current
§§ #
.
§§# $

Dispatcher
§§$ .
.
§§. /
Invoke
§§/ 5
(
§§5 6
(
§§6 7
)
§§7 8
=>
§§9 ;
{
•• 
ChatHistory
¶¶ 
.
¶¶  
Clear
¶¶  %
(
¶¶% &
)
¶¶& '
;
¶¶' (
if
ßß 
(
ßß 
history
ßß 
!=
ßß  "
null
ßß# '
)
ßß' (
{
®® 
foreach
©© 
(
©©  !
var
©©! $
msg
©©% (
in
©©) +
history
©©, 3
)
©©3 4
{
™™ 
if
´´ 
(
´´  
msg
´´  #
.
´´# $
SenderUsername
´´$ 2
==
´´3 5
currentUsername
´´6 E
)
´´E F
{
¨¨ 
var
≠≠  #
localMessageDto
≠≠$ 3
=
≠≠4 5
new
≠≠6 9
DirectMessageDto
≠≠: J
{
ÆÆ  !
SenderUsername
ØØ$ 2
=
ØØ3 4
Lang
ØØ5 9
.
ØØ9 : 
alertChatSenderYou
ØØ: L
,
ØØL M
RecipientUsername
∞∞$ 5
=
∞∞6 7
msg
∞∞8 ;
.
∞∞; <
RecipientUsername
∞∞< M
,
∞∞M N
Content
±±$ +
=
±±, -
msg
±±. 1
.
±±1 2
Content
±±2 9
,
±±9 :
	Timestamp
≤≤$ -
=
≤≤. /
msg
≤≤0 3
.
≤≤3 4
	Timestamp
≤≤4 =
}
≥≥  !
;
≥≥! "
ChatHistory
¥¥  +
.
¥¥+ ,
Add
¥¥, /
(
¥¥/ 0
localMessageDto
¥¥0 ?
)
¥¥? @
;
¥¥@ A
}
µµ 
else
∂∂  
{
∑∑ 
ChatHistory
∏∏  +
.
∏∏+ ,
Add
∏∏, /
(
∏∏/ 0
msg
∏∏0 3
)
∏∏3 4
;
∏∏4 5
}
ππ 
}
∫∫ 
}
ªª 
}
ºº 
)
ºº 
;
ºº 
}
ΩΩ 
catch
ææ 
(
ææ 
FaultException
ææ !

fexGeneral
ææ" ,
)
ææ, -
{
øø 

MessageBox
¿¿ 
.
¿¿ 
Show
¿¿ 
(
¿¿  
Lang
¡¡ 
.
¡¡ '
alertChatLoadHistoryError
¡¡ 2
,
¡¡2 3
Lang
¬¬ 
.
¬¬ 
alertErrorTitle
¬¬ (
,
¬¬( )
MessageBoxButton
√√ $
.
√√$ %
OK
√√% '
,
√√' (
MessageBoxImage
ƒƒ #
.
ƒƒ# $
Error
ƒƒ$ )
)
ƒƒ) *
;
ƒƒ* +
Console
≈≈ 
.
≈≈ 
	WriteLine
≈≈ !
(
≈≈! "
$"
≈≈" $
$str
≈≈$ D
{
≈≈D E

fexGeneral
≈≈E O
.
≈≈O P
Message
≈≈P W
}
≈≈W X
"
≈≈X Y
)
≈≈Y Z
;
≈≈Z [
ClearChatHistory
∆∆  
(
∆∆  !
)
∆∆! "
;
∆∆" #
}
«« 
catch
»» 
(
»» '
EndpointNotFoundException
»» ,
ex
»»- /
)
»»/ 0
{
…… 

MessageBox
   
.
   
Show
   
(
    
Lang
ÀÀ 
.
ÀÀ )
alertConnectionErrorMessage
ÀÀ 4
,
ÀÀ4 5
Lang
ÃÃ 
.
ÃÃ '
alertConnectionErrorTitle
ÃÃ 2
,
ÃÃ2 3
MessageBoxButton
ÕÕ $
.
ÕÕ$ %
OK
ÕÕ% '
,
ÕÕ' (
MessageBoxImage
ŒŒ #
.
ŒŒ# $
Error
ŒŒ$ )
)
ŒŒ) *
;
ŒŒ* +
Console
œœ 
.
œœ 
	WriteLine
œœ !
(
œœ! "
$"
œœ" $
$str
œœ$ K
{
œœK L
ex
œœL N
.
œœN O
Message
œœO V
}
œœV W
"
œœW X
)
œœX Y
;
œœY Z
ClearChatHistory
––  
(
––  !
)
––! "
;
––" #
}
—— 
catch
““ 
(
““ 
	Exception
““ 
ex
““ 
)
““  
{
”” 

MessageBox
‘‘ 
.
‘‘ 
Show
‘‘ 
(
‘‘  
Lang
’’ 
.
’’ '
alertChatLoadHistoryError
’’ 2
,
’’2 3
Lang
÷÷ 
.
÷÷ 
alertErrorTitle
÷÷ (
,
÷÷( )
MessageBoxButton
◊◊ $
.
◊◊$ %
OK
◊◊% '
,
◊◊' (
MessageBoxImage
ÿÿ #
.
ÿÿ# $
Error
ÿÿ$ )
)
ÿÿ) *
;
ÿÿ* +
Console
ŸŸ 
.
ŸŸ 
	WriteLine
ŸŸ !
(
ŸŸ! "
$"
ŸŸ" $
$str
ŸŸ$ @
{
ŸŸ@ A
ex
ŸŸA C
.
ŸŸC D
Message
ŸŸD K
}
ŸŸK L
"
ŸŸL M
)
ŸŸM N
;
ŸŸN O
ClearChatHistory
⁄⁄  
(
⁄⁄  !
)
⁄⁄! "
;
⁄⁄" #
}
€€ 
}
‹‹ 	
private
ﬁﬁ 
void
ﬁﬁ 
ClearChatHistory
ﬁﬁ %
(
ﬁﬁ% &
)
ﬁﬁ& '
{
ﬂﬂ 	)
_currentChatPartnerUsername
‡‡ '
=
‡‡( )
null
‡‡* .
;
‡‡. /
Application
·· 
.
·· 
Current
·· 
.
··  

Dispatcher
··  *
.
··* +
Invoke
··+ 1
(
··1 2
(
··2 3
)
··3 4
=>
··5 7
ChatHistory
··8 C
.
··C D
Clear
··D I
(
··I J
)
··J K
)
··K L
;
··L M
}
‚‚ 	
private
‰‰ 
bool
‰‰ #
CanPerformSendMessage
‰‰ *
(
‰‰* +
)
‰‰+ ,
{
ÂÂ 	
return
ÊÊ 
!
ÊÊ 
string
ÊÊ 
.
ÊÊ  
IsNullOrWhiteSpace
ÊÊ -
(
ÊÊ- .
MessageText
ÊÊ. 9
)
ÊÊ9 :
&&
ÊÊ; =)
_currentChatPartnerUsername
ÁÁ .
!=
ÁÁ/ 1
null
ÁÁ2 6
&&
ÁÁ7 9&
CanExecuteNetworkActions
ËË +
(
ËË+ ,
)
ËË, -
;
ËË- .
}
ÈÈ 	
private
ÎÎ 
void
ÎÎ  
PerformSendMessage
ÎÎ '
(
ÎÎ' (
object
ÎÎ( .
obj
ÎÎ/ 2
)
ÎÎ2 3
{
ÏÏ 	
if
ÌÌ 
(
ÌÌ 
!
ÌÌ #
CanPerformSendMessage
ÌÌ &
(
ÌÌ& '
)
ÌÌ' (
)
ÌÌ( )
{
ÓÓ 
return
ÔÔ 
;
ÔÔ 
}
 
var
ÚÚ 

messageDto
ÚÚ 
=
ÚÚ 
new
ÚÚ  
DirectMessageDto
ÚÚ! 1
{
ÛÛ 
SenderUsername
ÙÙ 
=
ÙÙ  
SessionManager
ÙÙ! /
.
ÙÙ/ 0
Instance
ÙÙ0 8
.
ÙÙ8 9
CurrentUsername
ÙÙ9 H
,
ÙÙH I
RecipientUsername
ıı !
=
ıı" #)
_currentChatPartnerUsername
ıı$ ?
,
ıı? @
Content
ˆˆ 
=
ˆˆ 
MessageText
ˆˆ %
,
ˆˆ% &
	Timestamp
˜˜ 
=
˜˜ 
DateTime
˜˜ $
.
˜˜$ %
UtcNow
˜˜% +
}
¯¯ 
;
¯¯ 
try
˙˙ 
{
˚˚ 
Client
¸¸ 
.
¸¸ 
SendDirectMessage
¸¸ (
(
¸¸( )

messageDto
¸¸) 3
)
¸¸3 4
;
¸¸4 5
var
˛˛ 
localMsg
˛˛ 
=
˛˛ 
new
˛˛ "
DirectMessageDto
˛˛# 3
{
ˇˇ 
SenderUsername
ÄÄ "
=
ÄÄ# $
Lang
ÄÄ% )
.
ÄÄ) * 
alertChatSenderYou
ÄÄ* <
,
ÄÄ< =
Content
ÅÅ 
=
ÅÅ 
MessageText
ÅÅ )
,
ÅÅ) *
	Timestamp
ÇÇ 
=
ÇÇ 
DateTime
ÇÇ  (
.
ÇÇ( )
Now
ÇÇ) ,
}
ÉÉ 
;
ÉÉ 
ChatHistory
ÑÑ 
.
ÑÑ 
Add
ÑÑ 
(
ÑÑ  
localMsg
ÑÑ  (
)
ÑÑ( )
;
ÑÑ) *
MessageText
ÖÖ 
=
ÖÖ 
string
ÖÖ $
.
ÖÖ$ %
Empty
ÖÖ% *
;
ÖÖ* +
}
ÜÜ 
catch
áá 
(
áá $
CommunicationException
áá )
commEx
áá* 0
)
áá0 1
{
àà 

MessageBox
ââ 
.
ââ 
Show
ââ 
(
ââ  
Lang
ää 
.
ää '
alertChatMessageSendError
ää 2
,
ää2 3
Lang
ãã 
.
ãã 
alertErrorTitle
ãã (
,
ãã( )
MessageBoxButton
åå $
.
åå$ %
OK
åå% '
,
åå' (
MessageBoxImage
çç #
.
çç# $
Error
çç$ )
)
çç) *
;
çç* +
Console
éé 
.
éé 
	WriteLine
éé !
(
éé! "
$"
éé" $
$str
éé$ I
{
ééI J
commEx
ééJ P
.
ééP Q
Message
ééQ X
}
ééX Y
"
ééY Z
)
ééZ [
;
éé[ \
}
èè 
catch
êê 
(
êê 
	Exception
êê 
ex
êê 
)
êê  
{
ëë 

MessageBox
íí 
.
íí 
Show
íí 
(
íí  
Lang
ìì 
.
ìì '
alertChatMessageSendError
ìì 2
,
ìì2 3
Lang
îî 
.
îî 
alertErrorTitle
îî (
,
îî( )
MessageBoxButton
ïï $
.
ïï$ %
OK
ïï% '
,
ïï' (
MessageBoxImage
ññ #
.
ññ# $
Error
ññ$ )
)
ññ) *
;
ññ* +
Console
óó 
.
óó 
	WriteLine
óó !
(
óó! "
$"
óó" $
$str
óó$ <
{
óó< =
ex
óó= ?
.
óó? @
Message
óó@ G
}
óóG H
"
óóH I
)
óóI J
;
óóJ K
}
òò 
}
ôô 	
private
õõ 
void
õõ 
SubscribeToEvents
õõ &
(
õõ& '
)
õõ' (
{
úú 	!
SocialClientManager
ùù 
.
ùù  
Instance
ùù  (
.
ùù( )
OnMessageReceived
ùù) :
+=
ùù; =#
HandleMessageReceived
ùù> S
;
ùùS T!
SocialClientManager
ûû 
.
ûû  
Instance
ûû  (
.
ûû( )
OnFriendResponse
ûû) 9
+=
ûû: <"
HandleFriendResponse
ûû= Q
;
ûûQ R
Console
üü 
.
üü 
	WriteLine
üü 
(
üü 
$str
üü V
)
üüV W
;
üüW X
}
†† 	
private
¢¢ 
void
¢¢ #
UnsubscribeFromEvents
¢¢ *
(
¢¢* +
)
¢¢+ ,
{
££ 	!
SocialClientManager
§§ 
.
§§  
Instance
§§  (
.
§§( )
OnMessageReceived
§§) :
-=
§§; =#
HandleMessageReceived
§§> S
;
§§S T!
SocialClientManager
•• 
.
••  
Instance
••  (
.
••( )
OnFriendResponse
••) 9
-=
••: <"
HandleFriendResponse
••= Q
;
••Q R
Console
¶¶ 
.
¶¶ 
	WriteLine
¶¶ 
(
¶¶ 
$str
¶¶ Y
)
¶¶Y Z
;
¶¶Z [
}
ßß 	
public
©© 
void
©© 
Dispose
©© 
(
©© 
)
©© 
{
™™ 	
Dispose
´´ 
(
´´ 
true
´´ 
)
´´ 
;
´´ 
GC
¨¨ 
.
¨¨ 
SuppressFinalize
¨¨ 
(
¨¨  
this
¨¨  $
)
¨¨$ %
;
¨¨% &
}
≠≠ 	
	protected
ØØ 
virtual
ØØ 
void
ØØ 
Dispose
ØØ &
(
ØØ& '
bool
ØØ' +
	disposing
ØØ, 5
)
ØØ5 6
{
∞∞ 	
if
±± 
(
±± 
	disposing
±± 
)
±± 
{
≤≤ #
UnsubscribeFromEvents
≥≥ %
(
≥≥% &
)
≥≥& '
;
≥≥' (
}
¥¥ 
}
µµ 	
public
∑∑ 
void
∑∑ 
Cleanup
∑∑ 
(
∑∑ 
)
∑∑ 
{
∏∏ 	
Dispose
ππ 
(
ππ 
)
ππ 
;
ππ 
}
∫∫ 	
private
ºº 
void
ºº #
HandleMessageReceived
ºº *
(
ºº* +
DirectMessageDto
ºº+ ;
message
ºº< C
)
ººC D
{
ΩΩ 	
Application
ææ 
.
ææ 
Current
ææ 
.
ææ  

Dispatcher
ææ  *
.
ææ* +
Invoke
ææ+ 1
(
ææ1 2
(
ææ2 3
)
ææ3 4
=>
ææ5 7
{
øø 
if
¿¿ 
(
¿¿ 
message
¿¿ 
.
¿¿ 
SenderUsername
¿¿ *
==
¿¿+ -)
_currentChatPartnerUsername
¿¿. I
)
¿¿I J
{
¡¡ 
ChatHistory
¬¬ 
.
¬¬  
Add
¬¬  #
(
¬¬# $
message
¬¬$ +
)
¬¬+ ,
;
¬¬, -
}
√√ 
else
ƒƒ 
{
≈≈ 

MessageBox
∆∆ 
.
∆∆ 
Show
∆∆ #
(
∆∆# $
string
«« 
.
«« 
Format
«« %
(
««% &
Lang
««& *
.
««* +%
alertChatNewMessageFrom
««+ B
,
««B C
message
««D K
.
««K L
SenderUsername
««L Z
)
««Z [
,
««[ \
Lang
»» 
.
»» &
alertChatNewMessageTitle
»» 5
,
»»5 6
MessageBoxButton
…… (
.
……( )
OK
……) +
,
……+ ,
MessageBoxImage
   '
.
  ' (
Information
  ( 3
)
  3 4
;
  4 5
}
ÀÀ 
}
ÃÃ 
)
ÃÃ 
;
ÃÃ 
}
ÕÕ 	
private
œœ 
void
œœ "
HandleFriendResponse
œœ )
(
œœ) *
string
œœ* 0
fromUsername
œœ1 =
,
œœ= >
bool
œœ? C
accepted
œœD L
)
œœL M
{
–– 	
if
—— 
(
—— 
accepted
—— 
)
—— 
{
““ 
Application
”” 
.
”” 
Current
”” #
.
””# $

Dispatcher
””$ .
.
””. /
Invoke
””/ 5
(
””5 6
(
””6 7
)
””7 8
=>
””9 ;"
LoadFriendsListAsync
””< P
(
””P Q
)
””Q R
)
””R S
;
””S T
}
‘‘ 
}
’’ 	
~
◊◊ 	$
DirectMessageViewModel
◊◊	 
(
◊◊  
)
◊◊  !
{
ÿÿ 	
Dispose
ŸŸ 
(
ŸŸ 
false
ŸŸ 
)
ŸŸ 
;
ŸŸ 
}
⁄⁄ 	
}
€€ 
}‹‹ Ÿ∏
îC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\Lobby\LobbyViewModel.cs
	namespace 	
GuessMyMessClient
 
. 
	ViewModel %
.% &
Lobby& +
{ 
public 

class 
LobbyViewModel 
:  !
ViewModelBase" /
{ 
private 
UserProfileDto 
_userProfileData /
;/ 0
private 
string 
	_username  
;  !
private 
BitmapImage 
_userAvatar '
;' (
private 
bool 
_isProfilePopupOpen (
;( )
private 
ProfileViewModel  
_profileViewModel! 2
;2 3
private 
bool 
_isFriendsPopupOpen (
;( )
private   
FriendsViewModel    
_friendsViewModel  ! 2
;  2 3
private!! 
bool!! %
_isConfigurationPopupOpen!! .
;!!. /
private"" "
ConfigurationViewModel"" &#
_configurationViewModel""' >
;""> ?
private## 
bool## 
_isChatPopupOpen## %
;##% &
private$$ "
DirectMessageViewModel$$ &#
_directMessageViewModel$$' >
;$$> ?
public&& 
UserProfileDto&& 
UserProfileData&& -
{'' 	
get(( 
{(( 
return(( 
_userProfileData(( )
;(() *
}((+ ,
set)) 
{** 
if++ 
(++ 
_userProfileData++ $
!=++% '
value++( -
)++- .
{,, 
_userProfileData-- $
=--% &
value--' ,
;--, -
OnPropertyChanged.. %
(..% &
)..& '
;..' (
}// 
}00 
}11 	
public33 
string33 
Username33 
{44 	
get55 
{55 
return55 
	_username55 "
;55" #
}55$ %
set66 
{77 
if88 
(88 
	_username88 
!=88  
value88! &
)88& '
{99 
	_username:: 
=:: 
value::  %
;::% &
OnPropertyChanged;; %
(;;% &
);;& '
;;;' (
}<< 
}== 
}>> 	
public@@ 
BitmapImage@@ 

UserAvatar@@ %
{AA 	
getBB 
{BB 
returnBB 
_userAvatarBB $
;BB$ %
}BB& '
setCC 
{DD 
ifEE 
(EE 
_userAvatarEE 
!=EE  "
valueEE# (
)EE( )
{FF 
_userAvatarGG 
=GG  !
valueGG" '
;GG' (
OnPropertyChangedHH %
(HH% &
)HH& '
;HH' (
}II 
}JJ 
}KK 	
publicMM 
boolMM 
IsProfilePopupOpenMM &
{NN 	
getOO 
{OO 
returnOO 
_isProfilePopupOpenOO ,
;OO, -
}OO. /
setPP 
{QQ 
ifRR 
(RR 
_isProfilePopupOpenRR '
!=RR( *
valueRR+ 0
)RR0 1
{SS 
_isProfilePopupOpenTT '
=TT( )
valueTT* /
;TT/ 0
OnPropertyChangedUU %
(UU% &
)UU& '
;UU' (
}VV 
}WW 
}XX 	
publicZZ 
ProfileViewModelZZ 
ProfileViewModelZZ  0
{[[ 	
get\\ 
{\\ 
return\\ 
_profileViewModel\\ *
;\\* +
}\\, -
set]] 
{^^ 
if__ 
(__ 
_profileViewModel__ %
!=__& (
value__) .
)__. /
{`` 
_profileViewModelaa %
=aa& '
valueaa( -
;aa- .
OnPropertyChangedbb %
(bb% &
)bb& '
;bb' (
}cc 
}dd 
}ee 	
publicgg 
boolgg 
IsFriendsPopupOpengg &
{hh 	
getii 
{ii 
returnii 
_isFriendsPopupOpenii ,
;ii, -
}ii. /
setjj 
{kk 
ifll 
(ll 
_isFriendsPopupOpenll '
!=ll( *
valuell+ 0
)ll0 1
{mm 
_isFriendsPopupOpennn '
=nn( )
valuenn* /
;nn/ 0
OnPropertyChangedoo %
(oo% &
)oo& '
;oo' (
}pp 
}qq 
}rr 	
publictt 
FriendsViewModeltt 
FriendsViewModeltt  0
{uu 	
getvv 
{vv 
returnvv 
_friendsViewModelvv *
;vv* +
}vv, -
setww 
{xx 
ifyy 
(yy 
_friendsViewModelyy %
!=yy& (
valueyy) .
)yy. /
{zz 
_friendsViewModel{{ %
={{& '
value{{( -
;{{- .
OnPropertyChanged|| %
(||% &
)||& '
;||' (
}}} 
}~~ 
} 	
public
ÅÅ 
bool
ÅÅ &
IsConfigurationPopupOpen
ÅÅ ,
{
ÇÇ 	
get
ÉÉ 
{
ÉÉ 
return
ÉÉ '
_isConfigurationPopupOpen
ÉÉ 2
;
ÉÉ2 3
}
ÉÉ4 5
set
ÑÑ 
{
ÖÖ 
if
ÜÜ 
(
ÜÜ '
_isConfigurationPopupOpen
ÜÜ -
!=
ÜÜ. 0
value
ÜÜ1 6
)
ÜÜ6 7
{
áá '
_isConfigurationPopupOpen
àà -
=
àà. /
value
àà0 5
;
àà5 6
OnPropertyChanged
ââ %
(
ââ% &
)
ââ& '
;
ââ' (
}
ää 
}
ãã 
}
åå 	
public
éé $
ConfigurationViewModel
éé %$
ConfigurationViewModel
éé& <
{
èè 	
get
êê 
{
êê 
return
êê %
_configurationViewModel
êê 0
;
êê0 1
}
êê2 3
set
ëë 
{
íí 
if
ìì 
(
ìì %
_configurationViewModel
ìì +
!=
ìì, .
value
ìì/ 4
)
ìì4 5
{
îî %
_configurationViewModel
ïï +
=
ïï, -
value
ïï. 3
;
ïï3 4
OnPropertyChanged
ññ %
(
ññ% &
)
ññ& '
;
ññ' (
}
óó 
}
òò 
}
ôô 	
public
õõ 
bool
õõ 
IsChatPopupOpen
õõ #
{
úú 	
get
ùù 
{
ùù 
return
ùù 
_isChatPopupOpen
ùù )
;
ùù) *
}
ùù+ ,
set
ûû 
{
üü 
if
†† 
(
†† 
_isChatPopupOpen
†† $
!=
††% '
value
††( -
)
††- .
{
°° 
_isChatPopupOpen
¢¢ $
=
¢¢% &
value
¢¢' ,
;
¢¢, -
OnPropertyChanged
££ %
(
££% &
)
££& '
;
££' (
}
§§ 
}
•• 
}
¶¶ 	
public
®® $
DirectMessageViewModel
®® %$
DirectMessageViewModel
®®& <
{
©© 	
get
™™ 
{
™™ 
return
™™ %
_directMessageViewModel
™™ 0
;
™™0 1
}
™™2 3
set
´´ 
{
¨¨ 
if
≠≠ 
(
≠≠ %
_directMessageViewModel
≠≠ +
!=
≠≠, .
value
≠≠/ 4
)
≠≠4 5
{
ÆÆ %
_directMessageViewModel
ØØ +
=
ØØ, -
value
ØØ. 3
;
ØØ3 4
OnPropertyChanged
∞∞ %
(
∞∞% &
)
∞∞& '
;
∞∞' (
}
±± 
}
≤≤ 
}
≥≥ 	
public
µµ 
ICommand
µµ 
SettingsCommand
µµ '
{
µµ( )
get
µµ* -
;
µµ- .
}
µµ/ 0
public
∂∂ 
ICommand
∂∂ 
FriendsCommand
∂∂ &
{
∂∂' (
get
∂∂) ,
;
∂∂, -
}
∂∂. /
public
∑∑ 
ICommand
∑∑ 
ChatCommand
∑∑ #
{
∑∑$ %
get
∑∑& )
;
∑∑) *
}
∑∑+ ,
public
∏∏ 
ICommand
∏∏ 
PlayCommand
∏∏ #
{
∏∏$ %
get
∏∏& )
;
∏∏) *
}
∏∏+ ,
public
ππ 
ICommand
ππ 
CreateGameCommand
ππ )
{
ππ* +
get
ππ, /
;
ππ/ 0
}
ππ1 2
public
∫∫ 
ICommand
∫∫  
EditProfileCommand
∫∫ *
{
∫∫+ ,
get
∫∫- 0
;
∫∫0 1
}
∫∫2 3
public
ªª 
ICommand
ªª !
SelectAvatarCommand
ªª +
{
ªª, -
get
ªª. 1
;
ªª1 2
}
ªª3 4
public
ºº 
ICommand
ºº  
CloseWindowCommand
ºº *
{
ºº+ ,
get
ºº- 0
;
ºº0 1
}
ºº2 3
public
ΩΩ 
ICommand
ΩΩ #
MaximizeWindowCommand
ΩΩ -
{
ΩΩ. /
get
ΩΩ0 3
;
ΩΩ3 4
}
ΩΩ5 6
public
ææ 
ICommand
ææ #
MinimizeWindowCommand
ææ -
{
ææ. /
get
ææ0 3
;
ææ3 4
}
ææ5 6
public
¿¿ 
LobbyViewModel
¿¿ 
(
¿¿ 
)
¿¿ 
{
¡¡ 	
SettingsCommand
¬¬ 
=
¬¬ 
new
¬¬ !
RelayCommand
¬¬" .
(
¬¬. /
ExecuteSettings
¬¬/ >
)
¬¬> ?
;
¬¬? @
FriendsCommand
√√ 
=
√√ 
new
√√  
RelayCommand
√√! -
(
√√- .
ExecuteFriends
√√. <
)
√√< =
;
√√= >
ChatCommand
ƒƒ 
=
ƒƒ 
new
ƒƒ 
RelayCommand
ƒƒ *
(
ƒƒ* +
ExecuteChat
ƒƒ+ 6
)
ƒƒ6 7
;
ƒƒ7 8
PlayCommand
≈≈ 
=
≈≈ 
new
≈≈ 
RelayCommand
≈≈ *
(
≈≈* +
ExecutePlay
≈≈+ 6
)
≈≈6 7
;
≈≈7 8
CreateGameCommand
∆∆ 
=
∆∆ 
new
∆∆  #
RelayCommand
∆∆$ 0
(
∆∆0 1
ExecuteCreateGame
∆∆1 B
)
∆∆B C
;
∆∆C D 
EditProfileCommand
«« 
=
««  
new
««! $
RelayCommand
««% 1
(
««1 2 
ExecuteEditProfile
««2 D
)
««D E
;
««E F!
SelectAvatarCommand
»» 
=
»»  !
new
»»" %
RelayCommand
»»& 2
(
»»2 3!
ExecuteSelectAvatar
»»3 F
)
»»F G
;
»»G H 
CloseWindowCommand
…… 
=
……  
new
……! $
RelayCommand
……% 1
(
……1 2 
ExecuteCloseWindow
……2 D
)
……D E
;
……E F#
MaximizeWindowCommand
   !
=
  " #
new
  $ '
RelayCommand
  ( 4
(
  4 5#
ExecuteMaximizeWindow
  5 J
)
  J K
;
  K L#
MinimizeWindowCommand
ÀÀ !
=
ÀÀ" #
new
ÀÀ$ '
RelayCommand
ÀÀ( 4
(
ÀÀ4 5#
ExecuteMinimizeWindow
ÀÀ5 J
)
ÀÀJ K
;
ÀÀK L
try
ÕÕ 
{
ŒŒ !
SocialClientManager
œœ #
.
œœ# $
Instance
œœ$ ,
.
œœ, -

Initialize
œœ- 7
(
œœ7 8
)
œœ8 9
;
œœ9 :
FriendsViewModel
––  
=
––! "
new
––# &
FriendsViewModel
––' 7
(
––7 8
)
––8 9
;
––9 :$
DirectMessageViewModel
—— &
=
——' (
new
——) ,$
DirectMessageViewModel
——- C
(
——C D
)
——D E
;
——E F$
ConfigurationViewModel
““ &
=
““' (
new
““) ,$
ConfigurationViewModel
““- C
(
““C D
)
““D E
;
““E F
}
”” 
catch
‘‘ 
(
‘‘ 
	Exception
‘‘ 
ex
‘‘ 
)
‘‘  
{
’’ 

MessageBox
÷÷ 
.
÷÷ 
Show
÷÷ 
(
÷÷  
string
◊◊ 
.
◊◊ 
Format
◊◊ !
(
◊◊! "
Lang
◊◊" &
.
◊◊& ')
alertSocialServiceInitError
◊◊' B
,
◊◊B C
ex
◊◊D F
.
◊◊F G
Message
◊◊G N
)
◊◊N O
,
◊◊O P
Lang
ÿÿ 
.
ÿÿ %
alertCriticalErrorTitle
ÿÿ 0
,
ÿÿ0 1
MessageBoxButton
ŸŸ $
.
ŸŸ$ %
OK
ŸŸ% '
,
ŸŸ' (
MessageBoxImage
⁄⁄ #
.
⁄⁄# $
Warning
⁄⁄$ +
)
⁄⁄+ ,
;
⁄⁄, -
Console
€€ 
.
€€ 
	WriteLine
€€ !
(
€€! "
$"
€€" $
$str
€€$ M
{
€€M N
ex
€€N P
.
€€P Q
Message
€€Q X
}
€€X Y
"
€€Y Z
)
€€Z [
;
€€[ \
}
‹‹ 
LoadDataOnEntry
ﬁﬁ 
(
ﬁﬁ 
)
ﬁﬁ 
;
ﬁﬁ 
}
ﬂﬂ 	
private
·· 
async
·· 
void
·· 
LoadDataOnEntry
·· *
(
··* +
)
··+ ,
{
‚‚ 	
await
„„ "
LoadUserProfileAsync
„„ &
(
„„& '
)
„„' (
;
„„( )
}
‰‰ 	
private
ÊÊ 
void
ÊÊ 
ExecuteSettings
ÊÊ $
(
ÊÊ$ %
object
ÊÊ% +
	parameter
ÊÊ, 5
)
ÊÊ5 6
{
ÁÁ 	
if
ËË 
(
ËË $
ConfigurationViewModel
ËË &
!=
ËË' )
null
ËË* .
)
ËË. /
{
ÈÈ  
IsProfilePopupOpen
ÍÍ "
=
ÍÍ# $
false
ÍÍ% *
;
ÍÍ* + 
IsFriendsPopupOpen
ÎÎ "
=
ÎÎ# $
false
ÎÎ% *
;
ÎÎ* +
IsChatPopupOpen
ÏÏ 
=
ÏÏ  !
false
ÏÏ" '
;
ÏÏ' (&
IsConfigurationPopupOpen
ÌÌ (
=
ÌÌ) *
!
ÌÌ+ ,&
IsConfigurationPopupOpen
ÌÌ, D
;
ÌÌD E
}
ÓÓ 
else
ÔÔ 
{
 

MessageBox
ÒÒ 
.
ÒÒ 
Show
ÒÒ 
(
ÒÒ  
Lang
ÚÚ 
.
ÚÚ *
alertFeatureUnavailableError
ÚÚ 5
,
ÚÚ5 6
Lang
ÛÛ 
.
ÛÛ 
alertErrorTitle
ÛÛ (
,
ÛÛ( )
MessageBoxButton
ÙÙ $
.
ÙÙ$ %
OK
ÙÙ% '
,
ÙÙ' (
MessageBoxImage
ıı #
.
ıı# $
Warning
ıı$ +
)
ıı+ ,
;
ıı, -
}
ˆˆ 
}
˜˜ 	
private
˘˘ 
void
˘˘ 
ExecuteFriends
˘˘ #
(
˘˘# $
object
˘˘$ *
param
˘˘+ 0
)
˘˘0 1
{
˙˙ 	
if
˚˚ 
(
˚˚ 
FriendsViewModel
˚˚  
!=
˚˚! #
null
˚˚$ (
)
˚˚( )
{
¸¸  
IsProfilePopupOpen
˝˝ "
=
˝˝# $
false
˝˝% *
;
˝˝* +&
IsConfigurationPopupOpen
˛˛ (
=
˛˛) *
false
˛˛+ 0
;
˛˛0 1
IsChatPopupOpen
ˇˇ 
=
ˇˇ  !
false
ˇˇ" '
;
ˇˇ' ( 
IsFriendsPopupOpen
ÄÄ "
=
ÄÄ# $
!
ÄÄ% & 
IsFriendsPopupOpen
ÄÄ& 8
;
ÄÄ8 9
}
ÅÅ 
else
ÇÇ 
{
ÉÉ 

MessageBox
ÑÑ 
.
ÑÑ 
Show
ÑÑ 
(
ÑÑ  
Lang
ÖÖ 
.
ÖÖ *
alertFeatureUnavailableError
ÖÖ 5
,
ÖÖ5 6
Lang
ÜÜ 
.
ÜÜ 
alertErrorTitle
ÜÜ (
,
ÜÜ( )
MessageBoxButton
áá $
.
áá$ %
OK
áá% '
,
áá' (
MessageBoxImage
àà #
.
àà# $
Warning
àà$ +
)
àà+ ,
;
àà, -
}
ââ 
}
ää 	
private
åå 
void
åå 
ExecuteChat
åå  
(
åå  !
object
åå! '
param
åå( -
)
åå- .
{
çç 	
if
éé 
(
éé $
DirectMessageViewModel
éé &
!=
éé' )
null
éé* .
)
éé. /
{
èè  
IsProfilePopupOpen
êê "
=
êê# $
false
êê% *
;
êê* +&
IsConfigurationPopupOpen
ëë (
=
ëë) *
false
ëë+ 0
;
ëë0 1 
IsFriendsPopupOpen
íí "
=
íí# $
false
íí% *
;
íí* +
IsChatPopupOpen
ìì 
=
ìì  !
!
ìì" #
IsChatPopupOpen
ìì# 2
;
ìì2 3
}
îî 
else
ïï 
{
ññ 

MessageBox
óó 
.
óó 
Show
óó 
(
óó  
Lang
òò 
.
òò  
alertChatLoadError
òò +
,
òò+ ,
Lang
ôô 
.
ôô 
alertErrorTitle
ôô (
,
ôô( )
MessageBoxButton
öö $
.
öö$ %
OK
öö% '
,
öö' (
MessageBoxImage
õõ #
.
õõ# $
Warning
õõ$ +
)
õõ+ ,
;
õõ, -
}
úú 
}
ùù 	
private
üü 
void
üü 
ExecutePlay
üü  
(
üü  !
object
üü! '
param
üü( -
)
üü- .
{
†† 	$
PublicMatchesViewModel
°° "$
publicMatchesViewModel
°°# 9
=
°°: ;
new
°°< ?$
PublicMatchesViewModel
°°@ V
(
°°V W
)
°°W X
;
°°X Y
PublicMatchesView
¢¢ 
publicMatchesView
¢¢ /
=
¢¢0 1
new
¢¢2 5
PublicMatchesView
¢¢6 G
(
¢¢G H
)
¢¢H I
;
¢¢I J
publicMatchesView
££ 
.
££ 
DataContext
££ )
=
££* +$
publicMatchesViewModel
££, B
;
££B C
publicMatchesView
§§ 
.
§§ 
Show
§§ "
(
§§" #
)
§§# $
;
§§$ %%
CloseCurrentLobbyWindow
•• #
(
••# $
)
••$ %
;
••% &
}
¶¶ 	
private
®® 
void
®® 
ExecuteCreateGame
®® &
(
®®& '
object
®®' -
param
®®. 3
)
®®3 4
{
©© 	*
PublicMatchSettingsViewModel
™™ ($
matchSettingsViewModel
™™) ?
=
™™@ A
new
™™B E*
PublicMatchSettingsViewModel
™™F b
(
™™b c
)
™™c d
;
™™d e%
PublicMatchSettingsView
´´ #
matchSettingsView
´´$ 5
=
´´6 7
new
´´8 ;%
PublicMatchSettingsView
´´< S
(
´´S T
)
´´T U
;
´´U V
matchSettingsView
¨¨ 
.
¨¨ 
DataContext
¨¨ )
=
¨¨* +$
matchSettingsViewModel
¨¨, B
;
¨¨B C
matchSettingsView
≠≠ 
.
≠≠ 
Show
≠≠ "
(
≠≠" #
)
≠≠# $
;
≠≠$ %%
CloseCurrentLobbyWindow
ÆÆ #
(
ÆÆ# $
)
ÆÆ$ %
;
ÆÆ% &
}
ØØ 	
private
±± 
async
±± 
Task
±± "
LoadUserProfileAsync
±± /
(
±±/ 0
)
±±0 1
{
≤≤ 	
if
≥≥ 
(
≥≥ 
!
≥≥ 
SessionManager
≥≥ 
.
≥≥  
Instance
≥≥  (
.
≥≥( )

IsLoggedIn
≥≥) 3
)
≥≥3 4
{
¥¥ 
Console
µµ 
.
µµ 
	WriteLine
µµ !
(
µµ! "
$str
µµ" N
)
µµN O
;
µµO P
return
∂∂ 
;
∂∂ 
}
∑∑ 
using
ππ 
(
ππ 
var
ππ 
client
ππ 
=
ππ 
new
ππ  #&
UserProfileServiceClient
ππ$ <
(
ππ< =
)
ππ= >
)
ππ> ?
{
∫∫ 
try
ªª 
{
ºº 
UserProfileDto
ΩΩ "
profileData
ΩΩ# .
=
ΩΩ/ 0
await
ΩΩ1 6
client
ΩΩ7 =
.
ΩΩ= >!
GetUserProfileAsync
ΩΩ> Q
(
ΩΩQ R
SessionManager
ΩΩR `
.
ΩΩ` a
Instance
ΩΩa i
.
ΩΩi j
CurrentUsername
ΩΩj y
)
ΩΩy z
;
ΩΩz {
if
øø 
(
øø 
profileData
øø #
==
øø$ &
null
øø' +
)
øø+ ,
{
¿¿ 

MessageBox
¡¡ "
.
¡¡" #
Show
¡¡# '
(
¡¡' (
Lang
¬¬  
.
¬¬  !#
alertProfileLoadError
¬¬! 6
,
¬¬6 7
Lang
√√  
.
√√  !
alertErrorTitle
√√! 0
,
√√0 1
MessageBoxButton
ƒƒ ,
.
ƒƒ, -
OK
ƒƒ- /
,
ƒƒ/ 0
MessageBoxImage
≈≈ +
.
≈≈+ ,
Error
≈≈, 1
)
≈≈1 2
;
≈≈2 3
return
∆∆ 
;
∆∆ 
}
«« 
UserProfileData
…… #
=
……$ %
profileData
……& 1
;
……1 2
Username
   
=
   
profileData
   *
.
  * +
Username
  + 3
;
  3 4
ProfileViewModel
ÀÀ $
=
ÀÀ% &
new
ÀÀ' *
ProfileViewModel
ÀÀ+ ;
(
ÀÀ; <
UserProfileData
ÀÀ< K
)
ÀÀK L
;
ÀÀL M
var
ÕÕ 

allAvatars
ÕÕ "
=
ÕÕ# $
await
ÕÕ% *
client
ÕÕ+ 1
.
ÕÕ1 2&
GetAvailableAvatarsAsync
ÕÕ2 J
(
ÕÕJ K
)
ÕÕK L
;
ÕÕL M
if
ŒŒ 
(
ŒŒ 

allAvatars
ŒŒ "
!=
ŒŒ# %
null
ŒŒ& *
)
ŒŒ* +
{
œœ 
var
–– 
userAvatarDto
–– )
=
––* +

allAvatars
––, 6
.
––6 7
FirstOrDefault
––7 E
(
––E F
a
––F G
=>
––H J
a
––K L
.
––L M
IdAvatar
––M U
==
––V X
profileData
––Y d
.
––d e
AvatarId
––e m
)
––m n
;
––n o
if
—— 
(
—— 
userAvatarDto
—— )
?
——) *
.
——* +

AvatarData
——+ 5
!=
——6 8
null
——9 =
)
——= >
{
““ 

UserAvatar
”” &
=
””' ( 
ConvertByteToImage
””) ;
(
””; <
userAvatarDto
””< I
.
””I J

AvatarData
””J T
)
””T U
;
””U V
}
‘‘ 
else
’’ 
{
÷÷ 
Console
◊◊ #
.
◊◊# $
	WriteLine
◊◊$ -
(
◊◊- .
$"
◊◊. 0
$str
◊◊0 >
{
◊◊> ?
profileData
◊◊? J
.
◊◊J K
AvatarId
◊◊K S
}
◊◊S T
$str
◊◊T o
"
◊◊o p
)
◊◊p q
;
◊◊q r
}
ÿÿ 
}
ŸŸ 
}
⁄⁄ 
catch
€€ 
(
€€ 
FaultException
€€ %

fexGeneral
€€& 0
)
€€0 1
{
‹‹ 

MessageBox
›› 
.
›› 
Show
›› #
(
››# $
Lang
ﬁﬁ 
.
ﬁﬁ )
alertProfileLoadServerError
ﬁﬁ 8
,
ﬁﬁ8 9
Lang
ﬂﬂ 
.
ﬂﬂ 
alertErrorTitle
ﬂﬂ ,
,
ﬂﬂ, -
MessageBoxButton
‡‡ (
.
‡‡( )
OK
‡‡) +
,
‡‡+ ,
MessageBoxImage
·· '
.
··' (
Error
··( -
)
··- .
;
··. /
Console
‚‚ 
.
‚‚ 
	WriteLine
‚‚ %
(
‚‚% &
$"
‚‚& (
$str
‚‚( C
{
‚‚C D

fexGeneral
‚‚D N
.
‚‚N O
Message
‚‚O V
}
‚‚V W
"
‚‚W X
)
‚‚X Y
;
‚‚Y Z
}
„„ 
catch
‰‰ 
(
‰‰ '
EndpointNotFoundException
‰‰ 0
ex
‰‰1 3
)
‰‰3 4
{
ÂÂ 

MessageBox
ÊÊ 
.
ÊÊ 
Show
ÊÊ #
(
ÊÊ# $
Lang
ÁÁ 
.
ÁÁ )
alertConnectionErrorMessage
ÁÁ 8
,
ÁÁ8 9
Lang
ËË 
.
ËË '
alertConnectionErrorTitle
ËË 6
,
ËË6 7
MessageBoxButton
ÈÈ (
.
ÈÈ( )
OK
ÈÈ) +
,
ÈÈ+ ,
MessageBoxImage
ÍÍ '
.
ÍÍ' (
Error
ÍÍ( -
)
ÍÍ- .
;
ÍÍ. /
Console
ÎÎ 
.
ÎÎ 
	WriteLine
ÎÎ %
(
ÎÎ% &
$"
ÎÎ& (
$str
ÎÎ( J
{
ÎÎJ K
ex
ÎÎK M
.
ÎÎM N
Message
ÎÎN U
}
ÎÎU V
"
ÎÎV W
)
ÎÎW X
;
ÎÎX Y
}
ÏÏ 
catch
ÌÌ 
(
ÌÌ 
	Exception
ÌÌ  
ex
ÌÌ! #
)
ÌÌ# $
{
ÓÓ 

MessageBox
ÔÔ 
.
ÔÔ 
Show
ÔÔ #
(
ÔÔ# $
Lang
 
.
 #
alertProfileLoadError
 2
,
2 3
Lang
ÒÒ 
.
ÒÒ 
alertErrorTitle
ÒÒ ,
,
ÒÒ, -
MessageBoxButton
ÚÚ (
.
ÚÚ( )
OK
ÚÚ) +
,
ÚÚ+ ,
MessageBoxImage
ÛÛ '
.
ÛÛ' (
Error
ÛÛ( -
)
ÛÛ- .
;
ÛÛ. /
Console
ÙÙ 
.
ÙÙ 
	WriteLine
ÙÙ %
(
ÙÙ% &
$"
ÙÙ& (
$str
ÙÙ( ?
{
ÙÙ? @
ex
ÙÙ@ B
.
ÙÙB C
Message
ÙÙC J
}
ÙÙJ K
"
ÙÙK L
)
ÙÙL M
;
ÙÙM N
}
ıı 
}
ˆˆ 
}
˜˜ 	
private
˘˘ 
void
˘˘  
ExecuteEditProfile
˘˘ '
(
˘˘' (
object
˘˘( .
	parameter
˘˘/ 8
)
˘˘8 9
{
˙˙ 	
if
˚˚ 
(
˚˚ 
ProfileViewModel
˚˚  
!=
˚˚! #
null
˚˚$ (
)
˚˚( )
{
¸¸ &
IsConfigurationPopupOpen
˝˝ (
=
˝˝) *
false
˝˝+ 0
;
˝˝0 1 
IsFriendsPopupOpen
˛˛ "
=
˛˛# $
false
˛˛% *
;
˛˛* +
IsChatPopupOpen
ˇˇ 
=
ˇˇ  !
false
ˇˇ" '
;
ˇˇ' ( 
IsProfilePopupOpen
ÄÄ "
=
ÄÄ# $
!
ÄÄ% & 
IsProfilePopupOpen
ÄÄ& 8
;
ÄÄ8 9
}
ÅÅ 
else
ÇÇ 
{
ÉÉ 

MessageBox
ÑÑ 
.
ÑÑ 
Show
ÑÑ 
(
ÑÑ  
Lang
ÖÖ 
.
ÖÖ #
alertProfileNotLoaded
ÖÖ .
,
ÖÖ. /
Lang
ÜÜ 
.
ÜÜ 
alertInfoTitle
ÜÜ '
,
ÜÜ' (
MessageBoxButton
áá $
.
áá$ %
OK
áá% '
,
áá' (
MessageBoxImage
àà #
.
àà# $
Information
àà$ /
)
àà/ 0
;
àà0 1
}
ââ 
}
ää 	
private
åå 
void
åå !
ExecuteSelectAvatar
åå (
(
åå( )
object
åå) /
	parameter
åå0 9
)
åå9 :
{
çç 	
if
éé 
(
éé 
UserProfileData
éé 
==
éé  "
null
éé# '
)
éé' (
{
èè 

MessageBox
êê 
.
êê 
Show
êê 
(
êê  
Lang
ëë 
.
ëë #
alertProfileNotLoaded
ëë .
,
ëë. /
Lang
íí 
.
íí 
alertInfoTitle
íí '
,
íí' (
MessageBoxButton
ìì $
.
ìì$ %
OK
ìì% '
,
ìì' (
MessageBoxImage
îî #
.
îî# $
Information
îî$ /
)
îî/ 0
;
îî0 1
return
ïï 
;
ïï 
}
ññ 
var
òò 
selectAvatarView
òò  
=
òò! "
new
òò# &
SelectAvatarView
òò' 7
(
òò7 8
)
òò8 9
;
òò9 :
var
ôô #
selectAvatarViewModel
ôô %
=
ôô& '
new
ôô( +#
SelectAvatarViewModel
ôô, A
(
ôôA B
UserProfileData
ôôB Q
.
ôôQ R
AvatarId
ôôR Z
)
ôôZ [
;
ôô[ \#
selectAvatarViewModel
öö !
.
öö! "
AvatarSelected
öö" 0
+=
öö1 3
OnAvatarSelected
öö4 D
;
ööD E
selectAvatarView
õõ 
.
õõ 
DataContext
õõ (
=
õõ) *#
selectAvatarViewModel
õõ+ @
;
õõ@ A
selectAvatarView
úú 
.
úú 

ShowDialog
úú '
(
úú' (
)
úú( )
;
úú) *#
selectAvatarViewModel
ùù !
.
ùù! "
AvatarSelected
ùù" 0
-=
ùù1 3
OnAvatarSelected
ùù4 D
;
ùùD E
}
ûû 	
private
†† 
async
†† 
void
†† 
OnAvatarSelected
†† +
(
††+ ,
AvatarModel
††, 7
	newAvatar
††8 A
)
††A B
{
°° 	
if
¢¢ 
(
¢¢ 
	newAvatar
¢¢ 
==
¢¢ 
null
¢¢ !
||
¢¢" $
UserProfileData
¢¢% 4
==
¢¢5 7
null
¢¢8 <
||
¢¢= ?
	newAvatar
¢¢@ I
.
¢¢I J
Id
¢¢J L
==
¢¢M O
UserProfileData
¢¢P _
.
¢¢_ `
AvatarId
¢¢` h
)
¢¢h i
{
££ 
return
§§ 
;
§§ 
}
•• 
UserProfileData
ßß 
.
ßß 
AvatarId
ßß $
=
ßß% &
	newAvatar
ßß' 0
.
ßß0 1
Id
ßß1 3
;
ßß3 4
using
©© 
(
©© 
var
©© 
client
©© 
=
©© 
new
©©  #&
UserProfileServiceClient
©©$ <
(
©©< =
)
©©= >
)
©©> ?
{
™™ 
bool
´´ 
success
´´ 
=
´´ 
false
´´ $
;
´´$ %
try
¨¨ 
{
≠≠  
OperationResultDto
ÆÆ &
result
ÆÆ' -
=
ÆÆ. /
await
ÆÆ0 5
client
ÆÆ6 <
.
ÆÆ< = 
UpdateProfileAsync
ÆÆ= O
(
ÆÆO P
Username
ÆÆP X
,
ÆÆX Y
UserProfileData
ÆÆZ i
)
ÆÆi j
;
ÆÆj k
if
ØØ 
(
ØØ 
result
ØØ 
.
ØØ 
Success
ØØ &
)
ØØ& '
{
∞∞ 

UserAvatar
±± "
=
±±# $
	newAvatar
±±% .
.
±±. /
ImageSource
±±/ :
;
±±: ;

MessageBox
≤≤ "
.
≤≤" #
Show
≤≤# '
(
≤≤' (
Lang
≥≥  
.
≥≥  !&
alertAvatarUpdateSuccess
≥≥! 9
,
≥≥9 :
Lang
¥¥  
.
¥¥  !
alertSuccessTitle
¥¥! 2
,
¥¥2 3
MessageBoxButton
µµ ,
.
µµ, -
OK
µµ- /
,
µµ/ 0
MessageBoxImage
∂∂ +
.
∂∂+ ,
Information
∂∂, 7
)
∂∂7 8
;
∂∂8 9
success
∑∑ 
=
∑∑  !
true
∑∑" &
;
∑∑& '
}
∏∏ 
else
ππ 
{
∫∫ 

MessageBox
ªª "
.
ªª" #
Show
ªª# '
(
ªª' (
result
ºº "
.
ºº" #
Message
ºº# *
,
ºº* +
Lang
ΩΩ  
.
ΩΩ  !)
alertAvatarUpdateErrorTitle
ΩΩ! <
,
ΩΩ< =
MessageBoxButton
ææ ,
.
ææ, -
OK
ææ- /
,
ææ/ 0
MessageBoxImage
øø +
.
øø+ ,
Warning
øø, 3
)
øø3 4
;
øø4 5
}
¿¿ 
}
¡¡ 
catch
¬¬ 
(
¬¬ 
FaultException
¬¬ %

fexGeneral
¬¬& 0
)
¬¬0 1
{
√√ 

MessageBox
ƒƒ 
.
ƒƒ 
Show
ƒƒ #
(
ƒƒ# $
Lang
≈≈ 
.
≈≈ %
alertServerErrorMessage
≈≈ 4
,
≈≈4 5
Lang
∆∆ 
.
∆∆ )
alertAvatarUpdateErrorTitle
∆∆ 8
,
∆∆8 9
MessageBoxButton
«« (
.
««( )
OK
««) +
,
««+ ,
MessageBoxImage
»» '
.
»»' (
Error
»»( -
)
»»- .
;
»». /
Console
…… 
.
…… 
	WriteLine
…… %
(
……% &
$"
……& (
$str
……( A
{
……A B

fexGeneral
……B L
.
……L M
Message
……M T
}
……T U
"
……U V
)
……V W
;
……W X
}
   
catch
ÀÀ 
(
ÀÀ '
EndpointNotFoundException
ÀÀ 0
ex
ÀÀ1 3
)
ÀÀ3 4
{
ÃÃ 

MessageBox
ÕÕ 
.
ÕÕ 
Show
ÕÕ #
(
ÕÕ# $
Lang
ŒŒ 
.
ŒŒ )
alertConnectionErrorMessage
ŒŒ 8
,
ŒŒ8 9
Lang
œœ 
.
œœ )
alertAvatarUpdateErrorTitle
œœ 8
,
œœ8 9
MessageBoxButton
–– (
.
––( )
OK
––) +
,
––+ ,
MessageBoxImage
—— '
.
——' (
Error
——( -
)
——- .
;
——. /
Console
““ 
.
““ 
	WriteLine
““ %
(
““% &
$"
““& (
$str
““( H
{
““H I
ex
““I K
.
““K L
Message
““L S
}
““S T
"
““T U
)
““U V
;
““V W
}
”” 
catch
‘‘ 
(
‘‘ 
	Exception
‘‘  
ex
‘‘! #
)
‘‘# $
{
’’ 

MessageBox
÷÷ 
.
÷÷ 
Show
÷÷ #
(
÷÷# $
Lang
◊◊ 
.
◊◊ +
alertAvatarUpdateUnknownError
◊◊ :
,
◊◊: ;
Lang
ÿÿ 
.
ÿÿ )
alertAvatarUpdateErrorTitle
ÿÿ 8
,
ÿÿ8 9
MessageBoxButton
ŸŸ (
.
ŸŸ( )
OK
ŸŸ) +
,
ŸŸ+ ,
MessageBoxImage
⁄⁄ '
.
⁄⁄' (
Error
⁄⁄( -
)
⁄⁄- .
;
⁄⁄. /
Console
€€ 
.
€€ 
	WriteLine
€€ %
(
€€% &
$"
€€& (
$str
€€( @
{
€€@ A
ex
€€A C
.
€€C D
Message
€€D K
}
€€K L
"
€€L M
)
€€M N
;
€€N O
}
‹‹ 
}
›› 
}
ﬁﬁ 	
public
‡‡ 
static
‡‡ 
BitmapImage
‡‡ ! 
ConvertByteToImage
‡‡" 4
(
‡‡4 5
byte
‡‡5 9
[
‡‡9 :
]
‡‡: ;

imageBytes
‡‡< F
)
‡‡F G
{
·· 	
if
‚‚ 
(
‚‚ 

imageBytes
‚‚ 
==
‚‚ 
null
‚‚ "
||
‚‚# %

imageBytes
‚‚& 0
.
‚‚0 1
Length
‚‚1 7
==
‚‚8 :
$num
‚‚; <
)
‚‚< =
{
„„ 
return
‰‰ 
null
‰‰ 
;
‰‰ 
}
ÂÂ 
var
ÁÁ 
image
ÁÁ 
=
ÁÁ 
new
ÁÁ 
BitmapImage
ÁÁ '
(
ÁÁ' (
)
ÁÁ( )
;
ÁÁ) *
using
ËË 
(
ËË 
var
ËË 
mem
ËË 
=
ËË 
new
ËË  
MemoryStream
ËË! -
(
ËË- .

imageBytes
ËË. 8
)
ËË8 9
)
ËË9 :
{
ÈÈ 
mem
ÍÍ 
.
ÍÍ 
Position
ÍÍ 
=
ÍÍ 
$num
ÍÍ  
;
ÍÍ  !
image
ÎÎ 
.
ÎÎ 
	BeginInit
ÎÎ 
(
ÎÎ  
)
ÎÎ  !
;
ÎÎ! "
image
ÏÏ 
.
ÏÏ 
CreateOptions
ÏÏ #
=
ÏÏ$ %!
BitmapCreateOptions
ÏÏ& 9
.
ÏÏ9 :!
PreservePixelFormat
ÏÏ: M
;
ÏÏM N
image
ÌÌ 
.
ÌÌ 
CacheOption
ÌÌ !
=
ÌÌ" #
BitmapCacheOption
ÌÌ$ 5
.
ÌÌ5 6
OnLoad
ÌÌ6 <
;
ÌÌ< =
image
ÓÓ 
.
ÓÓ 
	UriSource
ÓÓ 
=
ÓÓ  !
null
ÓÓ" &
;
ÓÓ& '
image
ÔÔ 
.
ÔÔ 
StreamSource
ÔÔ "
=
ÔÔ# $
mem
ÔÔ% (
;
ÔÔ( )
image
 
.
 
EndInit
 
(
 
)
 
;
  
}
ÒÒ 
image
ÚÚ 
.
ÚÚ 
Freeze
ÚÚ 
(
ÚÚ 
)
ÚÚ 
;
ÚÚ 
return
ÛÛ 
image
ÛÛ 
;
ÛÛ 
}
ÙÙ 	
public
ˆˆ 
void
ˆˆ %
CleanupSocialConnection
ˆˆ +
(
ˆˆ+ ,
)
ˆˆ, -
{
˜˜ 	
FriendsViewModel
¯¯ 
?
¯¯ 
.
¯¯ 
Cleanup
¯¯ %
(
¯¯% &
)
¯¯& '
;
¯¯' ($
DirectMessageViewModel
˘˘ "
?
˘˘" #
.
˘˘# $
Cleanup
˘˘$ +
(
˘˘+ ,
)
˘˘, -
;
˘˘- .!
SocialClientManager
˙˙ 
.
˙˙  
Instance
˙˙  (
.
˙˙( )
Cleanup
˙˙) 0
(
˙˙0 1
)
˙˙1 2
;
˙˙2 3
Console
˚˚ 
.
˚˚ 
	WriteLine
˚˚ 
(
˚˚ 
$str
˚˚ 9
)
˚˚9 :
;
˚˚: ;
}
¸¸ 	
private
˛˛ 
void
˛˛ %
CloseCurrentLobbyWindow
˛˛ ,
(
˛˛, -
)
˛˛- .
{
ˇˇ 	
Window
ÄÄ 
lobbyWindow
ÄÄ 
=
ÄÄ  
Application
ÄÄ! ,
.
ÄÄ, -
Current
ÄÄ- 4
.
ÄÄ4 5
Windows
ÄÄ5 <
.
ÄÄ< =
OfType
ÄÄ= C
<
ÄÄC D
	LobbyView
ÄÄD M
>
ÄÄM N
(
ÄÄN O
)
ÄÄO P
.
ÄÄP Q
FirstOrDefault
ÄÄQ _
(
ÄÄ_ `
)
ÄÄ` a
;
ÄÄa b
if
ÅÅ 
(
ÅÅ 
lobbyWindow
ÅÅ 
!=
ÅÅ 
null
ÅÅ #
)
ÅÅ# $
{
ÇÇ 
lobbyWindow
ÉÉ 
.
ÉÉ 
Close
ÉÉ !
(
ÉÉ! "
)
ÉÉ" #
;
ÉÉ# $
}
ÑÑ 
else
ÖÖ 
{
ÜÜ 

MessageBox
áá 
.
áá 
Show
áá 
(
áá  
Lang
àà 
.
àà +
alertLobbyWindowNotFoundError
àà 6
,
àà6 7
Lang
ââ 
.
ââ 
alertErrorTitle
ââ (
,
ââ( )
MessageBoxButton
ää $
.
ää$ %
OK
ää% '
,
ää' (
MessageBoxImage
ãã #
.
ãã# $
Warning
ãã$ +
)
ãã+ ,
;
ãã, -
Console
åå 
.
åå 
	WriteLine
åå !
(
åå! "
$str
åå" V
)
ååV W
;
ååW X
}
çç 
}
éé 	
private
êê 
void
êê  
ExecuteCloseWindow
êê '
(
êê' (
object
êê( .
	parameter
êê/ 8
)
êê8 9
{
ëë 	
if
íí 
(
íí 
	parameter
íí 
is
íí 
Window
íí #
window
íí$ *
)
íí* +
{
ìì %
CleanupSocialConnection
îî '
(
îî' (
)
îî( )
;
îî) *
Application
ïï 
.
ïï 
Current
ïï #
.
ïï# $
Shutdown
ïï$ ,
(
ïï, -
)
ïï- .
;
ïï. /
}
ññ 
}
óó 	
private
ôô 
void
ôô #
ExecuteMaximizeWindow
ôô *
(
ôô* +
object
ôô+ 1
	parameter
ôô2 ;
)
ôô; <
{
öö 	
if
õõ 
(
õõ 
	parameter
õõ 
is
õõ 
Window
õõ #
window
õõ$ *
)
õõ* +
{
úú 
window
ùù 
.
ùù 
WindowState
ùù "
=
ùù# $
window
ùù% +
.
ùù+ ,
WindowState
ùù, 7
==
ùù8 :
WindowState
ùù; F
.
ùùF G
	Maximized
ùùG P
?
ùùQ R
WindowState
ùùS ^
.
ùù^ _
Normal
ùù_ e
:
ùùf g
WindowState
ùùh s
.
ùùs t
	Maximized
ùùt }
;
ùù} ~
}
ûû 
}
üü 	
private
°° 
void
°° #
ExecuteMinimizeWindow
°° *
(
°°* +
object
°°+ 1
	parameter
°°2 ;
)
°°; <
{
¢¢ 	
if
££ 
(
££ 
	parameter
££ 
is
££ 
Window
££ #
window
££$ *
)
££* +
{
§§ 
window
•• 
.
•• 
WindowState
•• "
=
••# $
WindowState
••% 0
.
••0 1
	Minimized
••1 :
;
••: ;
}
¶¶ 
}
ßß 	
}
®® 
}©© õn
õC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\Lobby\SelectAvatarViewModel.cs
	namespace 	
GuessMyMessClient
 
. 
	ViewModel %
.% &
Lobby& +
{ 
public 

class !
SelectAvatarViewModel &
:' (
ViewModelBase) 6
{ 
private 
readonly 
int 
_currentAvatarId -
;- .
public 
event 
Action 
< 
AvatarModel '
>' (
AvatarSelected) 7
;7 8
private  
ObservableCollection $
<$ %
AvatarModel% 0
>0 1
_availableAvatars2 C
;C D
public  
ObservableCollection #
<# $
AvatarModel$ /
>/ 0
AvailableAvatars1 A
{ 	
get 
{ 
return 
_availableAvatars (
;( )
} 
set 
{   
if!! 
(!! 
_availableAvatars!! %
!=!!& (
value!!) .
)!!. /
{"" 
_availableAvatars## %
=##& '
value##( -
;##- .
OnPropertyChanged$$ %
($$% &
)$$& '
;$$' (
}%% 
}&& 
}'' 	
private)) 
AvatarModel)) 
_selectedAvatar)) +
;))+ ,
public** 
AvatarModel** 
SelectedAvatar** )
{++ 	
get,, 
{-- 
return.. 
_selectedAvatar.. &
;..& '
}// 
set00 
{11 
if22 
(22 
_selectedAvatar22 #
!=22$ &
value22' ,
)22, -
{33 
if44 
(44 
_selectedAvatar44 '
!=44( *
null44+ /
)44/ 0
{55 
_selectedAvatar66 '
.66' (

IsSelected66( 2
=663 4
false665 :
;66: ;
}77 
_selectedAvatar99 #
=99$ %
value99& +
;99+ ,
if;; 
(;; 
_selectedAvatar;; '
!=;;( *
null;;+ /
);;/ 0
{<< 
_selectedAvatar== '
.==' (

IsSelected==( 2
===3 4
true==5 9
;==9 :
}>> 
OnPropertyChanged?? %
(??% &
)??& '
;??' (
}@@ 
}AA 
}BB 	
publicDD 
ICommandDD #
ConfirmSelectionCommandDD /
{DD0 1
getDD2 5
;DD5 6
}DD7 8
publicEE 
ICommandEE 
CloseCommandEE $
{EE% &
getEE' *
;EE* +
}EE, -
publicFF 
ICommandFF #
SelectAvatarItemCommandFF /
{FF0 1
getFF2 5
;FF5 6
}FF7 8
publicHH !
SelectAvatarViewModelHH $
(HH$ %
intHH% (
currentAvatarIdHH) 8
=HH9 :
$numHH; <
)HH< =
{II 	
_currentAvatarIdJJ 
=JJ 
currentAvatarIdJJ .
;JJ. /
AvailableAvatarsKK 
=KK 
newKK " 
ObservableCollectionKK# 7
<KK7 8
AvatarModelKK8 C
>KKC D
(KKD E
)KKE F
;KKF G#
ConfirmSelectionCommandMM #
=MM$ %
newMM& )
RelayCommandMM* 6
(MM6 7#
ExecuteConfirmSelectionMM7 N
,MMN O&
CanExecuteConfirmSelectionMMP j
)MMj k
;MMk l
CloseCommandNN 
=NN 
newNN 
RelayCommandNN +
(NN+ ,
CloseWindowNN, 7
)NN7 8
;NN8 9#
SelectAvatarItemCommandOO #
=OO$ %
newOO& )
RelayCommandOO* 6
(OO6 7#
ExecuteSelectAvatarItemOO7 N
)OON O
;OOO P
ifQQ 
(QQ 
!QQ 
DesignerPropertiesQQ #
.QQ# $
GetIsInDesignModeQQ$ 5
(QQ5 6
newQQ6 9
DependencyObjectQQ: J
(QQJ K
)QQK L
)QQL M
)QQM N
{RR 
LoadAvatarsSS 
(SS 
)SS 
;SS 
}TT 
}UU 	
privateWW 
asyncWW 
voidWW 
LoadAvatarsWW &
(WW& '
)WW' (
{XX 	
awaitYY 
LoadAvatarsAsyncYY "
(YY" #
)YY# $
;YY$ %
}ZZ 	
private\\ 
async\\ 
Task\\ 
LoadAvatarsAsync\\ +
(\\+ ,
)\\, -
{]] 	
using^^ 
(^^ 
var^^ 
client^^ 
=^^ 
new^^  #$
UserProfileServiceClient^^$ <
(^^< =
)^^= >
)^^> ?
{__ 
try`` 
{aa 
varbb 
serverAvatarsbb %
=bb& '
awaitbb( -
clientbb. 4
.bb4 5$
GetAvailableAvatarsAsyncbb5 M
(bbM N
)bbN O
;bbO P
vardd 
tempAvatarsdd #
=dd$ %
newdd& )
Listdd* .
<dd. /
AvatarModeldd/ :
>dd: ;
(dd; <
)dd< =
;dd= >
ifee 
(ee 
serverAvatarsee %
!=ee& (
nullee) -
)ee- .
{ff 
foreachgg 
(gg  !
vargg! $
	avatarDtogg% .
ingg/ 1
serverAvatarsgg2 ?
)gg? @
{hh 
tempAvatarsii '
.ii' (
Addii( +
(ii+ ,
newii, /
AvatarModelii0 ;
{jj 
Idkk  "
=kk# $
	avatarDtokk% .
.kk. /
IdAvatarkk/ 7
,kk7 8
Namell  $
=ll% &
	avatarDtoll' 0
.ll0 1

AvatarNamell1 ;
,ll; <
	ImageDatamm  )
=mm* +
	avatarDtomm, 5
.mm5 6

AvatarDatamm6 @
,mm@ A
ImageSourcenn  +
=nn, -
ConvertByteToImagenn. @
(nn@ A
	avatarDtonnA J
.nnJ K

AvatarDatannK U
)nnU V
}oo 
)oo 
;oo 
}pp 
}qq 
AvailableAvatarsss $
=ss% &
newss' * 
ObservableCollectionss+ ?
<ss? @
AvatarModelss@ K
>ssK L
(ssL M
tempAvatarsssM X
)ssX Y
;ssY Z
SelectedAvataruu "
=uu# $
AvailableAvatarsuu% 5
.uu5 6
FirstOrDefaultuu6 D
(uuD E
auuE F
=>uuG I
auuJ K
.uuK L
IduuL N
==uuO Q
_currentAvatarIduuR b
)uub c
??vv% '
AvailableAvatarsvv( 8
.vv8 9
FirstOrDefaultvv9 G
(vvG H
)vvH I
;vvI J
}ww 
catchxx 
(xx 
FaultExceptionxx %

fexGeneralxx& 0
)xx0 1
{yy 

MessageBoxzz 
.zz 
Showzz #
(zz# $
Lang{{ 
.{{ &
alertAvatarLoadServerError{{ 7
,{{7 8
Lang|| 
.|| 
alertErrorTitle|| ,
,||, -
MessageBoxButton}} (
.}}( )
OK}}) +
,}}+ ,
MessageBoxImage~~ '
.~~' (
Error~~( -
)~~- .
;~~. /
Console 
. 
	WriteLine %
(% &
$"& (
$str( C
{C D

fexGeneralD N
.N O
MessageO V
}V W
"W X
)X Y
;Y Z
}
ÄÄ 
catch
ÅÅ 
(
ÅÅ '
EndpointNotFoundException
ÅÅ 0
ex
ÅÅ1 3
)
ÅÅ3 4
{
ÇÇ 

MessageBox
ÉÉ 
.
ÉÉ 
Show
ÉÉ #
(
ÉÉ# $
Lang
ÑÑ 
.
ÑÑ )
alertConnectionErrorMessage
ÑÑ 8
,
ÑÑ8 9
Lang
ÖÖ 
.
ÖÖ '
alertConnectionErrorTitle
ÖÖ 6
,
ÖÖ6 7
MessageBoxButton
ÜÜ (
.
ÜÜ( )
OK
ÜÜ) +
,
ÜÜ+ ,
MessageBoxImage
áá '
.
áá' (
Error
áá( -
)
áá- .
;
áá. /
Console
àà 
.
àà 
	WriteLine
àà %
(
àà% &
$"
àà& (
$str
àà( J
{
ààJ K
ex
ààK M
.
ààM N
Message
ààN U
}
ààU V
"
ààV W
)
ààW X
;
ààX Y
}
ââ 
catch
ää 
(
ää 
	Exception
ää  
ex
ää! #
)
ää# $
{
ãã 

MessageBox
åå 
.
åå 
Show
åå #
(
åå# $
Lang
çç 
.
çç )
alertAvatarLoadUnknownError
çç 8
,
çç8 9
Lang
éé 
.
éé 
alertErrorTitle
éé ,
,
éé, -
MessageBoxButton
èè (
.
èè( )
OK
èè) +
,
èè+ ,
MessageBoxImage
êê '
.
êê' (
Error
êê( -
)
êê- .
;
êê. /
Console
ëë 
.
ëë 
	WriteLine
ëë %
(
ëë% &
$"
ëë& (
$str
ëë( J
{
ëëJ K
ex
ëëK M
.
ëëM N
Message
ëëN U
}
ëëU V
"
ëëV W
)
ëëW X
;
ëëX Y
}
íí 
}
ìì 
}
îî 	
private
ññ 
void
ññ %
ExecuteSelectAvatarItem
ññ ,
(
ññ, -
object
ññ- 3
	parameter
ññ4 =
)
ññ= >
{
óó 	
if
òò 
(
òò 
	parameter
òò 
is
òò 
AvatarModel
òò (
avatar
òò) /
)
òò/ 0
{
ôô 
SelectedAvatar
öö 
=
öö  
avatar
öö! '
;
öö' (
}
õõ 
}
úú 	
private
ûû 
bool
ûû (
CanExecuteConfirmSelection
ûû /
(
ûû/ 0
object
ûû0 6
	parameter
ûû7 @
)
ûû@ A
{
üü 	
return
†† 
SelectedAvatar
†† !
!=
††" $
null
††% )
;
††) *
}
°° 	
private
££ 
void
££ %
ExecuteConfirmSelection
££ ,
(
££, -
object
££- 3
	parameter
££4 =
)
££= >
{
§§ 	
AvatarSelected
•• 
?
•• 
.
•• 
Invoke
•• "
(
••" #
SelectedAvatar
••# 1
)
••1 2
;
••2 3
CloseWindow
¶¶ 
(
¶¶ 
	parameter
¶¶ !
)
¶¶! "
;
¶¶" #
}
ßß 	
private
©© 
void
©© 
CloseWindow
©©  
(
©©  !
object
©©! '
	parameter
©©( 1
)
©©1 2
{
™™ 	
if
´´ 
(
´´ 
	parameter
´´ 
is
´´ 
Window
´´ #
window
´´$ *
)
´´* +
{
¨¨ 
window
≠≠ 
.
≠≠ 
Close
≠≠ 
(
≠≠ 
)
≠≠ 
;
≠≠ 
}
ÆÆ 
else
ØØ 
{
∞∞ 
var
±± 
activeWindow
±±  
=
±±! "
Application
±±# .
.
±±. /
Current
±±/ 6
.
±±6 7
Windows
±±7 >
.
±±> ?
OfType
±±? E
<
±±E F
Window
±±F L
>
±±L M
(
±±M N
)
±±N O
.
±±O P
FirstOrDefault
±±P ^
(
±±^ _
w
±±_ `
=>
±±a c
w
±±d e
.
±±e f
DataContext
±±f q
==
±±r t
this
±±u y
)
±±y z
;
±±z {
activeWindow
≤≤ 
?
≤≤ 
.
≤≤ 
Close
≤≤ #
(
≤≤# $
)
≤≤$ %
;
≤≤% &
}
≥≥ 
}
¥¥ 	
public
∂∂ 
static
∂∂ 
BitmapImage
∂∂ ! 
ConvertByteToImage
∂∂" 4
(
∂∂4 5
byte
∂∂5 9
[
∂∂9 :
]
∂∂: ;

imageBytes
∂∂< F
)
∂∂F G
{
∑∑ 	
if
∏∏ 
(
∏∏ 

imageBytes
∏∏ 
==
∏∏ 
null
∏∏ "
||
∏∏# %

imageBytes
∏∏& 0
.
∏∏0 1
Length
∏∏1 7
==
∏∏8 :
$num
∏∏; <
)
∏∏< =
{
ππ 
return
∫∫ 
null
∫∫ 
;
∫∫ 
}
ªª 
var
ΩΩ 
image
ΩΩ 
=
ΩΩ 
new
ΩΩ 
BitmapImage
ΩΩ '
(
ΩΩ' (
)
ΩΩ( )
;
ΩΩ) *
using
ææ 
(
ææ 
var
ææ 
mem
ææ 
=
ææ 
new
ææ  
MemoryStream
ææ! -
(
ææ- .

imageBytes
ææ. 8
)
ææ8 9
)
ææ9 :
{
øø 
mem
¿¿ 
.
¿¿ 
Position
¿¿ 
=
¿¿ 
$num
¿¿  
;
¿¿  !
image
¡¡ 
.
¡¡ 
	BeginInit
¡¡ 
(
¡¡  
)
¡¡  !
;
¡¡! "
image
¬¬ 
.
¬¬ 
CreateOptions
¬¬ #
=
¬¬$ %!
BitmapCreateOptions
¬¬& 9
.
¬¬9 :!
PreservePixelFormat
¬¬: M
;
¬¬M N
image
√√ 
.
√√ 
CacheOption
√√ !
=
√√" #
BitmapCacheOption
√√$ 5
.
√√5 6
OnLoad
√√6 <
;
√√< =
image
ƒƒ 
.
ƒƒ 
	UriSource
ƒƒ 
=
ƒƒ  !
null
ƒƒ" &
;
ƒƒ& '
image
≈≈ 
.
≈≈ 
StreamSource
≈≈ "
=
≈≈# $
mem
≈≈% (
;
≈≈( )
image
∆∆ 
.
∆∆ 
EndInit
∆∆ 
(
∆∆ 
)
∆∆ 
;
∆∆  
}
«« 
image
»» 
.
»» 
Freeze
»» 
(
»» 
)
»» 
;
»» 
return
…… 
image
…… 
;
…… 
}
   	
}
ÀÀ 
}ÃÃ È
úC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\Lobby\ConfigurationViewModel.cs
	namespace 	
GuessMyMessClient
 
. 
	ViewModel %
.% &
Lobby& +
{ 
public 

class "
ConfigurationViewModel '
:( )
ViewModelBase* 7
{ 
public 
ICommand 
LogOutCommand %
{& '
get( +
;+ ,
}- .
public "
ConfigurationViewModel %
(% &
)& '
{ 	
LogOutCommand 
= 
new 
RelayCommand  ,
(, -
ExecuteLogout- :
): ;
;; <
} 	
private 
void 
ExecuteLogout "
(" #
object# )
	parameter* 3
)3 4
{ 	
bool  
sessionClosedLocally %
=& '
false( -
;- .
try 
{ 
string 
currentUsername &
=' (
SessionManager) 7
.7 8
Instance8 @
.@ A
CurrentUsernameA P
;P Q
if!! 
(!! 
!!! 
string!! 
.!! 
IsNullOrEmpty!! )
(!!) *
currentUsername!!* 9
)!!9 :
)!!: ;
{"" 
using## 
(## 
var## 

authClient## )
=##* +
new##, /'
AuthenticationServiceClient##0 K
(##K L
)##L M
)##M N
{$$ 
try%% 
{&& 

authClient'' &
.''& '
LogOut''' -
(''- .
currentUsername''. =
)''= >
;''> ?
}(( 
catch)) 
()) "
CommunicationException)) 5
commEx))6 <
)))< =
{** 
Console++ #
.++# $
	WriteLine++$ -
(++- .
$"++. 0
$str++0 d
{++d e
commEx++e k
.++k l
Message++l s
}++s t
"++t u
)++u v
;++v w
},, 
}-- 
}.. 
SessionManager00 
.00 
Instance00 '
.00' (
CloseSession00( 4
(004 5
)005 6
;006 7 
sessionClosedLocally11 $
=11% &
true11' +
;11+ ,
}22 
catch33 
(33 
	Exception33 
ex33 
)33  
{44 
Console55 
.55 
	WriteLine55 !
(55! "
$"55" $
$str55$ R
{55R S
ex55S U
.55U V
Message55V ]
}55] ^
"55^ _
)55_ `
;55` a
if66 
(66 
!66  
sessionClosedLocally66 )
)66) *
{77 
SessionManager88 "
.88" #
Instance88# +
.88+ ,
CloseSession88, 8
(888 9
)889 :
;88: ;
}99 
}:: 
var<< 
mainView<< 
=<< 
new<< 
Main<< #
(<<# $
)<<$ %
;<<% &
mainView== 
.== 
Show== 
(== 
)== 
;== 
Window?? 
currentLobbyWindow?? %
=??& '
Application??( 3
.??3 4
Current??4 ;
.??; <
Windows??< C
.??C D
OfType??D J
<??J K
	LobbyView??K T
>??T U
(??U V
)??V W
.??W X
FirstOrDefault??X f
(??f g
)??g h
;??h i
ifAA 
(AA 
currentLobbyWindowAA "
!=AA# %
nullAA& *
)AA* +
{BB 
currentLobbyWindowCC "
.CC" #
CloseCC# (
(CC( )
)CC) *
;CC* +
}DD 
}EE 	
}FF 
}GG æ?
¢C:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\Lobby\Dialogs\ChangeEmailViewModel.cs
	namespace

 	
GuessMyMessClient


 
.

 
	ViewModel

 %
.

% &
Lobby

& +
.

+ ,
Dialogs

, 3
{ 
internal 
class  
ChangeEmailViewModel '
:( )
ViewModelBase* 7
{ 
private 
readonly 
string 
	_username  )
;) *
private 
readonly 
Action 
<  
string  &
>& ' 
_emailUpdateCallback( <
;< =
private 
string 
	_newEmail  
;  !
public 
string 
NewEmail 
{ 	
get 
{ 
return 
	_newEmail  
;  !
} 
set 
{ 
if 
( 
	_newEmail 
!=  
value! &
)& '
{ 
	_newEmail 
= 
value  %
;% &
OnPropertyChanged %
(% &
)& '
;' (
} 
} 
}   	
public"" 
ICommand"" 
ConfirmCommand"" &
{""' (
get"") ,
;"", -
}"". /
public## 
ICommand## 
CloseCommand## $
{##% &
get##' *
;##* +
}##, -
public%%  
ChangeEmailViewModel%% #
(%%# $
string%%$ *
username%%+ 3
,%%3 4
Action%%5 ;
<%%; <
string%%< B
>%%B C
emailUpdateCallback%%D W
)%%W X
{&& 	
	_username'' 
='' 
username''  
;''  ! 
_emailUpdateCallback((  
=((! "
emailUpdateCallback((# 6
;((6 7
ConfirmCommand)) 
=)) 
new))  
RelayCommand))! -
())- .
ExecuteConfirm)). <
,))< =
CanExecuteConfirm))> O
)))O P
;))P Q
CloseCommand** 
=** 
new** 
RelayCommand** +
(**+ ,
ExecuteClose**, 8
)**8 9
;**9 :
}++ 	
private-- 
bool-- 
CanExecuteConfirm-- &
(--& '
object--' -
obj--. 1
)--1 2
{.. 	
return// 
!// 
string// 
.// 
IsNullOrWhiteSpace// -
(//- .
NewEmail//. 6
)//6 7
&&//8 :
NewEmail//; C
.//C D
Contains//D L
(//L M
$str//M P
)//P Q
;//Q R
}00 	
private22 
async22 
void22 
ExecuteConfirm22 )
(22) *
object22* 0
	parameter221 :
)22: ;
{33 	
try44 
{55 
using66 
(66 
var66 
client66 !
=66" #
new66$ '$
UserProfileServiceClient66( @
(66@ A
)66A B
)66B C
{77 
var88 
result88 
=88  
await88! &
client88' -
.88- .#
RequestChangeEmailAsync88. E
(88E F
	_username88F O
,88O P
NewEmail88Q Y
)88Y Z
;88Z [
if99 
(99 
result99 
.99 
Success99 &
)99' (
{:: 

MessageBox;; "
.;;" #
Show;;# '
(;;' (
result<< "
.<<" #
Message<<# *
,<<* +
Lang==  
.==  !
alertCodeSentTitle==! 3
,==3 4
MessageBoxButton>> ,
.>>, -
OK>>- /
,>>/ 0
MessageBoxImage?? +
.??+ ,
Information??, 7
)??7 8
;??8 9
varAA 
verifyVMAA $
=AA% &
newAA' *(
VerifyChangesByCodeViewModelAA+ G
(AAG H(
VerifyChangesByCodeViewModelBB 8
.BB8 9
VerificationModeBB9 I
.BBI J
EmailBBJ O
,BBO P
	_usernameCC %
,CC% &
NewEmailDD $
,DD$ % 
_emailUpdateCallbackEE 0
)FF 
;FF 
varHH 

verifyViewHH &
=HH' (
newHH) ,#
VerifyChangesByCodeViewHH- D
{HHE F
DataContextHHG R
=HHS T
verifyVMHHU ]
}HH^ _
;HH_ `
ExecuteCloseJJ $
(JJ$ %
	parameterJJ% .
)JJ. /
;JJ/ 0

verifyViewKK "
.KK" #

ShowDialogKK# -
(KK- .
)KK. /
;KK/ 0
}LL 
elseMM 
{NN 

MessageBoxOO "
.OO" #
ShowOO# '
(OO' (
resultPP "
.PP" #
MessagePP# *
,PP* +
LangQQ  
.QQ  !
alertErrorTitleQQ! 0
,QQ0 1
MessageBoxButtonRR ,
.RR, -
OKRR- /
,RR/ 0
MessageBoxImageSS +
.SS+ ,
WarningSS, 3
)SS3 4
;SS4 5
}TT 
}UU 
}VV 
catchWW 
(WW 
FaultExceptionWW !

fexGeneralWW" ,
)WW, -
{XX 

MessageBoxYY 
.YY 
ShowYY 
(YY  
LangZZ 
.ZZ #
alertServerErrorMessageZZ 0
,ZZ0 1
Lang[[ 
.[[ 
alertErrorTitle[[ (
,[[( )
MessageBoxButton\\ $
.\\$ %
OK\\% '
,\\' (
MessageBoxImage]] #
.]]# $
Error]]$ )
)]]) *
;]]* +
Console^^ 
.^^ 
	WriteLine^^ !
(^^! "
$"^^" $
$str^^$ G
{^^G H

fexGeneral^^H R
.^^R S
Message^^S Z
}^^Z [
"^^[ \
)^^\ ]
;^^] ^
}__ 
catch`` 
(`` %
EndpointNotFoundException`` ,
ex``- /
)``/ 0
{aa 

MessageBoxbb 
.bb 
Showbb 
(bb  
Langcc 
.cc '
alertConnectionErrorMessagecc 4
,cc4 5
Langdd 
.dd %
alertConnectionErrorTitledd 2
,dd2 3
MessageBoxButtonee $
.ee$ %
OKee% '
,ee' (
MessageBoxImageff #
.ff# $
Errorff$ )
)ff) *
;ff* +
Consolegg 
.gg 
	WriteLinegg !
(gg! "
$"gg" $
$strgg$ N
{ggN O
exggO Q
.ggQ R
MessageggR Y
}ggY Z
"ggZ [
)gg[ \
;gg\ ]
}hh 
catchii 
(ii 
	Exceptionii 
exii 
)ii  
{jj 

MessageBoxkk 
.kk 
Showkk 
(kk  
Langll 
.ll $
alertUnknownErrorMessagell 1
,ll1 2
Langmm 
.mm 
alertErrorTitlemm (
,mm( )
MessageBoxButtonnn $
.nn$ %
OKnn% '
,nn' (
MessageBoxImageoo #
.oo# $
Erroroo$ )
)oo) *
;oo* +
Consolepp 
.pp 
	WriteLinepp !
(pp! "
$"pp" $
$strpp$ K
{ppK L
exppL N
.ppN O
MessageppO V
}ppV W
"ppW X
)ppX Y
;ppY Z
}qq 
}rr 	
privatett 
voidtt 
ExecuteClosett !
(tt! "
objecttt" (
	parametertt) 2
)tt2 3
{uu 	
ifvv 
(vv 
	parametervv 
isvv 
Windowvv #
windowvv$ *
)vv* +
{ww 
windowxx 
.xx 
Closexx 
(xx 
)xx 
;xx 
}yy 
}zz 	
}{{ 
}|| ◊?
£C:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\Lobby\Dialogs\VerifyByCodeViewModel.cs
	namespace 	
GuessMyMessClient
 
. 
	ViewModel %
.% &
Lobby& +
.+ ,
Dialogs, 3
{ 
public 

class !
VerifyByCodeViewModel &
:' (
ViewModelBase) 6
{ 
private 
readonly 
string 

_userEmail  *
;* +
private 
string 
_verificationCode (
;( )
public 
string 
VerificationCode &
{ 	
get 
{ 
return 
_verificationCode (
;( )
} 
set 
{ 
if 
( 
_verificationCode %
!=& (
value) .
). /
{ 
_verificationCode %
=& '
value( -
;- .
OnPropertyChanged   %
(  % &
)  & '
;  ' (
}!! 
}"" 
}## 	
public%% 
ICommand%% 
VerifyCommand%% %
{%%& '
get%%( +
;%%+ ,
}%%- .
public&& 
ICommand&& 
CloseCommand&& $
{&&% &
get&&' *
;&&* +
}&&, -
public(( !
VerifyByCodeViewModel(( $
((($ %
string((% +
	userEmail((, 5
)((5 6
{)) 	
if** 
(** 
string** 
.** 
IsNullOrWhiteSpace** )
(**) *
	userEmail*** 3
)**3 4
)**4 5
{++ 
throw,, 
new,, !
ArgumentNullException,, /
(,,/ 0
nameof,,0 6
(,,6 7
	userEmail,,7 @
),,@ A
,,,A B
$str,,C q
),,q r
;,,r s
}-- 

_userEmail.. 
=.. 
	userEmail.. "
;.." #
VerifyCommand00 
=00 
new00 
RelayCommand00  ,
(00, -
ExecuteVerify00- :
,00: ;
CanExecuteVerify00< L
)00L M
;00M N
CloseCommand11 
=11 
new11 
RelayCommand11 +
(11+ ,
CloseWindow11, 7
)117 8
;118 9
}22 	
private44 
bool44 
CanExecuteVerify44 %
(44% &
object44& ,
	parameter44- 6
)446 7
{55 	
return66 
!66 
string66 
.66 
IsNullOrWhiteSpace66 -
(66- .
VerificationCode66. >
)66> ?
;66? @
}77 	
private99 
async99 
void99 
ExecuteVerify99 (
(99( )
object99) /
	parameter990 9
)999 :
{:: 	
using;; 
(;; '
AuthenticationServiceClient;; .
client;;/ 5
=;;6 7
new;;8 ;'
AuthenticationServiceClient;;< W
(;;W X
);;X Y
);;Y Z
{<< 
try== 
{>> 
OperationResultDto?? &
result??' -
=??. /
await??0 5
client??6 <
.??< =
VerifyAccountAsync??= O
(??O P

_userEmail??P Z
,??Z [
VerificationCode??\ l
)??l m
;??m n
ifAA 
(AA 
resultAA 
.AA 
SuccessAA &
)AA& '
{BB 

MessageBoxCC "
.CC" #
ShowCC# '
(CC' (
LangDD  
.DD  !$
alertVerificationSuccessDD! 9
,DD9 :
LangEE  
.EE  !(
alertActivationCompleteTitleEE! =
,EE= >
MessageBoxButtonFF ,
.FF, -
OKFF- /
,FF/ 0
MessageBoxImageGG +
.GG+ ,
InformationGG, 7
)GG7 8
;GG8 9
OpenLoginWindowHH '
(HH' (
	parameterHH( 1
)HH1 2
;HH2 3
}II 
elseJJ 
{KK 

MessageBoxLL "
.LL" #
ShowLL# '
(LL' (
resultMM "
.MM" #
MessageMM# *
,MM* +
LangNN  
.NN  !'
alertVerificationErrorTitleNN! <
,NN< =
MessageBoxButtonOO ,
.OO, -
OKOO- /
,OO/ 0
MessageBoxImagePP +
.PP+ ,
WarningPP, 3
)PP3 4
;PP4 5
}QQ 
}RR 
catchSS 
(SS 
FaultExceptionSS %

fexGeneralSS& 0
)SS0 1
{TT 

MessageBoxUU 
.UU 
ShowUU #
(UU# $
LangVV 
.VV #
alertServerErrorMessageVV 4
,VV4 5
LangWW 
.WW 
alertErrorTitleWW ,
,WW, -
MessageBoxButtonXX (
.XX( )
OKXX) +
,XX+ ,
MessageBoxImageYY '
.YY' (
ErrorYY( -
)YY- .
;YY. /
ConsoleZZ 
.ZZ 
	WriteLineZZ %
(ZZ% &
$"ZZ& (
$strZZ( G
{ZZG H

fexGeneralZZH R
.ZZR S
MessageZZS Z
}ZZZ [
"ZZ[ \
)ZZ\ ]
;ZZ] ^
}[[ 
catch\\ 
(\\ %
EndpointNotFoundException\\ 0
ex\\1 3
)\\3 4
{]] 

MessageBox^^ 
.^^ 
Show^^ #
(^^# $
Lang__ 
.__ '
alertConnectionErrorMessage__ 8
,__8 9
Lang`` 
.`` %
alertConnectionErrorTitle`` 6
,``6 7
MessageBoxButtonaa (
.aa( )
OKaa) +
,aa+ ,
MessageBoxImagebb '
.bb' (
Errorbb( -
)bb- .
;bb. /
Consolecc 
.cc 
	WriteLinecc %
(cc% &
$"cc& (
$strcc( N
{ccN O
exccO Q
.ccQ R
MessageccR Y
}ccY Z
"ccZ [
)cc[ \
;cc\ ]
}dd 
catchee 
(ee 
	Exceptionee  
exee! #
)ee# $
{ff 

MessageBoxgg 
.gg 
Showgg #
(gg# $
Langhh 
.hh $
alertUnknownErrorMessagehh 5
,hh5 6
Langii 
.ii 
alertErrorTitleii ,
,ii, -
MessageBoxButtonjj (
.jj( )
OKjj) +
,jj+ ,
MessageBoxImagekk '
.kk' (
Errorkk( -
)kk- .
;kk. /
Consolell 
.ll 
	WriteLinell %
(ll% &
$"ll& (
$strll( K
{llK L
exllL N
.llN O
MessagellO V
}llV W
"llW X
)llX Y
;llY Z
}mm 
}nn 
}oo 	
privateqq 
voidqq 
OpenLoginWindowqq $
(qq$ %
objectqq% +
	parameterqq, 5
)qq5 6
{rr 	
varss 
	loginViewss 
=ss 
newss 
	LoginViewss  )
(ss) *
)ss* +
;ss+ ,
	loginViewtt 
.tt 
Showtt 
(tt 
)tt 
;tt 
ifvv 
(vv 
	parametervv 
isvv 
Windowvv #
verifyWindowvv$ 0
)vv0 1
{ww 
verifyWindowxx 
.xx 
Closexx "
(xx" #
)xx# $
;xx$ %
}yy 
}zz 	
private|| 
void|| 
CloseWindow||  
(||  !
object||! '
	parameter||( 1
)||1 2
{}} 	
if~~ 
(~~ 
	parameter~~ 
is~~ 
Window~~ #
window~~$ *
)~~* +
{ 
window
ÄÄ 
.
ÄÄ 
Close
ÄÄ 
(
ÄÄ 
)
ÄÄ 
;
ÄÄ 
}
ÅÅ 
}
ÇÇ 	
}
ÉÉ 
}ÑÑ √
áC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\Model\AvatarModel.cs
	namespace		 	
GuessMyMessClient		
 
.		 
Model		 !
{

 
public 

class 
AvatarModel 
: 
ViewModelBase ,
{ 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public 
byte 
[ 
] 
	ImageData 
{  !
get" %
;% &
set' *
;* +
}, -
public 
BitmapImage 
ImageSource &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
private 
bool 
_isSelected  
;  !
public 
bool 

IsSelected 
{ 	
get 
=> 
_isSelected 
; 
set 
{ 
_isSelected 
= 
value  %
;% &
OnPropertyChanged' 8
(8 9
)9 :
;: ;
}< =
} 	
} 
} b
•C:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\Lobby\Dialogs\ChangePasswordViewModel.cs
	namespace 	
GuessMyMessClient
 
. 
	ViewModel %
.% &
Lobby& +
.+ ,
Dialogs, 3
{ 
internal 
class #
ChangePasswordViewModel *
:+ ,
ViewModelBase- :
{ 
private 
readonly 
string 
	_username  )
;) *
public 
ICommand 
ConfirmCommand &
{' (
get) ,
;, -
}. /
public 
ICommand 
CloseCommand $
{% &
get' *
;* +
}, -
public #
ChangePasswordViewModel &
(& '
string' -
username. 6
)6 7
{ 	
	_username 
= 
username  
;  !
ConfirmCommand 
= 
new  
RelayCommand! -
(- .
ExecuteConfirm. <
)< =
;= >
CloseCommand 
= 
new 
RelayCommand +
(+ ,
ExecuteClose, 8
)8 9
;9 :
} 	
private 
bool 
IsPasswordSecure %
(% &
string& ,
password- 5
,5 6
out7 :
string; A
errorLangKeyB N
)N O
{ 	
if 
( 
string 
. 
IsNullOrWhiteSpace )
() *
password* 2
)2 3
)3 4
{   
errorLangKey!! 
=!! 
$str!! 3
;!!3 4
return"" 
false"" 
;"" 
}## 
if$$ 
($$ 
password$$ 
.$$ 
Length$$ 
<$$  !
$num$$" #
)$$# $
{%% 
errorLangKey&& 
=&& 
$str&& 6
;&&6 7
return'' 
false'' 
;'' 
}(( 
if)) 
()) 
!)) 
password)) 
.)) 
Any)) 
()) 
char)) "
.))" #
IsUpper))# *
)))* +
)))+ ,
{** 
errorLangKey++ 
=++ 
$str++ 8
;++8 9
return,, 
false,, 
;,, 
}-- 
if.. 
(.. 
!.. 
password.. 
... 
Any.. 
(.. 
char.. "
..." #
IsLower..# *
)..* +
)..+ ,
{// 
errorLangKey00 
=00 
$str00 8
;008 9
return11 
false11 
;11 
}22 
if33 
(33 
!33 
password33 
.33 
Any33 
(33 
char33 "
.33" #
IsDigit33# *
)33* +
)33+ ,
{44 
errorLangKey55 
=55 
$str55 8
;558 9
return66 
false66 
;66 
}77 
if88 
(88 
password88 
.88 
All88 
(88 
char88 !
.88! "
IsLetterOrDigit88" 1
)881 2
)882 3
{99 
errorLangKey:: 
=:: 
$str:: :
;::: ;
return;; 
false;; 
;;; 
}<< 
errorLangKey>> 
=>> 
null>> 
;>>  
return?? 
true?? 
;?? 
}@@ 	
privateBB 
asyncBB 
voidBB 
ExecuteConfirmBB )
(BB) *
objectBB* 0
	parameterBB1 :
)BB: ;
{CC 	
ifDD 
(DD 
!DD 
(DD 
	parameterDD 
isDD 
WindowDD %
windowDD& ,
)DD, -
)DD- .
{EE 
returnFF 
;FF 
}GG 
varII 
newPasswordBoxII 
=II  
windowII! '
.II' (
FindNameII( 0
(II0 1
$strII1 A
)IIA B
asIIC E
PasswordBoxIIF Q
;IIQ R
varJJ 
confirmPasswordBoxJJ "
=JJ# $
windowJJ% +
.JJ+ ,
FindNameJJ, 4
(JJ4 5
$strJJ5 I
)JJI J
asJJK M
PasswordBoxJJN Y
;JJY Z
ifLL 
(LL 
newPasswordBoxLL 
==LL !
nullLL" &
||LL' )
confirmPasswordBoxLL* <
==LL= ?
nullLL@ D
)LLD E
{MM 

MessageBoxNN 
.NN 
ShowNN 
(NN  
LangOO 
.OO )
alertPasswordControlsNotFoundOO 6
,OO6 7
LangPP 
.PP 
alertErrorTitlePP (
,PP( )
MessageBoxButtonQQ $
.QQ$ %
OKQQ% '
,QQ' (
MessageBoxImageRR #
.RR# $
ErrorRR$ )
)RR) *
;RR* +
returnSS 
;SS 
}TT 
stringVV 
newPasswordVV 
=VV  
newPasswordBoxVV! /
.VV/ 0
PasswordVV0 8
;VV8 9
stringWW 
confirmPasswordWW "
=WW# $
confirmPasswordBoxWW% 7
.WW7 8
PasswordWW8 @
;WW@ A
ifYY 
(YY 
!YY 
IsPasswordSecureYY !
(YY! "
newPasswordYY" -
,YY- .
outYY/ 2
stringYY3 9
passwordErrorKeyYY: J
)YYJ K
)YYK L
{ZZ 
string[[  
passwordErrorMessage[[ +
=[[, -
Lang[[. 2
.[[2 3
ResourceManager[[3 B
.[[B C
	GetString[[C L
([[L M
passwordErrorKey[[M ]
)[[] ^
??[[_ a
Lang[[b f
.[[f g&
alertPasswordGenericError	[[g Ä
;
[[Ä Å

MessageBox\\ 
.\\ 
Show\\ 
(\\   
passwordErrorMessage]] (
,]]( )
Lang^^ 
.^^ '
alertPasswordNotSecureTitle^^ 4
,^^4 5
MessageBoxButton__ $
.__$ %
OK__% '
,__' (
MessageBoxImage`` #
.``# $
Warning``$ +
)``+ ,
;``, -
returnaa 
;aa 
}bb 
ifdd 
(dd 
newPassworddd 
!=dd 
confirmPassworddd .
)dd. /
{ee 

MessageBoxff 
.ff 
Showff 
(ff  
Langgg 
.gg $
alertPasswordsDoNotMatchgg 1
,gg1 2
Langhh 
.hh  
alertInputErrorTitlehh -
,hh- .
MessageBoxButtonii $
.ii$ %
OKii% '
,ii' (
MessageBoxImagejj #
.jj# $
Warningjj$ +
)jj+ ,
;jj, -
returnkk 
;kk 
}ll 
trynn 
{oo 
usingpp 
(pp 
varpp 
clientpp !
=pp" #
newpp$ '$
UserProfileServiceClientpp( @
(pp@ A
)ppA B
)ppB C
{qq 
varrr 
resultrr 
=rr  
awaitrr! &
clientrr' -
.rr- .&
RequestChangePasswordAsyncrr. H
(rrH I
	_usernamerrI R
)rrR S
;rrS T
ifss 
(ss 
resultss 
.ss 
Successss &
)ss& '
{tt 

MessageBoxuu "
.uu" #
Showuu# '
(uu' (
resultvv "
.vv" #
Messagevv# *
,vv* +
Langww  
.ww  !
alertCodeSentTitleww! 3
,ww3 4
MessageBoxButtonxx ,
.xx, -
OKxx- /
,xx/ 0
MessageBoxImageyy +
.yy+ ,
Informationyy, 7
)yy7 8
;yy8 9
var{{ 
verifyVM{{ $
={{% &
new{{' *(
VerifyChangesByCodeViewModel{{+ G
({{G H(
VerifyChangesByCodeViewModel|| 8
.||8 9
VerificationMode||9 I
.||I J
Password||J R
,||R S
	_username}} %
,}}% &
newPassword~~ '
,~~' (
null  
)  !
;! "
var
ÄÄ 

verifyView
ÄÄ &
=
ÄÄ' (
new
ÄÄ) ,%
VerifyChangesByCodeView
ÄÄ- D
{
ÄÄE F
DataContext
ÄÄG R
=
ÄÄS T
verifyVM
ÄÄU ]
}
ÄÄ^ _
;
ÄÄ_ `
ExecuteClose
ÇÇ $
(
ÇÇ$ %
	parameter
ÇÇ% .
)
ÇÇ. /
;
ÇÇ/ 0

verifyView
ÉÉ "
.
ÉÉ" #

ShowDialog
ÉÉ# -
(
ÉÉ- .
)
ÉÉ. /
;
ÉÉ/ 0
}
ÑÑ 
else
ÖÖ 
{
ÜÜ 

MessageBox
áá "
.
áá" #
Show
áá# '
(
áá' (
result
àà "
.
àà" #
Message
àà# *
,
àà* +
Lang
ââ  
.
ââ  !
alertErrorTitle
ââ! 0
,
ââ0 1
MessageBoxButton
ää ,
.
ää, -
OK
ää- /
,
ää/ 0
MessageBoxImage
ãã +
.
ãã+ ,
Warning
ãã, 3
)
ãã3 4
;
ãã4 5
}
åå 
}
çç 
}
éé 
catch
èè 
(
èè 
FaultException
èè !

fexGeneral
èè" ,
)
èè, -
{
êê 

MessageBox
ëë 
.
ëë 
Show
ëë 
(
ëë  
Lang
íí 
.
íí %
alertServerErrorMessage
íí 0
,
íí0 1
Lang
ìì 
.
ìì 
alertErrorTitle
ìì (
,
ìì( )
MessageBoxButton
îî $
.
îî$ %
OK
îî% '
,
îî' (
MessageBoxImage
ïï #
.
ïï# $
Error
ïï$ )
)
ïï) *
;
ïï* +
Console
ññ 
.
ññ 
	WriteLine
ññ !
(
ññ! "
$"
ññ" $
$str
ññ$ O
{
ññO P

fexGeneral
ññP Z
.
ññZ [
Message
ññ[ b
}
ññb c
"
ññc d
)
ññd e
;
ññe f
}
óó 
catch
òò 
(
òò '
EndpointNotFoundException
òò ,
ex
òò- /
)
òò/ 0
{
ôô 

MessageBox
öö 
.
öö 
Show
öö 
(
öö  
Lang
õõ 
.
õõ )
alertConnectionErrorMessage
õõ 4
,
õõ4 5
Lang
úú 
.
úú '
alertConnectionErrorTitle
úú 2
,
úú2 3
MessageBoxButton
ùù $
.
ùù$ %
OK
ùù% '
,
ùù' (
MessageBoxImage
ûû #
.
ûû# $
Error
ûû$ )
)
ûû) *
;
ûû* +
Console
üü 
.
üü 
	WriteLine
üü !
(
üü! "
$"
üü" $
$str
üü$ V
{
üüV W
ex
üüW Y
.
üüY Z
Message
üüZ a
}
üüa b
"
üüb c
)
üüc d
;
üüd e
}
†† 
catch
°° 
(
°° 
	Exception
°° 
ex
°° 
)
°°  
{
¢¢ 

MessageBox
££ 
.
££ 
Show
££ 
(
££  
Lang
§§ 
.
§§ &
alertUnknownErrorMessage
§§ 1
,
§§1 2
Lang
•• 
.
•• 
alertErrorTitle
•• (
,
••( )
MessageBoxButton
¶¶ $
.
¶¶$ %
OK
¶¶% '
,
¶¶' (
MessageBoxImage
ßß #
.
ßß# $
Error
ßß$ )
)
ßß) *
;
ßß* +
Console
®® 
.
®® 
	WriteLine
®® !
(
®®! "
$"
®®" $
$str
®®$ S
{
®®S T
ex
®®T V
.
®®V W
Message
®®W ^
}
®®^ _
"
®®_ `
)
®®` a
;
®®a b
}
©© 
}
™™ 	
private
¨¨ 
void
¨¨ 
ExecuteClose
¨¨ !
(
¨¨! "
object
¨¨" (
	parameter
¨¨) 2
)
¨¨2 3
{
≠≠ 	
if
ÆÆ 
(
ÆÆ 
	parameter
ÆÆ 
is
ÆÆ 
Window
ÆÆ #
window
ÆÆ$ *
)
ÆÆ* +
{
ØØ 
window
∞∞ 
.
∞∞ 
Close
∞∞ 
(
∞∞ 
)
∞∞ 
;
∞∞ 
}
±± 
}
≤≤ 	
}
≥≥ 
}¥¥ Ád
™C:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\Lobby\Dialogs\VerifyChangesByCodeViewModel.cs
	namespace 	
GuessMyMessClient
 
. 
	ViewModel %
.% &
Lobby& +
.+ ,
Dialogs, 3
{ 
internal 
class (
VerifyChangesByCodeViewModel /
:0 1
ViewModelBase2 ?
{ 
public 
enum 
VerificationMode $
{% &
Email' ,
,, -
Password. 6
}7 8
private 
readonly 
VerificationMode )
_mode* /
;/ 0
private 
readonly 
string 
	_username  )
;) *
private 
readonly 
string 
_payload  (
;( )
private 
readonly 
Action 
<  
string  &
>& ' 
_emailUpdateCallback( <
;< =
private 
string 
_verificationCode (
;( )
public 
string 
VerificationCode &
{ 	
get 
{ 
return 
_verificationCode (
;( )
} 
set 
{ 
if   
(   
_verificationCode   %
!=  & (
value  ) .
)  . /
{!! 
_verificationCode"" %
=""& '
value""( -
;""- .
OnPropertyChanged## %
(##% &
)##& '
;##' (
}$$ 
}%% 
}&& 	
public(( 
ICommand(( 
VerifyCommand(( %
{((& '
get((( +
;((+ ,
}((- .
public)) 
ICommand)) 
CloseCommand)) $
{))% &
get))' *
;))* +
})), -
private++ 
bool++ 
IsValidEmail++ !
(++! "
string++" (
email++) .
)++. /
{,, 	
if-- 
(-- 
string-- 
.-- 
IsNullOrWhiteSpace-- )
(--) *
email--* /
)--/ 0
)--0 1
{.. 
return// 
false// 
;// 
}00 
try11 
{22 
var33 
regex33 
=33 
new33 
Regex33  %
(33% &
$str33& H
,33H I
RegexOptions33J V
.33V W

IgnoreCase33W a
,33a b
TimeSpan33c k
.33k l
FromMilliseconds33l |
(33| }
$num	33} Ä
)
33Ä Å
)
33Å Ç
;
33Ç É
return44 
regex44 
.44 
IsMatch44 $
(44$ %
email44% *
)44* +
;44+ ,
}55 
catch66 
(66 &
RegexMatchTimeoutException66 -
)66- .
{77 
return88 
false88 
;88 
}99 
}:: 	
public<< (
VerifyChangesByCodeViewModel<< +
(<<+ ,
VerificationMode<<, <
mode<<= A
,<<A B
string<<C I
username<<J R
,<<R S
string<<T Z
payload<<[ b
,<<b c
Action<<d j
<<<j k
string<<k q
><<q r 
emailUpdateCallback	<<s Ü
)
<<Ü á
{== 	
if>> 
(>> 
string>> 
.>> 
IsNullOrWhiteSpace>> )
(>>) *
username>>* 2
)>>2 3
)>>3 4
{?? 
throw@@ 
new@@ !
ArgumentNullException@@ /
(@@/ 0
nameof@@0 6
(@@6 7
username@@7 ?
)@@? @
)@@@ A
;@@A B
}AA 
ifBB 
(BB 
stringBB 
.BB 
IsNullOrWhiteSpaceBB )
(BB) *
payloadBB* 1
)BB1 2
)BB2 3
{CC 
throwDD 
newDD !
ArgumentNullExceptionDD /
(DD/ 0
nameofDD0 6
(DD6 7
payloadDD7 >
)DD> ?
)DD? @
;DD@ A
}EE 
ifFF 
(FF 
modeFF 
==FF 
VerificationModeFF (
.FF( )
EmailFF) .
&&FF/ 1
emailUpdateCallbackFF2 E
==FFF H
nullFFI M
)FFM N
{GG 
ConsoleHH 
.HH 
	WriteLineHH !
(HH! "
$strHH" x
)HHx y
;HHy z
}II 
ifJJ 
(JJ 
modeJJ 
==JJ 
VerificationModeJJ (
.JJ( )
EmailJJ) .
&&JJ/ 1
!JJ2 3
IsValidEmailJJ3 ?
(JJ? @
payloadJJ@ G
)JJG H
)JJH I
{KK 
throwLL 
newLL 
ArgumentExceptionLL +
(LL+ ,
$strLL, o
,LLo p
nameofLLq w
(LLw x
payloadLLx 
)	LL Ä
)
LLÄ Å
;
LLÅ Ç
}MM 
_modeOO 
=OO 
modeOO 
;OO 
	_usernamePP 
=PP 
usernamePP  
;PP  !
_payloadQQ 
=QQ 
payloadQQ 
;QQ  
_emailUpdateCallbackRR  
=RR! "
emailUpdateCallbackRR# 6
;RR6 7
VerifyCommandTT 
=TT 
newTT 
RelayCommandTT  ,
(TT, -
ExecuteVerifyTT- :
,TT: ;
CanExecuteVerifyTT< L
)TTL M
;TTM N
CloseCommandUU 
=UU 
newUU 
RelayCommandUU +
(UU+ ,
ExecuteCloseUU, 8
)UU8 9
;UU9 :
}VV 	
privateXX 
boolXX 
CanExecuteVerifyXX %
(XX% &
objectXX& ,
objXX- 0
)XX0 1
{YY 	
returnZZ 
!ZZ 
stringZZ 
.ZZ 
IsNullOrWhiteSpaceZZ -
(ZZ- .
VerificationCodeZZ. >
)ZZ> ?
&&ZZ@ B
VerificationCode[[ #
.[[# $
Length[[$ *
==[[+ -
$num[[. /
&&[[0 2
VerificationCode\\ #
.\\# $
All\\$ '
(\\' (
char\\( ,
.\\, -
IsDigit\\- 4
)\\4 5
;\\5 6
}]] 	
private__ 
async__ 
void__ 
ExecuteVerify__ (
(__( )
object__) /
	parameter__0 9
)__9 :
{`` 	
ifaa 
(aa 
!aa 
CanExecuteVerifyaa !
(aa! "
nullaa" &
)aa& '
)aa' (
{bb 

MessageBoxcc 
.cc 
Showcc 
(cc  
Langdd 
.dd "
alertInvalidCodeFormatdd /
,dd/ 0
Langee 
.ee !
alertInvalidCodeTitleee .
,ee. /
MessageBoxButtonff $
.ff$ %
OKff% '
,ff' (
MessageBoxImagegg #
.gg# $
Warninggg$ +
)gg+ ,
;gg, -
returnhh 
;hh 
}ii 
trykk 
{ll 
usingmm 
(mm 
varmm 
clientmm !
=mm" #
newmm$ '$
UserProfileServiceClientmm( @
(mm@ A
)mmA B
)mmB C
{nn 
OperationResultDtooo &
resultoo' -
;oo- .
ifqq 
(qq 
_modeqq 
==qq  
VerificationModeqq! 1
.qq1 2
Emailqq2 7
)qq7 8
{rr 
resultss 
=ss  
awaitss! &
clientss' -
.ss- .#
ConfirmChangeEmailAsyncss. E
(ssE F
	_usernamessF O
,ssO P
VerificationCodessQ a
)ssa b
;ssb c
iftt 
(tt 
resulttt "
.tt" #
Successtt# *
)tt* +
{uu  
_emailUpdateCallbackvv 0
?vv0 1
.vv1 2
Invokevv2 8
(vv8 9
_payloadvv9 A
)vvA B
;vvB C
}ww 
}xx 
elseyy 
{zz 
result{{ 
={{  
await{{! &
client{{' -
.{{- .&
ConfirmChangePasswordAsync{{. H
({{H I
	_username{{I R
,{{R S
_payload{{T \
,{{\ ]
VerificationCode{{^ n
){{n o
;{{o p
}|| 
if~~ 
(~~ 
result~~ 
.~~ 
Success~~ &
)~~& '
{ 

MessageBox
ÄÄ "
.
ÄÄ" #
Show
ÄÄ# '
(
ÄÄ' (
result
ÅÅ "
.
ÅÅ" #
Message
ÅÅ# *
,
ÅÅ* +
Lang
ÇÇ  
.
ÇÇ  !
alertSuccessTitle
ÇÇ! 2
,
ÇÇ2 3
MessageBoxButton
ÉÉ ,
.
ÉÉ, -
OK
ÉÉ- /
,
ÉÉ/ 0
MessageBoxImage
ÑÑ +
.
ÑÑ+ ,
Information
ÑÑ, 7
)
ÑÑ7 8
;
ÑÑ8 9
ExecuteClose
ÖÖ $
(
ÖÖ$ %
	parameter
ÖÖ% .
)
ÖÖ. /
;
ÖÖ/ 0
}
ÜÜ 
else
áá 
{
àà 

MessageBox
ââ "
.
ââ" #
Show
ââ# '
(
ââ' (
result
ää "
.
ää" #
Message
ää# *
,
ää* +
Lang
ãã  
.
ãã  !)
alertVerificationErrorTitle
ãã! <
,
ãã< =
MessageBoxButton
åå ,
.
åå, -
OK
åå- /
,
åå/ 0
MessageBoxImage
çç +
.
çç+ ,
Warning
çç, 3
)
çç3 4
;
çç4 5
}
éé 
}
èè 
}
êê 
catch
ëë 
(
ëë 
FaultException
ëë !

fexGeneral
ëë" ,
)
ëë, -
{
íí 

MessageBox
ìì 
.
ìì 
Show
ìì 
(
ìì  
Lang
îî 
.
îî %
alertServerErrorMessage
îî 0
,
îî0 1
Lang
ïï 
.
ïï 
alertErrorTitle
ïï (
,
ïï( )
MessageBoxButton
ññ $
.
ññ$ %
OK
ññ% '
,
ññ' (
MessageBoxImage
óó #
.
óó# $
Error
óó$ )
)
óó) *
;
óó* +
Console
òò 
.
òò 
	WriteLine
òò !
(
òò! "
$"
òò" $
$str
òò$ J
{
òòJ K

fexGeneral
òòK U
.
òòU V
Message
òòV ]
}
òò] ^
"
òò^ _
)
òò_ `
;
òò` a
}
ôô 
catch
öö 
(
öö '
EndpointNotFoundException
öö ,
ex
öö- /
)
öö/ 0
{
õõ 

MessageBox
úú 
.
úú 
Show
úú 
(
úú  
Lang
ùù 
.
ùù )
alertConnectionErrorMessage
ùù 4
,
ùù4 5
Lang
ûû 
.
ûû '
alertConnectionErrorTitle
ûû 2
,
ûû2 3
MessageBoxButton
üü $
.
üü$ %
OK
üü% '
,
üü' (
MessageBoxImage
†† #
.
††# $
Error
††$ )
)
††) *
;
††* +
Console
°° 
.
°° 
	WriteLine
°° !
(
°°! "
$"
°°" $
$str
°°$ Q
{
°°Q R
ex
°°R T
.
°°T U
Message
°°U \
}
°°\ ]
"
°°] ^
)
°°^ _
;
°°_ `
}
¢¢ 
catch
££ 
(
££ 
	Exception
££ 
ex
££ 
)
££  
{
§§ 

MessageBox
•• 
.
•• 
Show
•• 
(
••  
Lang
¶¶ 
.
¶¶ &
alertUnknownErrorMessage
¶¶ 1
,
¶¶1 2
Lang
ßß 
.
ßß 
alertErrorTitle
ßß (
,
ßß( )
MessageBoxButton
®® $
.
®®$ %
OK
®®% '
,
®®' (
MessageBoxImage
©© #
.
©©# $
Error
©©$ )
)
©©) *
;
©©* +
Console
™™ 
.
™™ 
	WriteLine
™™ !
(
™™! "
$"
™™" $
$str
™™$ N
{
™™N O
ex
™™O Q
.
™™Q R
Message
™™R Y
}
™™Y Z
"
™™Z [
)
™™[ \
;
™™\ ]
}
´´ 
}
¨¨ 	
private
ÆÆ 
void
ÆÆ 
ExecuteClose
ÆÆ !
(
ÆÆ! "
object
ÆÆ" (
	parameter
ÆÆ) 2
)
ÆÆ2 3
{
ØØ 	
if
∞∞ 
(
∞∞ 
	parameter
∞∞ 
is
∞∞ 
Window
∞∞ #
window
∞∞$ *
)
∞∞* +
{
±± 
window
≤≤ 
.
≤≤ 
Close
≤≤ 
(
≤≤ 
)
≤≤ 
;
≤≤ 
}
≥≥ 
}
¥¥ 	
}
µµ 
}∂∂ Òó
ôC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\HomePages\SignUpViewModel.cs
	namespace 	
GuessMyMessClient
 
. 
	ViewModel %
.% &
	HomePages& /
{ 
public 

class 
SignUpViewModel  
:! "
ViewModelBase# 0
{ 
private 
string 
	_username  
;  !
public 
string 
Username 
{ 	
get 
=> 
	_username 
; 
set 
{ 
if 
( 
	_username 
!=  
value! &
)& '
{ 
	_username   
=   
value    %
;  % &
OnPropertyChanged!! %
(!!% &
)!!& '
;!!' (
}"" 
}## 
}$$ 	
private&& 
string&& 

_firstName&& !
;&&! "
public'' 
string'' 
	FirstName'' 
{(( 	
get)) 
=>)) 

_firstName)) 
;)) 
set** 
{++ 
if,, 
(,, 

_firstName,, 
!=,, !
value,," '
),,' (
{-- 

_firstName.. 
=..  
value..! &
;..& '
OnPropertyChanged// %
(//% &
)//& '
;//' (
}00 
}11 
}22 	
private44 
string44 
	_lastName44  
;44  !
public55 
string55 
LastName55 
{66 	
get77 
=>77 
	_lastName77 
;77 
set88 
{99 
if:: 
(:: 
	_lastName:: 
!=::  
value::! &
)::& '
{;; 
	_lastName<< 
=<< 
value<<  %
;<<% &
OnPropertyChanged== %
(==% &
)==& '
;==' (
}>> 
}?? 
}@@ 	
privateBB 
stringBB 
_emailBB 
;BB 
publicCC 
stringCC 
EmailCC 
{DD 	
getEE 
=>EE 
_emailEE 
;EE 
setFF 
{GG 
ifHH 
(HH 
_emailHH 
!=HH 
valueHH #
)HH# $
{II 
_emailJJ 
=JJ 
valueJJ "
;JJ" #
OnPropertyChangedKK %
(KK% &
)KK& '
;KK' (
}LL 
}MM 
}NN 	
privatePP 
stringPP 
	_passwordPP  
;PP  !
publicQQ 
stringQQ 
PasswordQQ 
{RR 	
getSS 
=>SS 
	_passwordSS 
;SS 
setTT 
{UU 
ifVV 
(VV 
	_passwordVV 
!=VV  
valueVV! &
)VV& '
{WW 
	_passwordXX 
=XX 
valueXX  %
;XX% &
OnPropertyChangedYY %
(YY% &
)YY& '
;YY' (
}ZZ 
}[[ 
}\\ 	
private^^ 
bool^^ 
_isMale^^ 
=^^ 
true^^ #
;^^# $
public__ 
bool__ 
IsMale__ 
{`` 	
getaa 
=>aa 
_isMaleaa 
;aa 
setbb 
{cc 
ifdd 
(dd 
valuedd 
&&dd 
_isMaledd $
!=dd% '
valuedd( -
)dd- .
{ee 
_isMaleff 
=ff 
valueff #
;ff# $
OnPropertyChangedgg %
(gg% &
)gg& '
;gg' (
ResetGenderhh 
(hh  
$numhh  !
)hh! "
;hh" #
}ii 
}jj 
}kk 	
privatemm 
boolmm 
	_isFemalemm 
;mm 
publicnn 
boolnn 
IsFemalenn 
{oo 	
getpp 
=>pp 
	_isFemalepp 
;pp 
setqq 
{rr 
ifss 
(ss 
valuess 
&&ss 
	_isFemaless &
!=ss' )
valuess* /
)ss/ 0
{tt 
	_isFemaleuu 
=uu 
valueuu  %
;uu% &
OnPropertyChangedvv %
(vv% &
)vv& '
;vv' (
ResetGenderww 
(ww  
$numww  !
)ww! "
;ww" #
}xx 
}yy 
}zz 	
private|| 
bool|| 
_isNonBinary|| !
;||! "
public}} 
bool}} 
IsNonBinary}} 
{~~ 	
get 
=> 
_isNonBinary 
;  
set
ÄÄ 
{
ÅÅ 
if
ÇÇ 
(
ÇÇ 
value
ÇÇ 
&&
ÇÇ 
_isNonBinary
ÇÇ )
!=
ÇÇ* ,
value
ÇÇ- 2
)
ÇÇ2 3
{
ÉÉ 
_isNonBinary
ÑÑ  
=
ÑÑ! "
value
ÑÑ# (
;
ÑÑ( )
OnPropertyChanged
ÖÖ %
(
ÖÖ% &
)
ÖÖ& '
;
ÖÖ' (
ResetGender
ÜÜ 
(
ÜÜ  
$num
ÜÜ  !
)
ÜÜ! "
;
ÜÜ" #
}
áá 
}
àà 
}
ââ 	
private
ãã 
int
ãã 
_selectedAvatarId
ãã %
=
ãã& '
$num
ãã( )
;
ãã) *
public
åå 
int
åå 
SelectedAvatarId
åå #
{
çç 	
get
éé 
=>
éé 
_selectedAvatarId
éé $
;
éé$ %
set
èè 
{
êê 
if
ëë 
(
ëë 
_selectedAvatarId
ëë %
!=
ëë& (
value
ëë) .
)
ëë. /
{
íí 
_selectedAvatarId
ìì %
=
ìì& '
value
ìì( -
;
ìì- .
OnPropertyChanged
îî %
(
îî% &
)
îî& '
;
îî' (
}
ïï 
}
ññ 
}
óó 	
private
ôô 
BitmapImage
ôô "
_selectedAvatarImage
ôô 0
;
ôô0 1
public
öö 
BitmapImage
öö !
SelectedAvatarImage
öö .
{
õõ 	
get
úú 
=>
úú "
_selectedAvatarImage
úú '
;
úú' (
set
ùù 
{
ûû 
if
üü 
(
üü "
_selectedAvatarImage
üü (
!=
üü) +
value
üü, 1
)
üü1 2
{
†† "
_selectedAvatarImage
°° (
=
°°) *
value
°°+ 0
;
°°0 1
OnPropertyChanged
¢¢ %
(
¢¢% &
)
¢¢& '
;
¢¢' (
}
££ 
}
§§ 
}
•• 	
public
ßß 
ICommand
ßß 
SignUpCommand
ßß %
{
ßß& '
get
ßß( +
;
ßß+ ,
}
ßß- .
public
®® 
ICommand
®® !
SelectAvatarCommand
®® +
{
®®, -
get
®®. 1
;
®®1 2
}
®®3 4
public
©© 
ICommand
©©  
CloseWindowCommand
©© *
{
©©+ ,
get
©©- 0
;
©©0 1
}
©©2 3
public
™™ 
ICommand
™™ #
MaximizeWindowCommand
™™ -
{
™™. /
get
™™0 3
;
™™3 4
}
™™5 6
public
´´ 
ICommand
´´ #
MinimizeWindowCommand
´´ -
{
´´. /
get
´´0 3
;
´´3 4
}
´´5 6
public
¨¨ 
ICommand
¨¨ 
ReturnCommand
¨¨ %
{
¨¨& '
get
¨¨( +
;
¨¨+ ,
}
¨¨- .
public
ÆÆ 
SignUpViewModel
ÆÆ 
(
ÆÆ 
)
ÆÆ  
{
ØØ 	
SignUpCommand
∞∞ 
=
∞∞ 
new
∞∞ 
RelayCommand
∞∞  ,
(
∞∞, -
ExecuteSignUp
∞∞- :
,
∞∞: ;
CanExecuteSignUp
∞∞< L
)
∞∞L M
;
∞∞M N!
SelectAvatarCommand
±± 
=
±±  !
new
±±" %
RelayCommand
±±& 2
(
±±2 3$
OpenSelectAvatarDialog
±±3 I
)
±±I J
;
±±J K 
CloseWindowCommand
≤≤ 
=
≤≤  
new
≤≤! $
RelayCommand
≤≤% 1
(
≤≤1 2 
ExecuteCloseWindow
≤≤2 D
)
≤≤D E
;
≤≤E F#
MaximizeWindowCommand
≥≥ !
=
≥≥" #
new
≥≥$ '
RelayCommand
≥≥( 4
(
≥≥4 5#
ExecuteMaximizeWindow
≥≥5 J
)
≥≥J K
;
≥≥K L#
MinimizeWindowCommand
¥¥ !
=
¥¥" #
new
¥¥$ '
RelayCommand
¥¥( 4
(
¥¥4 5#
ExecuteMinimizeWindow
¥¥5 J
)
¥¥J K
;
¥¥K L
ReturnCommand
µµ 
=
µµ 
new
µµ 
RelayCommand
µµ  ,
(
µµ, -
ExecuteReturn
µµ- :
)
µµ: ;
;
µµ; <
LoadDefaultAvatar
∂∂ 
(
∂∂ 
)
∂∂ 
;
∂∂  
}
∑∑ 	
private
ππ 
void
ππ 
ResetGender
ππ  
(
ππ  !
int
ππ! $
selectedGenderId
ππ% 5
)
ππ5 6
{
∫∫ 	
bool
ªª 
oldMale
ªª 
=
ªª 
_isMale
ªª "
;
ªª" #
bool
ºº 
	oldFemale
ºº 
=
ºº 
	_isFemale
ºº &
;
ºº& '
bool
ΩΩ 
oldNonBinary
ΩΩ 
=
ΩΩ 
_isNonBinary
ΩΩ  ,
;
ΩΩ, -
_isMale
øø 
=
øø 
(
øø 
selectedGenderId
øø '
==
øø( *
$num
øø+ ,
)
øø, -
;
øø- .
	_isFemale
¿¿ 
=
¿¿ 
(
¿¿ 
selectedGenderId
¿¿ )
==
¿¿* ,
$num
¿¿- .
)
¿¿. /
;
¿¿/ 0
_isNonBinary
¡¡ 
=
¡¡ 
(
¡¡ 
selectedGenderId
¡¡ ,
==
¡¡- /
$num
¡¡0 1
)
¡¡1 2
;
¡¡2 3
if
√√ 
(
√√ 
oldMale
√√ 
!=
√√ 
_isMale
√√ "
)
√√" #
OnPropertyChanged
ƒƒ !
(
ƒƒ! "
nameof
ƒƒ" (
(
ƒƒ( )
IsMale
ƒƒ) /
)
ƒƒ/ 0
)
ƒƒ0 1
;
ƒƒ1 2
if
≈≈ 
(
≈≈ 
	oldFemale
≈≈ 
!=
≈≈ 
	_isFemale
≈≈ &
)
≈≈& '
OnPropertyChanged
∆∆ !
(
∆∆! "
nameof
∆∆" (
(
∆∆( )
IsFemale
∆∆) 1
)
∆∆1 2
)
∆∆2 3
;
∆∆3 4
if
«« 
(
«« 
oldNonBinary
«« 
!=
«« 
_isNonBinary
««  ,
)
««, -
OnPropertyChanged
»» !
(
»»! "
nameof
»»" (
(
»»( )
IsNonBinary
»») 4
)
»»4 5
)
»»5 6
;
»»6 7
}
…… 	
private
ÀÀ 
async
ÀÀ 
void
ÀÀ 
LoadDefaultAvatar
ÀÀ ,
(
ÀÀ, -
)
ÀÀ- .
{
ÃÃ 	
var
ÕÕ 
client
ÕÕ 
=
ÕÕ 
new
ÕÕ &
UserProfileServiceClient
ÕÕ 5
(
ÕÕ5 6
)
ÕÕ6 7
;
ÕÕ7 8
bool
ŒŒ 
success
ŒŒ 
=
ŒŒ 
false
ŒŒ  
;
ŒŒ  !
try
œœ 
{
–– 
var
—— 
avatars
—— 
=
—— 
await
—— #
client
——$ *
.
——* +&
GetAvailableAvatarsAsync
——+ C
(
——C D
)
——D E
;
——E F
if
““ 
(
““ 
avatars
““ 
!=
““ 
null
““ #
&&
““$ &
avatars
““' .
.
““. /
Any
““/ 2
(
““2 3
)
““3 4
)
““4 5
{
”” 
var
‘‘ 
defaultAvatar
‘‘ %
=
‘‘& '
avatars
‘‘( /
.
‘‘/ 0
FirstOrDefault
‘‘0 >
(
‘‘> ?
a
‘‘? @
=>
‘‘A C
a
‘‘D E
.
‘‘E F
IdAvatar
‘‘F N
==
‘‘O Q
$num
‘‘R S
)
‘‘S T
??
‘‘U W
avatars
‘‘X _
.
‘‘_ `
First
‘‘` e
(
‘‘e f
)
‘‘f g
;
‘‘g h
SelectedAvatarId
’’ $
=
’’% &
defaultAvatar
’’' 4
.
’’4 5
IdAvatar
’’5 =
;
’’= >!
SelectedAvatarImage
÷÷ '
=
÷÷( ) 
ConvertByteToImage
÷÷* <
(
÷÷< =
defaultAvatar
÷÷= J
.
÷÷J K

AvatarData
÷÷K U
)
÷÷U V
;
÷÷V W
}
◊◊ 
client
ÿÿ 
.
ÿÿ 
Close
ÿÿ 
(
ÿÿ 
)
ÿÿ 
;
ÿÿ 
success
ŸŸ 
=
ŸŸ 
true
ŸŸ 
;
ŸŸ 
}
⁄⁄ 
catch
€€ 
(
€€ 
FaultException
€€ !
)
€€! "
{
‹‹ 

MessageBox
›› 
.
›› 
Show
›› 
(
››  
Lang
››  $
.
››$ %%
alertServerErrorMessage
››% <
,
››< =
Lang
››> B
.
››B C
alertErrorTitle
››C R
,
››R S
MessageBoxButton
››T d
.
››d e
OK
››e g
,
››g h
MessageBoxImage
››i x
.
››x y
Error
››y ~
)
››~ 
;›› Ä
}
ﬁﬁ 
catch
ﬂﬂ 
(
ﬂﬂ '
EndpointNotFoundException
ﬂﬂ ,
)
ﬂﬂ, -
{
‡‡ 

MessageBox
·· 
.
·· 
Show
·· 
(
··  
Lang
··  $
.
··$ %)
alertConnectionErrorMessage
··% @
,
··@ A
Lang
··B F
.
··F G'
alertConnectionErrorTitle
··G `
,
··` a
MessageBoxButton
··b r
.
··r s
OK
··s u
,
··u v
MessageBoxImage··w Ü
.··Ü á
Error··á å
)··å ç
;··ç é
}
‚‚ 
catch
„„ 
{
‰‰ 

MessageBox
ÂÂ 
.
ÂÂ 
Show
ÂÂ 
(
ÂÂ  
Lang
ÂÂ  $
.
ÂÂ$ %"
alertAvatarLoadError
ÂÂ% 9
,
ÂÂ9 :
Lang
ÂÂ; ?
.
ÂÂ? @
alertErrorTitle
ÂÂ@ O
,
ÂÂO P
MessageBoxButton
ÂÂQ a
.
ÂÂa b
OK
ÂÂb d
,
ÂÂd e
MessageBoxImage
ÂÂf u
.
ÂÂu v
Error
ÂÂv {
)
ÂÂ{ |
;
ÂÂ| }
}
ÊÊ 
finally
ÁÁ 
{
ËË 
if
ÈÈ 
(
ÈÈ 
!
ÈÈ 
success
ÈÈ 
&&
ÈÈ 
client
ÈÈ  &
.
ÈÈ& '
State
ÈÈ' ,
!=
ÈÈ- / 
CommunicationState
ÈÈ0 B
.
ÈÈB C
Closed
ÈÈC I
)
ÈÈI J
client
ÍÍ 
.
ÍÍ 
Abort
ÍÍ  
(
ÍÍ  !
)
ÍÍ! "
;
ÍÍ" #
}
ÎÎ 
}
ÏÏ 	
private
ÓÓ 
void
ÓÓ $
OpenSelectAvatarDialog
ÓÓ +
(
ÓÓ+ ,
object
ÓÓ, 2
	parameter
ÓÓ3 <
)
ÓÓ< =
{
ÔÔ 	
var
 
selectAvatarView
  
=
! "
new
# &
SelectAvatarView
' 7
(
7 8
)
8 9
;
9 :
var
ÒÒ #
selectAvatarViewModel
ÒÒ %
=
ÒÒ& '
new
ÒÒ( +#
SelectAvatarViewModel
ÒÒ, A
(
ÒÒA B
SelectedAvatarId
ÒÒB R
)
ÒÒR S
;
ÒÒS T#
selectAvatarViewModel
ÚÚ !
.
ÚÚ! "
AvatarSelected
ÚÚ" 0
+=
ÚÚ1 3
OnAvatarSelected
ÚÚ4 D
;
ÚÚD E
selectAvatarView
ÛÛ 
.
ÛÛ 
DataContext
ÛÛ (
=
ÛÛ) *#
selectAvatarViewModel
ÛÛ+ @
;
ÛÛ@ A
selectAvatarView
ÙÙ 
.
ÙÙ 

ShowDialog
ÙÙ '
(
ÙÙ' (
)
ÙÙ( )
;
ÙÙ) *#
selectAvatarViewModel
ıı !
.
ıı! "
AvatarSelected
ıı" 0
-=
ıı1 3
OnAvatarSelected
ıı4 D
;
ııD E
}
ˆˆ 	
private
¯¯ 
void
¯¯ 
OnAvatarSelected
¯¯ %
(
¯¯% &
AvatarModel
¯¯& 1
avatar
¯¯2 8
)
¯¯8 9
{
˘˘ 	
if
˙˙ 
(
˙˙ 
avatar
˙˙ 
!=
˙˙ 
null
˙˙ 
)
˙˙ 
{
˚˚ 
SelectedAvatarId
¸¸  
=
¸¸! "
avatar
¸¸# )
.
¸¸) *
Id
¸¸* ,
;
¸¸, -!
SelectedAvatarImage
˝˝ #
=
˝˝$ %
avatar
˝˝& ,
.
˝˝, -
ImageSource
˝˝- 8
;
˝˝8 9
}
˛˛ 
}
ˇˇ 	
private
ÅÅ 
bool
ÅÅ 
IsValidEmail
ÅÅ !
(
ÅÅ! "
string
ÅÅ" (
email
ÅÅ) .
)
ÅÅ. /
{
ÇÇ 	
if
ÉÉ 
(
ÉÉ 
string
ÉÉ 
.
ÉÉ  
IsNullOrWhiteSpace
ÉÉ )
(
ÉÉ) *
email
ÉÉ* /
)
ÉÉ/ 0
)
ÉÉ0 1
return
ÑÑ 
false
ÑÑ 
;
ÑÑ 
try
ÜÜ 
{
áá 
var
àà 
regex
àà 
=
àà 
new
àà 
Regex
àà  %
(
àà% &
$str
àà& H
,
ààH I
RegexOptions
ààJ V
.
ààV W

IgnoreCase
ààW a
,
ààa b
TimeSpan
ààc k
.
ààk l
FromMilliseconds
ààl |
(
àà| }
$numàà} Ä
)ààÄ Å
)ààÅ Ç
;ààÇ É
return
ââ 
regex
ââ 
.
ââ 
IsMatch
ââ $
(
ââ$ %
email
ââ% *
)
ââ* +
;
ââ+ ,
}
ää 
catch
ãã 
(
ãã (
RegexMatchTimeoutException
ãã -
)
ãã- .
{
åå 
return
çç 
false
çç 
;
çç 
}
éé 
}
èè 	
private
ëë 
bool
ëë 
IsPasswordSecure
ëë %
(
ëë% &
string
ëë& ,
password
ëë- 5
,
ëë5 6
out
ëë7 :
string
ëë; A
errorLangKey
ëëB N
)
ëëN O
{
íí 	
if
ìì 
(
ìì 
string
ìì 
.
ìì  
IsNullOrWhiteSpace
ìì )
(
ìì) *
password
ìì* 2
)
ìì2 3
)
ìì3 4
{
îî 
errorLangKey
ïï 
=
ïï 
$str
ïï 3
;
ïï3 4
return
ññ 
false
ññ 
;
ññ 
}
óó 
if
òò 
(
òò 
password
òò 
.
òò 
Length
òò 
<
òò  !
$num
òò" #
)
òò# $
{
ôô 
errorLangKey
öö 
=
öö 
$str
öö 6
;
öö6 7
return
õõ 
false
õõ 
;
õõ 
}
úú 
if
ùù 
(
ùù 
!
ùù 
password
ùù 
.
ùù 
Any
ùù 
(
ùù 
char
ùù "
.
ùù" #
IsUpper
ùù# *
)
ùù* +
)
ùù+ ,
{
ûû 
errorLangKey
üü 
=
üü 
$str
üü 8
;
üü8 9
return
†† 
false
†† 
;
†† 
}
°° 
if
¢¢ 
(
¢¢ 
!
¢¢ 
password
¢¢ 
.
¢¢ 
Any
¢¢ 
(
¢¢ 
char
¢¢ "
.
¢¢" #
IsLower
¢¢# *
)
¢¢* +
)
¢¢+ ,
{
££ 
errorLangKey
§§ 
=
§§ 
$str
§§ 8
;
§§8 9
return
•• 
false
•• 
;
•• 
}
¶¶ 
if
ßß 
(
ßß 
!
ßß 
password
ßß 
.
ßß 
Any
ßß 
(
ßß 
char
ßß "
.
ßß" #
IsDigit
ßß# *
)
ßß* +
)
ßß+ ,
{
®® 
errorLangKey
©© 
=
©© 
$str
©© 8
;
©©8 9
return
™™ 
false
™™ 
;
™™ 
}
´´ 
if
¨¨ 
(
¨¨ 
password
¨¨ 
.
¨¨ 
All
¨¨ 
(
¨¨ 
char
¨¨ !
.
¨¨! "
IsLetterOrDigit
¨¨" 1
)
¨¨1 2
)
¨¨2 3
{
≠≠ 
errorLangKey
ÆÆ 
=
ÆÆ 
$str
ÆÆ :
;
ÆÆ: ;
return
ØØ 
false
ØØ 
;
ØØ 
}
∞∞ 
errorLangKey
≤≤ 
=
≤≤ 
null
≤≤ 
;
≤≤  
return
≥≥ 
true
≥≥ 
;
≥≥ 
}
¥¥ 	
private
∂∂ 
bool
∂∂ 
CanExecuteSignUp
∂∂ %
(
∂∂% &
object
∂∂& ,
	parameter
∂∂- 6
)
∂∂6 7
{
∑∑ 	
return
∏∏ 
!
∏∏ 
string
∏∏ 
.
∏∏  
IsNullOrWhiteSpace
∏∏ -
(
∏∏- .
Username
∏∏. 6
)
∏∏6 7
&&
∏∏8 :
!
ππ 
string
ππ 
.
ππ  
IsNullOrWhiteSpace
ππ -
(
ππ- .
	FirstName
ππ. 7
)
ππ7 8
&&
ππ9 ;
!
∫∫ 
string
∫∫ 
.
∫∫  
IsNullOrWhiteSpace
∫∫ -
(
∫∫- .
LastName
∫∫. 6
)
∫∫6 7
&&
∫∫8 :
!
ªª 
string
ªª 
.
ªª  
IsNullOrWhiteSpace
ªª -
(
ªª- .
Email
ªª. 3
)
ªª3 4
&&
ªª5 7
!
ºº 
string
ºº 
.
ºº  
IsNullOrWhiteSpace
ºº -
(
ºº- .
Password
ºº. 6
)
ºº6 7
&&
ºº8 :
(
ΩΩ 
IsMale
ΩΩ 
||
ΩΩ 
IsFemale
ΩΩ &
||
ΩΩ' )
IsNonBinary
ΩΩ* 5
)
ΩΩ5 6
;
ΩΩ6 7
}
ææ 	
private
¿¿ 
async
¿¿ 
void
¿¿ 
ExecuteSignUp
¿¿ (
(
¿¿( )
object
¿¿) /
	parameter
¿¿0 9
)
¿¿9 :
{
¡¡ 	
if
¬¬ 
(
¬¬ 
!
¬¬ 
CanExecuteSignUp
¬¬ !
(
¬¬! "
	parameter
¬¬" +
)
¬¬+ ,
)
¬¬, -
{
√√ 

MessageBox
ƒƒ 
.
ƒƒ 
Show
ƒƒ 
(
ƒƒ  
Lang
ƒƒ  $
.
ƒƒ$ %$
alertAllFieldsRequired
ƒƒ% ;
,
ƒƒ; <
Lang
ƒƒ= A
.
ƒƒA B"
alertInputErrorTitle
ƒƒB V
,
ƒƒV W
MessageBoxButton
ƒƒX h
.
ƒƒh i
OK
ƒƒi k
,
ƒƒk l
MessageBoxImage
ƒƒm |
.
ƒƒ| }
Warningƒƒ} Ñ
)ƒƒÑ Ö
;ƒƒÖ Ü
return
≈≈ 
;
≈≈ 
}
∆∆ 
if
»» 
(
»» 
!
»» 
IsValidEmail
»» 
(
»» 
Email
»» #
)
»»# $
)
»»$ %
{
…… 

MessageBox
   
.
   
Show
   
(
    
Lang
    $
.
  $ %%
alertInvalidEmailFormat
  % <
,
  < =
Lang
  > B
.
  B C$
alertInvalidEmailTitle
  C Y
,
  Y Z
MessageBoxButton
  [ k
.
  k l
OK
  l n
,
  n o
MessageBoxImage
  p 
.   Ä
Warning  Ä á
)  á à
;  à â
return
ÀÀ 
;
ÀÀ 
}
ÃÃ 
if
ŒŒ 
(
ŒŒ 
!
ŒŒ 
IsPasswordSecure
ŒŒ !
(
ŒŒ! "
Password
ŒŒ" *
,
ŒŒ* +
out
ŒŒ, /
string
ŒŒ0 6
passwordErrorKey
ŒŒ7 G
)
ŒŒG H
)
ŒŒH I
{
œœ 
string
–– "
passwordErrorMessage
–– +
=
––, -
Lang
––. 2
.
––2 3
ResourceManager
––3 B
.
––B C
	GetString
––C L
(
––L M
passwordErrorKey
––M ]
)
––] ^
??
––_ a
Lang
––b f
.
––f g(
alertPasswordGenericError––g Ä
;––Ä Å

MessageBox
—— 
.
—— 
Show
—— 
(
——  "
passwordErrorMessage
——  4
,
——4 5
Lang
——6 :
.
——: ;)
alertPasswordNotSecureTitle
——; V
,
——V W
MessageBoxButton
——X h
.
——h i
OK
——i k
,
——k l
MessageBoxImage
——m |
.
——| }
Warning——} Ñ
)——Ñ Ö
;——Ö Ü
return
““ 
;
““ 
}
”” 
int
’’ 
genderId
’’ 
=
’’ 
IsMale
’’ !
?
’’" #
$num
’’$ %
:
’’& '
IsFemale
’’( 0
?
’’1 2
$num
’’3 4
:
’’5 6
$num
’’7 8
;
’’8 9
var
◊◊ 
newUserProfile
◊◊ 
=
◊◊  
new
◊◊! $
AuthService
◊◊% 0
.
◊◊0 1
UserProfileDto
◊◊1 ?
{
ÿÿ 
Username
ŸŸ 
=
ŸŸ 
Username
ŸŸ #
,
ŸŸ# $
	FirstName
⁄⁄ 
=
⁄⁄ 
	FirstName
⁄⁄ %
,
⁄⁄% &
LastName
€€ 
=
€€ 
LastName
€€ #
,
€€# $
Email
‹‹ 
=
‹‹ 
Email
‹‹ 
,
‹‹ 
GenderId
›› 
=
›› 
genderId
›› #
,
››# $
AvatarId
ﬁﬁ 
=
ﬁﬁ 
SelectedAvatarId
ﬁﬁ +
}
ﬂﬂ 
;
ﬂﬂ 
var
·· 
client
·· 
=
·· 
new
·· )
AuthenticationServiceClient
·· 8
(
··8 9
)
··9 :
;
··: ;
bool
‚‚ 
success
‚‚ 
=
‚‚ 
false
‚‚  
;
‚‚  !
try
„„ 
{
‰‰ 
var
ÂÂ 
result
ÂÂ 
=
ÂÂ 
await
ÂÂ "
client
ÂÂ# )
.
ÂÂ) *
RegisterAsync
ÂÂ* 7
(
ÂÂ7 8
newUserProfile
ÂÂ8 F
,
ÂÂF G
Password
ÂÂH P
)
ÂÂP Q
;
ÂÂQ R
if
ÁÁ 
(
ÁÁ 
result
ÁÁ 
.
ÁÁ 
Success
ÁÁ "
)
ÁÁ" #
{
ËË 

MessageBox
ÈÈ 
.
ÈÈ 
Show
ÈÈ #
(
ÈÈ# $
Lang
ÈÈ$ (
.
ÈÈ( )&
alertRegistrationSuccess
ÈÈ) A
+
ÈÈB C
$str
ÈÈD G
+
ÈÈH I
result
ÈÈJ P
.
ÈÈP Q
Message
ÈÈQ X
,
ÈÈX Y
Lang
ÈÈZ ^
.
ÈÈ^ _
alertSuccessTitle
ÈÈ_ p
,
ÈÈp q
MessageBoxButtonÈÈr Ç
.ÈÈÇ É
OKÈÈÉ Ö
,ÈÈÖ Ü
MessageBoxImageÈÈá ñ
.ÈÈñ ó
InformationÈÈó ¢
)ÈÈ¢ £
;ÈÈ£ §$
OpenVerificationDialog
ÍÍ *
(
ÍÍ* +
	parameter
ÍÍ+ 4
)
ÍÍ4 5
;
ÍÍ5 6
client
ÎÎ 
.
ÎÎ 
Close
ÎÎ  
(
ÎÎ  !
)
ÎÎ! "
;
ÎÎ" #
success
ÏÏ 
=
ÏÏ 
true
ÏÏ "
;
ÏÏ" #
}
ÌÌ 
else
ÓÓ 
{
ÔÔ 

MessageBox
 
.
 
Show
 #
(
# $
result
$ *
.
* +
Message
+ 2
,
2 3
Lang
4 8
.
8 9)
alertRegistrationErrorTitle
9 T
,
T U
MessageBoxButton
V f
.
f g
OK
g i
,
i j
MessageBoxImage
k z
.
z {
Error{ Ä
)Ä Å
;Å Ç
}
ÒÒ 
}
ÚÚ 
catch
ÛÛ 
(
ÛÛ 
FaultException
ÛÛ !
<
ÛÛ! "
string
ÛÛ" (
>
ÛÛ( )
fex
ÛÛ* -
)
ÛÛ- .
{
ÙÙ 

MessageBox
ıı 
.
ıı 
Show
ıı 
(
ıı  
fex
ıı  #
.
ıı# $
Detail
ıı$ *
,
ıı* +
Lang
ıı, 0
.
ıı0 1)
alertRegistrationErrorTitle
ıı1 L
,
ııL M
MessageBoxButton
ııN ^
.
ıı^ _
OK
ıı_ a
,
ııa b
MessageBoxImage
ııc r
.
ıır s
Error
ııs x
)
ııx y
;
ııy z
}
ˆˆ 
catch
˜˜ 
(
˜˜ 
FaultException
˜˜ !
)
˜˜! "
{
¯¯ 

MessageBox
˘˘ 
.
˘˘ 
Show
˘˘ 
(
˘˘  
Lang
˘˘  $
.
˘˘$ %%
alertServerErrorMessage
˘˘% <
,
˘˘< =
Lang
˘˘> B
.
˘˘B C
alertErrorTitle
˘˘C R
,
˘˘R S
MessageBoxButton
˘˘T d
.
˘˘d e
OK
˘˘e g
,
˘˘g h
MessageBoxImage
˘˘i x
.
˘˘x y
Error
˘˘y ~
)
˘˘~ 
;˘˘ Ä
}
˙˙ 
catch
˚˚ 
(
˚˚ '
EndpointNotFoundException
˚˚ ,
)
˚˚, -
{
¸¸ 

MessageBox
˝˝ 
.
˝˝ 
Show
˝˝ 
(
˝˝  
Lang
˝˝  $
.
˝˝$ %)
alertConnectionErrorMessage
˝˝% @
,
˝˝@ A
Lang
˝˝B F
.
˝˝F G'
alertConnectionErrorTitle
˝˝G `
,
˝˝` a
MessageBoxButton
˝˝b r
.
˝˝r s
OK
˝˝s u
,
˝˝u v
MessageBoxImage˝˝w Ü
.˝˝Ü á
Error˝˝á å
)˝˝å ç
;˝˝ç é
}
˛˛ 
catch
ˇˇ 
{
ÄÄ 

MessageBox
ÅÅ 
.
ÅÅ 
Show
ÅÅ 
(
ÅÅ  
Lang
ÅÅ  $
.
ÅÅ$ %&
alertUnknownErrorMessage
ÅÅ% =
,
ÅÅ= >
Lang
ÅÅ? C
.
ÅÅC D
alertErrorTitle
ÅÅD S
,
ÅÅS T
MessageBoxButton
ÅÅU e
.
ÅÅe f
OK
ÅÅf h
,
ÅÅh i
MessageBoxImage
ÅÅj y
.
ÅÅy z
Error
ÅÅz 
)ÅÅ Ä
;ÅÅÄ Å
}
ÇÇ 
finally
ÉÉ 
{
ÑÑ 
if
ÖÖ 
(
ÖÖ 
!
ÖÖ 
success
ÖÖ 
&&
ÖÖ 
client
ÖÖ  &
.
ÖÖ& '
State
ÖÖ' ,
!=
ÖÖ- / 
CommunicationState
ÖÖ0 B
.
ÖÖB C
Closed
ÖÖC I
)
ÖÖI J
client
ÜÜ 
.
ÜÜ 
Abort
ÜÜ  
(
ÜÜ  !
)
ÜÜ! "
;
ÜÜ" #
}
áá 
}
àà 	
private
ää 
void
ää $
OpenVerificationDialog
ää +
(
ää+ ,
object
ää, 2
	parameter
ää3 <
)
ää< =
{
ãã 	
var
åå 

verifyView
åå 
=
åå 
new
åå  
VerifyByCodeView
åå! 1
(
åå1 2
)
åå2 3
;
åå3 4

verifyView
çç 
.
çç 
DataContext
çç "
=
çç# $
new
çç% (#
VerifyByCodeViewModel
çç) >
(
çç> ?
Email
çç? D
)
ççD E
;
ççE F

verifyView
éé 
.
éé 
Show
éé 
(
éé 
)
éé 
;
éé 
if
êê 
(
êê 
	parameter
êê 
is
êê 
Window
êê #
signUpWindow
êê$ 0
)
êê0 1
signUpWindow
ëë 
.
ëë 
Close
ëë "
(
ëë" #
)
ëë# $
;
ëë$ %
}
íí 	
private
îî 
void
îî  
ExecuteCloseWindow
îî '
(
îî' (
object
îî( .
	parameter
îî/ 8
)
îî8 9
{
ïï 	
if
ññ 
(
ññ 
	parameter
ññ 
is
ññ 
Window
ññ #
)
ññ# $
Application
óó 
.
óó 
Current
óó #
.
óó# $
Shutdown
óó$ ,
(
óó, -
)
óó- .
;
óó. /
}
òò 	
private
öö 
void
öö #
ExecuteMaximizeWindow
öö *
(
öö* +
object
öö+ 1
	parameter
öö2 ;
)
öö; <
{
õõ 	
if
úú 
(
úú 
	parameter
úú 
is
úú 
Window
úú #
window
úú$ *
)
úú* +
window
ùù 
.
ùù 
WindowState
ùù "
=
ùù# $
window
ùù% +
.
ùù+ ,
WindowState
ùù, 7
==
ùù8 :
WindowState
ùù; F
.
ùùF G
	Maximized
ùùG P
?
ùùQ R
WindowState
ùùS ^
.
ùù^ _
Normal
ùù_ e
:
ùùf g
WindowState
ùùh s
.
ùùs t
	Maximized
ùùt }
;
ùù} ~
}
ûû 	
private
†† 
void
†† #
ExecuteMinimizeWindow
†† *
(
††* +
object
††+ 1
	parameter
††2 ;
)
††; <
{
°° 	
if
¢¢ 
(
¢¢ 
	parameter
¢¢ 
is
¢¢ 
Window
¢¢ #
window
¢¢$ *
)
¢¢* +
window
££ 
.
££ 
WindowState
££ "
=
££# $
WindowState
££% 0
.
££0 1
	Minimized
££1 :
;
££: ;
}
§§ 	
private
¶¶ 
void
¶¶ 
ExecuteReturn
¶¶ "
(
¶¶" #
object
¶¶# )
	parameter
¶¶* 3
)
¶¶3 4
{
ßß 	
if
®® 
(
®® 
	parameter
®® 
is
®® 
Window
®® #
currentWindow
®®$ 1
)
®®1 2
{
©© 
var
™™ 
welcomeView
™™ 
=
™™  !
new
™™" %
WelcomeView
™™& 1
(
™™1 2
)
™™2 3
;
™™3 4
welcomeView
´´ 
.
´´ 
Show
´´  
(
´´  !
)
´´! "
;
´´" #
currentWindow
¨¨ 
.
¨¨ 
Close
¨¨ #
(
¨¨# $
)
¨¨$ %
;
¨¨% &
}
≠≠ 
}
ÆÆ 	
public
∞∞ 
static
∞∞ 
BitmapImage
∞∞ ! 
ConvertByteToImage
∞∞" 4
(
∞∞4 5
byte
∞∞5 9
[
∞∞9 :
]
∞∞: ;

imageBytes
∞∞< F
)
∞∞F G
{
±± 	
if
≤≤ 
(
≤≤ 

imageBytes
≤≤ 
==
≤≤ 
null
≤≤ "
||
≤≤# %

imageBytes
≤≤& 0
.
≤≤0 1
Length
≤≤1 7
==
≤≤8 :
$num
≤≤; <
)
≤≤< =
return
≥≥ 
null
≥≥ 
;
≥≥ 
var
µµ 
image
µµ 
=
µµ 
new
µµ 
BitmapImage
µµ '
(
µµ' (
)
µµ( )
;
µµ) *
using
∂∂ 
(
∂∂ 
var
∂∂ 
mem
∂∂ 
=
∂∂ 
new
∂∂  
MemoryStream
∂∂! -
(
∂∂- .

imageBytes
∂∂. 8
)
∂∂8 9
)
∂∂9 :
{
∑∑ 
mem
∏∏ 
.
∏∏ 
Position
∏∏ 
=
∏∏ 
$num
∏∏  
;
∏∏  !
image
ππ 
.
ππ 
	BeginInit
ππ 
(
ππ  
)
ππ  !
;
ππ! "
image
∫∫ 
.
∫∫ 
CreateOptions
∫∫ #
=
∫∫$ %!
BitmapCreateOptions
∫∫& 9
.
∫∫9 :!
PreservePixelFormat
∫∫: M
;
∫∫M N
image
ªª 
.
ªª 
CacheOption
ªª !
=
ªª" #
BitmapCacheOption
ªª$ 5
.
ªª5 6
OnLoad
ªª6 <
;
ªª< =
image
ºº 
.
ºº 
	UriSource
ºº 
=
ºº  !
null
ºº" &
;
ºº& '
image
ΩΩ 
.
ΩΩ 
StreamSource
ΩΩ "
=
ΩΩ# $
mem
ΩΩ% (
;
ΩΩ( )
image
ææ 
.
ææ 
EndInit
ææ 
(
ææ 
)
ææ 
;
ææ  
}
øø 
image
¿¿ 
.
¿¿ 
Freeze
¿¿ 
(
¿¿ 
)
¿¿ 
;
¿¿ 
return
¡¡ 
image
¡¡ 
;
¡¡ 
}
¬¬ 	
}
√√ 
}ƒƒ ˆ
§C:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\Lobby\Dialogs\InviteByEmailViewModel.cs
	namespace 	
GuessMyMessClient
 
. 
	ViewModel %
.% &
Lobby& +
.+ ,
Dialogs, 3
{ 
internal		 
class		 "
InviteByEmailViewModel		 )
:		* +
ViewModelBase		, 9
{

 
} 
} –1
öC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\HomePages\WelcomeViewModel.cs
	namespace 	
GuessMyMessClient
 
. 
	ViewModel %
.% &
	HomePages& /
{ 
public		 

class		 
WelcomeViewModel		 !
:		" #
ViewModelBase		$ 1
{

 
public 
ICommand 
SignUpCommand %
{& '
get( +
;+ ,
}- .
public 
ICommand 
LoginCommand $
{% &
get' *
;* +
}, -
public 
ICommand "
ContinueAsGuestCommand .
{/ 0
get1 4
;4 5
}6 7
public 
ICommand 
CloseWindowCommand *
{+ ,
get- 0
;0 1
}2 3
public 
ICommand !
MaximizeWindowCommand -
{. /
get0 3
;3 4
}5 6
public 
ICommand !
MinimizeWindowCommand -
{. /
get0 3
;3 4
}5 6
public 
WelcomeViewModel 
(  
)  !
{ 	
SignUpCommand 
= 
new 
RelayCommand  ,
(, -
SignUp- 3
)3 4
;4 5
LoginCommand 
= 
new 
RelayCommand +
(+ ,
Login, 1
)1 2
;2 3"
ContinueAsGuestCommand "
=# $
new% (
RelayCommand) 5
(5 6
ContinueAsGuest6 E
)E F
;F G
CloseWindowCommand 
=  
new! $
RelayCommand% 1
(1 2
ExecuteCloseWindow2 D
)D E
;E F!
MaximizeWindowCommand !
=" #
new$ '
RelayCommand( 4
(4 5!
ExecuteMaximizeWindow5 J
)J K
;K L!
MinimizeWindowCommand !
=" #
new$ '
RelayCommand( 4
(4 5!
ExecuteMinimizeWindow5 J
)J K
;K L
} 	
private 
void 
SignUp 
( 
object "
	parameter# ,
), -
{ 	
if 
( 
	parameter 
is 
Window #
welcomeWindow$ 1
)1 2
{ 
var   

signUpView   
=    
new  ! $

SignUpView  % /
(  / 0
)  0 1
;  1 2

signUpView!! 
.!! 
WindowState!! &
=!!' (
welcomeWindow!!) 6
.!!6 7
WindowState!!7 B
;!!B C

signUpView"" 
."" 
Show"" 
(""  
)""  !
;""! "
welcomeWindow## 
.## 
Close## #
(### $
)##$ %
;##% &
}$$ 
}%% 	
private'' 
void'' 
Login'' 
('' 
object'' !
	parameter''" +
)''+ ,
{(( 	
if)) 
()) 
	parameter)) 
is)) 
Window)) #
welcomeWindow))$ 1
)))1 2
{** 
var++ 
	loginView++ 
=++ 
new++  #
	LoginView++$ -
(++- .
)++. /
;++/ 0
	loginView,, 
.,, 
WindowState,, %
=,,& '
welcomeWindow,,( 5
.,,5 6
WindowState,,6 A
;,,A B
	loginView-- 
.-- 
Show-- 
(-- 
)--  
;--  !
welcomeWindow.. 
... 
Close.. #
(..# $
)..$ %
;..% &
}// 
}00 	
private22 
void22 
ContinueAsGuest22 $
(22$ %
object22% +
	parameter22, 5
)225 6
{33 	
var44 
	lobbyView44 
=44 
new44 
	LobbyView44  )
(44) *
)44* +
;44+ ,
	lobbyView55 
.55 
Show55 
(55 
)55 
;55 
if77 
(77 
	parameter77 
is77 
Window77 #
welcomeWindow77$ 1
)771 2
{88 
welcomeWindow99 
.99 
Close99 #
(99# $
)99$ %
;99% &
}:: 
};; 	
private== 
void== 
ExecuteCloseWindow== '
(==' (
object==( .
	parameter==/ 8
)==8 9
{>> 	
if?? 
(?? 
	parameter?? 
is?? 
Window?? #
)??# $
{@@ 
ApplicationAA 
.AA 
CurrentAA #
.AA# $
ShutdownAA$ ,
(AA, -
)AA- .
;AA. /
}BB 
}CC 	
privateEE 
voidEE !
ExecuteMaximizeWindowEE *
(EE* +
objectEE+ 1
	parameterEE2 ;
)EE; <
{FF 	
ifGG 
(GG 
	parameterGG 
isGG 
WindowGG #
windowGG$ *
)GG* +
{HH 
windowII 
.II 
WindowStateII "
=II# $
windowII% +
.II+ ,
WindowStateII, 7
==II8 :
WindowStateII; F
.IIF G
	MaximizedIIG P
?IIQ R
WindowStateIIS ^
.II^ _
NormalII_ e
:IIf g
WindowStateIIh s
.IIs t
	MaximizedIIt }
;II} ~
}JJ 
}KK 	
privateMM 
voidMM !
ExecuteMinimizeWindowMM *
(MM* +
objectMM+ 1
	parameterMM2 ;
)MM; <
{NN 	
ifOO 
(OO 
	parameterOO 
isOO 
WindowOO #
windowOO$ *
)OO* +
{PP 
windowQQ 
.QQ 
WindowStateQQ "
=QQ# $
WindowStateQQ% 0
.QQ0 1
	MinimizedQQ1 :
;QQ: ;
}RR 
}SS 	
}TT 
}UU ÷c
òC:\Users\zenbook i5\Tecnologias_para_la_construccion_de_sw\Proyecto&Artefactos\GuessMyMessClient\GuessMyMessClient\ViewModel\HomePages\LoginViewModel.cs
	namespace 	
GuessMyMessClient
 
. 
	ViewModel %
.% &
	HomePages& /
{ 
public 

class 
LoginViewModel 
:  !
ViewModelBase" /
{ 
private 
string 
_usernameOrEmail '
;' (
public 
string 
UsernameOrEmail %
{ 	
get 
=> 
_usernameOrEmail #
;# $
set 
{ 
_usernameOrEmail  
=! "
value# (
;( )
OnPropertyChanged !
(! "
)" #
;# $
} 
} 	
private 
string 
	_password  
;  !
public 
string 
Password 
{   	
get!! 
=>!! 
	_password!! 
;!! 
set"" 
{## 
	_password$$ 
=$$ 
value$$ !
;$$! "
OnPropertyChanged%% !
(%%! "
)%%" #
;%%# $
CommandManager&& 
.&& &
InvalidateRequerySuggested&& 9
(&&9 :
)&&: ;
;&&; <
}'' 
}(( 	
public** 
ICommand** 
LoginCommand** $
{**% &
get**' *
;*** +
}**, -
public++ 
ICommand++ 
CloseWindowCommand++ *
{+++ ,
get++- 0
;++0 1
}++2 3
public,, 
ICommand,, !
MaximizeWindowCommand,, -
{,,. /
get,,0 3
;,,3 4
},,5 6
public-- 
ICommand-- !
MinimizeWindowCommand-- -
{--. /
get--0 3
;--3 4
}--5 6
public.. 
ICommand.. 
ReturnCommand.. %
{..& '
get..( +
;..+ ,
}..- .
public00 
LoginViewModel00 
(00 
)00 
{11 	
LoginCommand22 
=22 
new22 
RelayCommand22 +
(22+ ,
ExecuteLogin22, 8
,228 9
CanExecuteLogin22: I
)22I J
;22J K
CloseWindowCommand33 
=33  
new33! $
RelayCommand33% 1
(331 2
ExecuteCloseWindow332 D
)33D E
;33E F!
MaximizeWindowCommand44 !
=44" #
new44$ '
RelayCommand44( 4
(444 5!
ExecuteMaximizeWindow445 J
)44J K
;44K L!
MinimizeWindowCommand55 !
=55" #
new55$ '
RelayCommand55( 4
(554 5!
ExecuteMinimizeWindow555 J
)55J K
;55K L
ReturnCommand66 
=66 
new66 
RelayCommand66  ,
(66, -
ExecuteReturn66- :
)66: ;
;66; <
}77 	
private99 
bool99 
CanExecuteLogin99 $
(99$ %
object99% +
	parameter99, 5
)995 6
{:: 	
return;; 
!;; 
string;; 
.;; 
IsNullOrWhiteSpace;; -
(;;- .
UsernameOrEmail;;. =
);;= >
&&;;? A
!<< 
string<< 
.<< 
IsNullOrWhiteSpace<< -
(<<- .
Password<<. 6
)<<6 7
;<<7 8
}== 	
private?? 
async?? 
void?? 
ExecuteLogin?? '
(??' (
object??( .
	parameter??/ 8
)??8 9
{@@ 	
ifAA 
(AA 
!AA 
CanExecuteLoginAA  
(AA  !
	parameterAA! *
)AA* +
)AA+ ,
{BB 

MessageBoxCC 
.CC 
ShowCC 
(CC  
LangDD 
.DD 
alertRequiredFieldsDD ,
,DD, -
LangEE 
.EE  
alertInputErrorTitleEE -
,EE- .
MessageBoxButtonFF $
.FF$ %
OKFF% '
,FF' (
MessageBoxImageGG #
.GG# $
WarningGG$ +
)GG+ ,
;GG, -
returnHH 
;HH 
}II 
varKK 
clientKK 
=KK 
newKK '
AuthenticationServiceClientKK 8
(KK8 9
)KK9 :
;KK: ;
boolLL 
successLL 
=LL 
falseLL  
;LL  !
tryNN 
{OO 
OperationResultDtoPP "
resultPP# )
=PP* +
awaitPP, 1
clientPP2 8
.PP8 9

LoginAsyncPP9 C
(PPC D
UsernameOrEmailPPD S
,PPS T
PasswordPPU ]
)PP] ^
;PP^ _
ifRR 
(RR 
resultRR 
.RR 
SuccessRR "
)RR" #
{SS 
SessionManagerTT "
.TT" #
InstanceTT# +
.TT+ ,
StartSessionTT, 8
(TT8 9
resultTT9 ?
.TT? @
MessageTT@ G
)TTG H
;TTH I
	OpenLobbyUU 
(UU 
	parameterUU '
)UU' (
;UU( )
clientVV 
.VV 
CloseVV  
(VV  !
)VV! "
;VV" #
successWW 
=WW 
trueWW "
;WW" #
}XX 
elseYY 
{ZZ 

MessageBox[[ 
.[[ 
Show[[ #
([[# $
result\\ 
.\\ 
Message\\ &
,\\& '
Lang]] 
.]]  
alertLoginErrorTitle]] 1
,]]1 2
MessageBoxButton^^ (
.^^( )
OK^^) +
,^^+ ,
MessageBoxImage__ '
.__' (
Error__( -
)__- .
;__. /
}`` 
}aa 
catchbb 
(bb 
FaultExceptionbb !
<bb! "
stringbb" (
>bb( )
fexbb* -
)bb- .
{cc 

MessageBoxdd 
.dd 
Showdd 
(dd  
fexee 
.ee 
Detailee 
,ee 
Langff 
.ff  
alertLoginErrorTitleff -
,ff- .
MessageBoxButtongg $
.gg$ %
OKgg% '
,gg' (
MessageBoxImagehh #
.hh# $
Errorhh$ )
)hh) *
;hh* +
}ii 
catchjj 
(jj 
FaultExceptionjj !

fexGeneraljj" ,
)jj, -
{kk 

MessageBoxll 
.ll 
Showll 
(ll  
Langmm 
.mm #
alertServerErrorMessagemm 0
,mm0 1
Langnn 
.nn 
alertErrorTitlenn (
,nn( )
MessageBoxButtonoo $
.oo$ %
OKoo% '
,oo' (
MessageBoxImagepp #
.pp# $
Errorpp$ )
)pp) *
;pp* +
Consoleqq 
.qq 
	WriteLineqq !
(qq! "
$"qq" $
$strqq$ /
{qq/ 0

fexGeneralqq0 :
.qq: ;
Messageqq; B
}qqB C
"qqC D
)qqD E
;qqE F
}rr 
catchss 
(ss %
EndpointNotFoundExceptionss ,
exss- /
)ss/ 0
{tt 

MessageBoxuu 
.uu 
Showuu 
(uu  
Langvv 
.vv '
alertConnectionErrorMessagevv 4
,vv4 5
Langww 
.ww %
alertConnectionErrorTitleww 2
,ww2 3
MessageBoxButtonxx $
.xx$ %
OKxx% '
,xx' (
MessageBoxImageyy #
.yy# $
Erroryy$ )
)yy) *
;yy* +
Consolezz 
.zz 
	WriteLinezz !
(zz! "
$"zz" $
$strzz$ 6
{zz6 7
exzz7 9
.zz9 :
Messagezz: A
}zzA B
"zzB C
)zzC D
;zzD E
}{{ 
catch|| 
(|| 
	Exception|| 
ex|| 
)||  
{}} 

MessageBox~~ 
.~~ 
Show~~ 
(~~  
Lang 
. $
alertUnknownErrorMessage 1
,1 2
Lang
ÄÄ 
.
ÄÄ 
alertErrorTitle
ÄÄ (
,
ÄÄ( )
MessageBoxButton
ÅÅ $
.
ÅÅ$ %
OK
ÅÅ% '
,
ÅÅ' (
MessageBoxImage
ÇÇ #
.
ÇÇ# $
Error
ÇÇ$ )
)
ÇÇ) *
;
ÇÇ* +
Console
ÉÉ 
.
ÉÉ 
	WriteLine
ÉÉ !
(
ÉÉ! "
$"
ÉÉ" $
$str
ÉÉ$ 3
{
ÉÉ3 4
ex
ÉÉ4 6
.
ÉÉ6 7
Message
ÉÉ7 >
}
ÉÉ> ?
"
ÉÉ? @
)
ÉÉ@ A
;
ÉÉA B
}
ÑÑ 
finally
ÖÖ 
{
ÜÜ 
if
áá 
(
áá 
!
áá 
success
áá 
&&
áá 
client
áá  &
.
áá& '
State
áá' ,
!=
áá- / 
CommunicationState
áá0 B
.
ááB C
Closed
ááC I
)
ááI J
{
àà 
client
ââ 
.
ââ 
Abort
ââ  
(
ââ  !
)
ââ! "
;
ââ" #
}
ää 
}
ãã 
}
åå 	
private
éé 
void
éé 
	OpenLobby
éé 
(
éé 
object
éé %
	parameter
éé& /
)
éé/ 0
{
èè 	
if
êê 
(
êê 
	parameter
êê 
is
êê 
Window
êê #
loginWindow
êê$ /
)
êê/ 0
{
ëë 
loginWindow
íí 
.
íí 
Close
íí !
(
íí! "
)
íí" #
;
íí# $
}
ìì 
var
ïï 
	lobbyView
ïï 
=
ïï 
new
ïï 
	LobbyView
ïï  )
(
ïï) *
)
ïï* +
;
ïï+ ,
	lobbyView
ññ 
.
ññ 
Show
ññ 
(
ññ 
)
ññ 
;
ññ 
}
óó 	
private
ôô 
void
ôô  
ExecuteCloseWindow
ôô '
(
ôô' (
object
ôô( .
	parameter
ôô/ 8
)
ôô8 9
{
öö 	
if
õõ 
(
õõ 
	parameter
õõ 
is
õõ 
Window
õõ #
)
õõ# $
{
úú 
Application
ùù 
.
ùù 
Current
ùù #
.
ùù# $
Shutdown
ùù$ ,
(
ùù, -
)
ùù- .
;
ùù. /
}
ûû 
}
üü 	
private
°° 
void
°° #
ExecuteMaximizeWindow
°° *
(
°°* +
object
°°+ 1
	parameter
°°2 ;
)
°°; <
{
¢¢ 	
if
££ 
(
££ 
	parameter
££ 
is
££ 
Window
££ #
window
££$ *
)
££* +
{
§§ 
window
•• 
.
•• 
WindowState
•• "
=
••# $
window
••% +
.
••+ ,
WindowState
••, 7
==
••8 :
WindowState
••; F
.
••F G
	Maximized
••G P
?
••Q R
WindowState
••S ^
.
••^ _
Normal
••_ e
:
••f g
WindowState
••h s
.
••s t
	Maximized
••t }
;
••} ~
}
¶¶ 
}
ßß 	
private
©© 
void
©© #
ExecuteMinimizeWindow
©© *
(
©©* +
object
©©+ 1
	parameter
©©2 ;
)
©©; <
{
™™ 	
if
´´ 
(
´´ 
	parameter
´´ 
is
´´ 
Window
´´ #
window
´´$ *
)
´´* +
{
¨¨ 
window
≠≠ 
.
≠≠ 
WindowState
≠≠ "
=
≠≠# $
WindowState
≠≠% 0
.
≠≠0 1
	Minimized
≠≠1 :
;
≠≠: ;
}
ÆÆ 
}
ØØ 	
private
±± 
void
±± 
ExecuteReturn
±± "
(
±±" #
object
±±# )
	parameter
±±* 3
)
±±3 4
{
≤≤ 	
if
≥≥ 
(
≥≥ 
	parameter
≥≥ 
is
≥≥ 
Window
≥≥ #
currentWindow
≥≥$ 1
)
≥≥1 2
{
¥¥ 
var
µµ 
welcomeView
µµ 
=
µµ  !
new
µµ" %
WelcomeView
µµ& 1
(
µµ1 2
)
µµ2 3
;
µµ3 4
welcomeView
∂∂ 
.
∂∂ 
Show
∂∂  
(
∂∂  !
)
∂∂! "
;
∂∂" #
currentWindow
∑∑ 
.
∑∑ 
Close
∑∑ #
(
∑∑# $
)
∑∑$ %
;
∑∑% &
}
∏∏ 
}
ππ 	
}
∫∫ 
}ªª 